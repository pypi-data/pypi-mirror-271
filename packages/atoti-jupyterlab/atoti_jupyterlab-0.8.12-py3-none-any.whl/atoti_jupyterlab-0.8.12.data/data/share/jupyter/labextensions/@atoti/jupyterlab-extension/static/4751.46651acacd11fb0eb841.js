/*! For license information please see 4751.46651acacd11fb0eb841.js.LICENSE.txt */
(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[4751,806,8385],{41958:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var o=n(31529),r=n(93345),l=n(20199),i=n(12045);const s={isLoading:!0};function a(e,t){const n=(0,i.hW)(e);(0,l.useAsyncAbortable)((async e=>{if(!n?.drillthroughColumns[t])return n?.loadDrillthroughColumns(t,{signal:e})}),[n,t]);const{drillthroughColumns:a,isLoading:u,error:d}=(0,r.useSyncExternalStore)((e=>n?.subscribeToDrillthroughColumns(t,e)??o.noop),(()=>n?.drillthroughColumns[t]??s)),c=(0,r.useMemo)((()=>a?.filter((({visible:e})=>e))),[a]);return e?[c,{isLoading:u,error:d}]:void 0}},75539:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var o=n(31529),r=n(93345),l=n(12045);function i({serverKey:e,queryId:t}){const n=(0,l.hW)(e);return(0,r.useSyncExternalStore)(n&&t?e=>n.subscribeToQuery(t,e):()=>o.noop,(()=>n&&t?n.getQuery(t):void 0))}},51728:(e,t,n)=>{"use strict";n.d(t,{H:()=>l});var o=n(90147),r=n(37236);function l(e,t){return(0,o.produce)(e,(n=>{const o=t.key||(0,r.z)(e.pagesOrder);n.pagesOrder.splice(t.index??n.pagesOrder.length,0,o),n.pages[o]=t.page}))}},37236:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var o=n(31529);const r=e=>parseInt(e.substring(2));function l(e){const t=(0,o.maxBy)(e,r);return`p-${t?r(t)+1:0}`}},23877:(e,t,n)=>{"use strict";function o(e){return"dimension"===e.type}n.d(t,{t:()=>o})},8898:(e,t,n)=>{"use strict";function o(e){return"hierarchy"===e.type}n.d(t,{y:()=>o})},45271:(e,t,n)=>{"use strict";function o(e){return"level"===e.type}n.d(t,{r:()=>o})},78002:(e,t,n)=>{"use strict";function o({dimension:e,hierarchy:t,level:n}){if(n&&t)return{dimensionName:e.name,hierarchyName:t.name,levelName:n.name};if(t){const n=t.slicing?0:1;return o({dimension:e,hierarchy:t,level:Object.values(t.levels)[n]})}const r=e.defaultHierarchy;return o({dimension:e,hierarchy:e.hierarchies[r]})}n.d(t,{a:()=>o})},68169:(e,t,n)=>{"use strict";n.d(t,{M:()=>R});var o=n(63612),r=n(77593),l=n(63259),i=n(93345),s=n(12166),a=n(21900),u=n(24614),d=n(21757),c=n(75539),m=n(54987),f=n(47664),h=n(84805),p=n(8822),g=n(10182),y=n(8733),b=n(57418),w=n(63028),v=n(31931),C=n(79360),x=n(21519),S=n(60125);function O(e,{type:t,payload:{mdxString:n,dashboardState:o,pageKey:r,leafKey:l,widgetState:i,widgetPlugin:s,dataModels:a,lastUsedCube:u}}){if("updateMdxString"===t)try{const e=(0,y.q)(n),{widgetStateDerivedFromMdx:t,dashboardStateDerivedFromMdx:d}=(0,S.deriveStateFromMdx)({mdx:e,dashboardState:o,pageKey:r,leafKey:l,dataModels:a,widgetState:i,widgetPlugin:s,lastUsedCube:u,shouldRemoveFiltersFromQuery:!1});return{mdxString:n,widgetStateDerivedFromMdx:t,dashboardStateDerivedFromMdx:d}}catch(e){return{mdxString:n,error:(0,C.$)(e)}}}const R=e=>{const{widgetState:t,queryId:n,onWidgetChange:y}=e,[C]=(0,u.v)("lastUsedCube"),{dashboardState:R,leafKey:I,pageKey:H,onDashboardChange:M}=(0,a.M)(e)?e:{},F=(0,S.useSwitchedWidgetState)(t,n),[N]=(0,v.useWidgetPlugins)([F.widgetKey]),Y=(0,d.W)(),{formatMessage:z}=(0,s.useIntl)(),T=F.serverKey,D=(0,c.I)({serverKey:T,queryId:n}),[E,W]=(0,i.useReducer)(O,{mdxString:D?.mdx}),{cube:P,dataModel:k}=(0,i.useMemo)((()=>{const e=E.widgetStateDerivedFromMdx??F,t=e.query.mdx?(0,b.z)(e.query.mdx):void 0;return(0,S.getTargetCube)({serverKey:e.serverKey,dataModels:Y,cubeName:t,lastUsedCube:C})}),[E.widgetStateDerivedFromMdx,F,Y,C]),A=D?.context?.["mdx.casesensitive"]??P.contextValues["mdx.casesensitive"]?.value,$=void 0===A||"true"===A,j=(0,i.useCallback)((e=>{W({type:"updateMdxString",payload:{mdxString:e,dashboardState:R,pageKey:H,leafKey:I,widgetState:F,widgetPlugin:N,dataModels:Y,lastUsedCube:C}})}),[R,H,I,F,N,Y,C]),K=D?.mdx??"";(0,i.useEffect)((()=>{j(K)}),[K,j]);const L=(0,i.useCallback)((()=>{E.error||(M&&E.dashboardStateDerivedFromMdx?M(E.dashboardStateDerivedFromMdx):E.widgetStateDerivedFromMdx&&y(E.widgetStateDerivedFromMdx))}),[E.widgetStateDerivedFromMdx,E.dashboardStateDerivedFromMdx,y,M,E.error]),_=(0,i.useCallback)((()=>{j(K)}),[K,j]),V=(0,i.useMemo)((()=>E.mdxString!==K),[E.mdxString,K]),[B,q]=(0,i.useMemo)((()=>{if(!V)return[!1,z({id:"aui.mdxEditor.hover.noChanges"})];if(E.error){let e;if(E.error instanceof S.InvalidMdxTypeError)e=z({id:"aui.mdxEditor.hover.invalidMdxType"});else if(E.error instanceof m.N){const{cubeName:t,availableCubeNames:n}=E.error;e=`${z({id:"aui.error.cubeNotFound"})}: "${t}". ${z({id:"aui.mdxEditor.hover.availableCubesAre"})}: ${JSON.stringify(n)}`}else if(E.error instanceof f.O){const{dimensionName:t,cubeName:n}=E.error;e=`${z({id:"aui.mdxEditor.hover.dimensionNotFound"})} ${z({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${n}": "${t}".`}else if(E.error instanceof h.h){const{hierarchyCoordinates:t,cubeName:n}=E.error;e=`${z({id:"aui.mdxEditor.hover.hierarchyNotFound"})} ${z({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${n}": "${(0,w.hD)(t.dimensionName,t.hierarchyName)}".`}else if(E.error instanceof p.W){const{levelCoordinates:t,cubeName:n}=E.error;e=`${z({id:"aui.mdxEditor.hover.levelNotFound"})} ${z({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${n}": "${(0,w.hD)(t.dimensionName,t.hierarchyName,t.levelName)}".`}else E.error instanceof S.MdxInconsistentWithDashboardOrPageFiltersError?e=z({id:"aui.mdxEditor.hover.filtersChanged"}):(e=z({id:"aui.mdxEditor.hover.invalidMdxQuery"}),console.error(E.error));return[!1,e]}return[!0,void 0]}),[V,E.error,z]);return(0,o.FD)("div",{css:r.css`
        height: 100%;
        display: flex;
        margin-right: 4px;
        flex-direction: column;
      `,children:[(0,o.Y)("div",{style:{height:"calc(100% - 28px)"},children:(0,o.Y)(g.K,{type:"mdx",value:E.mdxString,onChange:j,dataModel:k,cube:P,isCaseSensitive:$})}),(0,o.FD)("div",{css:r.css`
          text-align: right;
          margin-right: 14px;
          height: ${28}px;
        `,children:[(0,o.Y)(l.Button,{disabled:!V,onClick:_,children:z({id:"aui.mdxEditor.reset"})})," ",(0,o.Y)(x.Tooltip,{title:q,children:(0,o.Y)(l.Button,{type:"primary",disabled:!B,onClick:L,children:z({id:"aui.mdxEditor.submit"})})})]})]})}},70703:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var o=n(63612);const r=({content:e})=>(0,o.Y)("div",{css:{display:"table"},children:e.map((({left:e,right:t},n)=>(0,o.FD)("div",{css:{display:"table-row"},children:[(0,o.Y)("div",{css:{display:"table-cell",textAlign:"right",paddingRight:8,color:"#c0c0c0"},children:e}),(0,o.Y)("div",{css:{display:"table-cell",textAlign:"left",fontWeight:600,overflowWrap:"anywhere"},children:t})]},n)))})},40432:(e,t,n)=>{"use strict";n.d(t,{D:()=>T});var o=n(63612),r=n(55857),l=n(63259),i=n(90147),s=n(31529),a=n(93345),u=n(12166),d=n(62247),c=n(31931),m=n(49318),f=n(21519),h=n(60125);const p=e=>{const{formatMessage:t}=(0,u.useIntl)();return(0,o.FD)("div",{css:{display:"grid"},children:[(0,o.Y)(f.Text,{small:!0,strong:!0,css:{paddingTop:5,paddingBottom:5},children:t({id:"aui.dataVisualization.attribute.align"})}),(0,o.FD)(l.Radio.Group,{value:e.justifyContent,onChange:t=>{e.onJustifyContentChange({justifyContent:t.target.value})},children:[(0,o.Y)(l.Radio.Button,{value:"left",children:(0,o.Y)(r.AlignLeftOutlined,{})}),(0,o.Y)(l.Radio.Button,{value:"center",children:(0,o.Y)(r.AlignCenterOutlined,{})}),(0,o.Y)(l.Radio.Button,{value:"right",children:(0,o.Y)(r.AlignRightOutlined,{})})]})]})};var g=n(42579);const y=n.n(g)()("2022-02-18"),b=["YYYY-MM-DD","YYYY/MM/DD","M/D","M/D/YY","MM/DD/YY","MM/DD/YYYY","DD-MMMM-YY","DD-MMMM-YYYY","dddd, MMM DD, YYYY","MMM DD, YYYY"].map((e=>({value:e,label:y.format(e)}))),w=({disabled:e,value:t=b[0].value,fieldName:n,onChange:r=(()=>{})})=>{const{formatMessage:i}=(0,u.useIntl)();return(0,o.FD)("div",{style:{display:"flex",flexDirection:"column",marginBlock:12},children:[(0,o.Y)(f.Text,{small:!0,strong:!0,children:i({id:"aui.dataVisualization.dateFormat"})}),(0,o.Y)(f.Tooltip,{placement:"right",trigger:e?["hover"]:[],title:n&&i({id:"aui.formatting.dateFormattingOnlyApplyToTimeFields"},{fieldName:n}),children:(0,o.Y)(l.Select,{"aria-label":"Date format select",disabled:e,style:{marginTop:6},value:t,options:b,onChange:e=>r(e)})})]})};var v=n(79769),C=n(34776),x=n(47997);const S={eq:"=",neq:"≠",lt:"<",gt:">",lte:"<=",gte:">="},O=e=>{const{formatMessage:t}=(0,u.useIntl)(),n=(0,m.DP)(),{style:r,...l}=e.measureConditionalStyle,i=Object.keys(l);let s="";switch(i.length){case 1:const e=l[i[0]];s=`${t({id:"aui.if"})} ${S[i[0]]} ${e}`;break;case 2:s=`${t({id:"aui.if"})} ${void 0!==l.gt?S.gt:S.gte} ${l.gt??l.gte} ${t({id:"aui.and"})} ${void 0!==l.lt?S.lt:S.lte} ${l.lt??l.lte}`;break;default:s=t({id:"aui.default"})}const a="background"===e.colorType&&r.backgroundColor?r.backgroundColor:n.backgroundColor;return(0,o.Y)(x.o,{caption:s,sampleStyle:{...r,color:"text"===e.colorType?r.backgroundColor:n.textColor,backgroundColor:e.colorOpacity&&r.backgroundColor?(0,C.j)(r.backgroundColor,e.colorOpacity):a},sampleLabel:"123"})},R=(0,a.lazy)((()=>n.e(539).then(n.bind(n,539)))),I=({colorOpacity:e,defaultStyle:t,conditionalStyles:n,onMeasureConditionalStyleChanged:d,isDisabled:c,isApplyToRowCheckboxVisible:m,colorType:p,selectedMeasureName:g,isApplyToRowChecked:y,onIsApplyToRowChanged:b,widgetState:w,widgetPlugin:C})=>{const{formatMessage:x}=(0,u.useIntl)(),[S,I]=(0,a.useState)(),H=(0,a.useMemo)((()=>[{style:t||{}},...n||[]]),[n,t]),M=(0,a.useMemo)((()=>{const t="conditionalStyle",n=H.map(((n,l)=>{const i=(0,s.omit)(n,"style"),a=0===Object.keys(i).length;return{icons:c?null:(0,o.Y)(r.EditOutlined,{onClick:()=>{I({sectionName:t,tileIndex:l})}}),caption:(0,o.Y)(O,{colorOpacity:e,measureConditionalStyle:n,colorType:p}),isDisabled:c,isRemovable:!c,dragItem:!a&&!c&&{type:"CONDITIONAL_MEASURE_STYLE_IN_WIZARD",fromPosition:{tileIndex:l}}}}));return{[t]:{caption:x({id:"aui.conditionalStyle.title"}),tiles:n,isAddButtonVisible:!c}}}),[H,x,c,e,p]),F=(0,a.useMemo)((()=>function({selectedMeasureName:e,widgetPlugin:t,widgetState:n}){if(!n||!t||!(0,h.isDataVisualizationWidgetState)(n,t))return;const{mapping:o}=n;for(const e in o){const n=t.attributes?.[e]?.role;if(n)for(const t of o[e]){if("secondaryOrdinal"===n&&((0,h.isHierarchyInMapping)(t)||(0,h.isCompositeHierarchyInMapping)(t)))return"hierarchiesOnColumns";if("primaryOrdinal"===n&&(0,h.isAllMeasuresInMapping)(t))return"measuresNotOnColumns"}}const r=n.style?.tupleImpactingRowStyle;return r&&r?.[0].namePath[0]!==e?"conditionalFormattingOfAnotherMeasureAlreadyApplied":void 0}({selectedMeasureName:g,widgetPlugin:C,widgetState:w})),[w,C,g]),N=S&&"tileIndex"in S?H[S.tileIndex]:void 0;return(0,o.FD)(f.Tooltip,{trigger:c?["hover"]:[],placement:"right",title:x({id:"aui.formatting.conditionalStylesOnlyApplyToNumericFields"},{fieldName:g}),children:[(0,o.Y)(v.s,{canDrop:({toPosition:{tileIndex:e}})=>0!==e,dragItemTypes:["CONDITIONAL_MEASURE_STYLE_IN_WIZARD"],sections:M,onTileRemoved:({tileIndex:e})=>{d(0===e?{default:void 0}:{conditional:(0,i.produce)(n,(t=>{const n=e-1;t?.splice(n,1)}))})},popoverProps:{position:S,innerHeight:S&&"tileIndex"in S&&0===S.tileIndex?230:330,title:x({id:"aui.conditionalStyle."+(void 0!==N?"edit":"add")}),content:(0,o.Y)(a.Suspense,{fallback:(0,o.Y)("div",{style:{display:"flex",height:330,width:327,justifyContent:"center",alignItems:"center"},children:(0,o.Y)(l.Spin,{})}),children:(0,o.Y)(R,{colorOpacity:e,onCancel:()=>I(void 0),onSubmitDefaultStyle:e=>{d({default:e}),I(void 0)},onSubmit:e=>{d(S&&"tileIndex"in S?{conditional:(0,i.produce)(n,(t=>{t[S.tileIndex-1]=e}))}:{conditional:[...n||[],e]}),I(void 0)},colorType:p,conditionalStyle:N})})},onAddButtonClicked:()=>I({sectionName:"conditionalStyle"}),onTileMoved:({dragItem:e,toPosition:{tileIndex:o}})=>{d({default:t,conditional:(0,i.produce)(n,(t=>{const n=e.fromPosition.tileIndex-1,r=Math.max(0,o-1),[l]=t.splice(n,1),i=r>n?r-1:r;t.splice(i,0,l)}))})}}),m&&(0,o.Y)(f.Tooltip,{trigger:c||void 0===F?[]:["hover"],placement:"right",title:x({id:"aui.conditionalStyle.applyToFullRowDisabled"},{cause:F}),children:(0,o.Y)("div",{children:(0,o.Y)(l.Checkbox,{onClick:()=>{b(!y)},checked:y,disabled:c||void 0!==F,children:x({id:"aui.conditionalStyle.applyToFullRow"})})})})]})};var H=n(26353);const M=["number","percentage","thousands","millions","billions"],F=e=>{const{formatMessage:t}=(0,u.useIntl)(),n=e.numberOfDecimals??2,r=e.numberFormat??"number";return(0,o.Y)(a.Fragment,{children:(0,o.FD)("div",{style:{display:"flex",width:"100%",marginTop:6,marginBottom:6},children:[(0,o.Y)(f.Tooltip,{placement:"right",trigger:e.isDisabled?["hover"]:[],title:t({id:"aui.formatting.numberFormattingOnlyApplyToNumericFields"},{fieldName:e.fieldName}),children:(0,o.Y)(l.Select,{style:{flexGrow:1,marginRight:3},value:r,onChange:t=>{e.onMeasureNumberFormatChanged({numberFormat:t})},disabled:e.isDisabled,"aria-label":"Number format select",children:M.map((e=>(0,o.Y)(l.Select.Option,{value:e,children:t({id:`aui.formatting.numberFormat.${e}`})},e)))})}),(0,o.Y)(l.Button,{disabled:e.isDisabled||0===n,icon:(0,o.Y)(H.IconRemoveDecimal,{}),onClick:()=>{e.onMeasureNumberFormatChanged({numberOfDecimals:Math.max(0,n-1)})},"aria-label":"Remove decimal button",style:{marginRight:3}}),(0,o.Y)(l.Button,{icon:(0,o.Y)(H.IconAddDecimal,{}),onClick:()=>{e.onMeasureNumberFormatChanged({numberOfDecimals:Math.max(0,n+1)})},"aria-label":"Add decimal button",disabled:e.isDisabled})]})})};var N=n(73084),Y=n(15098);function z(e){return("level"===e.type||"drillthroughHeader"===e.type)&&e.isTime}const T=e=>{const{formatMessage:t}=(0,u.useIntl)(),{fieldOptions:n}=e,g=e.colorType??"background",[y]=(0,c.useWidgetPlugins)([e.widgetState.widgetKey]),b=(0,h.useWidgetName)(e.widgetState),v=(0,m.DP)(),{cube:C}=(0,h.useCube)(e.widgetState),x=!y?.attributes||Object.values(y?.attributes??{}).some((({role:e})=>"numeric"===(0,h.getAttributeType)(e))),[S,O]=(0,a.useState)(n[0]??{}),R=e.widgetState.style??{},H=R.measures?.[S.value],M=(0,a.useMemo)((()=>{if("measure"!==S.type||!S.isNumeric)return;const e=(0,d.D)(S.value,C);return e&&(e=>"double"===e.type?2:0)(e)}),[S,C]),T=t=>{e.onWidgetChange((0,i.produce)(e.widgetState,(e=>{(0,s.set)(e,["style","measures",S.value],{...R.measures?.[S.value],...t}),function(e){const t=e.style?.measures;void 0!==t&&(Object.keys(t).forEach((n=>{const o=t[n];void 0!==o&&(Object.entries(o).forEach((([e,t])=>{(null==t||(0,s.isObject)(t)&&(0,s.isEmpty)(t))&&delete o[e]})),(0,s.isEmpty)(o)&&delete e.style.measures[n])})),(0,s.isEmpty)(t)&&delete e.style.measures),void 0!==e.style&&(0,s.isEmpty)(e.style)&&delete e.style}(e)})))};if((0,a.useMemo)((()=>(0,Y.h)(b,R.measures)),[b,R.measures]),!x)return null;const D=Boolean("measure"===S.type&&S.value&&S.value===e.widgetState.style?.tupleImpactingRowStyle?.[0].namePath[0]);return(0,o.FD)("div",{style:{borderBottom:`1px solid ${v.grayScale[4]}`,marginBottom:5,paddingTop:4},children:[(0,o.Y)(f.Text,{small:!0,strong:!0,children:t({id:"aui.dataVisualization.fields"})}),(0,o.Y)(l.Select,{"aria-label":"Field select",style:{width:"100%",marginTop:6},value:S,options:n,onChange:(e,t)=>{O((0,s.isArray)(t)?t[0]:t)},dropdownRender:e=>n.length>0?e:(0,o.FD)("div",{css:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:20},children:[(0,o.Y)(r.SearchOutlined,{}),(0,o.Y)("div",{children:t({id:"aui.formatting.noFieldInMapping"})})]}),showSearch:!0}),(0,o.FD)("div",{children:[(0,o.Y)(F,{numberFormat:H?.numberFormat,numberOfDecimals:H?.numberOfDecimals??M,isDisabled:!S.isNumeric,onMeasureNumberFormatChanged:T,fieldName:S.value}),!1!==e.isAlignmentVisible&&(0,o.Y)(p,{onJustifyContentChange:T,justifyContent:H?.justifyContent}),(0,o.Y)(w,{disabled:!z(S),value:z(S)?R.measures?.[S.value]?.dateFormat:void 0,fieldName:S.value,onChange:t=>{z(S)&&e.onWidgetChange((0,i.produce)(e.widgetState,(e=>{(0,s.set)(e,["style","measures",S.value,"dateFormat"],t)})))}}),e.isMeasureConditionalStyleVisible&&(0,o.Y)("div",{style:{paddingTop:4},children:(0,o.Y)(I,{colorOpacity:e.colorOpacity,defaultStyle:H?.default,conditionalStyles:H?.conditional,onMeasureConditionalStyleChanged:T,selectedMeasureName:S.value,isDisabled:!S.isNumeric,colorType:g,isApplyToRowCheckboxVisible:e.isApplyToRowCheckboxVisible,isApplyToRowChecked:D,onIsApplyToRowChanged:()=>{const t=S.value,n=(0,i.produce)(e.widgetState,(e=>{if(D)delete e.style?.tupleImpactingRowStyle;else{const n=[{dimensionName:"Measures",hierarchyName:"Measures",namePath:[t]}];(0,s.set)(e,["style","tupleImpactingRowStyle"],n)}}));e.onWidgetChange(n)},widgetState:e.widgetState,widgetPlugin:y})}),(0,o.Y)(N.F,{isDisabled:(0,s.isEmpty)(R.measures),onResetStyle:()=>{e.onWidgetChange((0,i.produce)(e.widgetState,(e=>{delete e.style?.measures,(0,s.isEmpty)(e.style)&&delete e.style})))},caption:t({id:"aui.formatting.resetFieldsStyle"})})]})]})}},73084:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var o=n(63612),r=n(63259),l=n(12166),i=n(21519);const s=({caption:e,isDisabled:t,onResetStyle:n})=>{const{formatMessage:s}=(0,l.useIntl)();return(0,o.Y)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,o.Y)(i.Tooltip,{placement:"right",trigger:t?["hover"]:[],title:s({id:"aui.style.noStyleConfigured"}),children:(0,o.Y)(r.Button,{style:{padding:0},type:"link",onClick:n,disabled:t,children:(0,o.Y)("span",{style:t?{}:{textDecoration:"underline"},children:e})})})})}},38479:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});var o=n(63612),r=n(63259),l=n(49318),i=n(21519);const s=e=>{const{label:t,onChange:n,checked:s}=e,a=(0,l.DP)();return(0,o.FD)("div",{css:{display:"flex",justifyContent:"space-between",margin:"8px auto",alignItems:"center",paddingTop:4},children:[(0,o.Y)(i.Text,{small:!0,strong:!0,children:t}),(0,o.Y)(i.Tooltip,{trigger:e.disabled?["hover"]:[],placement:"top",title:e.tooltipText,children:(0,o.Y)(r.Switch,{checked:s,onChange:n,disabled:e.disabled,style:{backgroundColor:e.disabled?a.grayScale[6]:void 0}})})]})}},47997:(e,t,n)=>{"use strict";n.d(t,{o:()=>l});var o=n(63612),r=n(49318);const l=e=>{const t=(0,r.DP)(),n={border:`solid 1px ${t.grayScale[4]}`,borderRadius:3,paddingLeft:5,paddingRight:5,marginRight:5,width:32,lineHeight:"14px",height:16,color:t.textColor,...e.sampleStyle};return(0,o.FD)("div",{style:{display:"flex",alignItems:"center"},children:[(0,o.Y)("div",{style:n,children:e.sampleLabel}),(0,o.Y)("div",{children:e.caption})]})}},15098:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var o=n(31529),r=n(44962);const l=["eq","neq","lt","lte","gt","gte"];function i(e,t){t&&Object.values(t).forEach((t=>{t.conditional&&t.conditional.forEach((t=>{!function(e,t){const n=(0,o.omit)(t,"style"),i=Object.keys(n);if(i.length>2||0===i.length)throw new r.F(e,"invalidNumberOfKeys",t);if(2===i.length&&(i.includes("eq")||i.includes("neq")))throw new r.F(e,"invalidPairOfKeys",t);i.forEach((o=>{if(!l.includes(o))throw new r.F(e,"invalidComparisonOperator",t);if(void 0===n[o])throw new r.F(e,"undefinedComparisonOperand",t)}))}(e,t)}))}))}},44962:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});class o extends Error{invalidStyle;widgetName;constructor(e,t,n){let o;switch(t){case"invalidNumberOfKeys":o="A measure conditional style can only contain 1 or 2 comparison operators.";break;case"invalidPairOfKeys":o="A pair of comparison operators can only be lt(e)/gt(e).";break;case"invalidComparisonOperator":o="A measure conditional style can only use the following comparison operators: eq, neq, lt, lte, gt, gte.";break;case"undefinedComparisonOperand":o="A comparison operand cannot be undefined."}super(`The widget contains an invalid measure conditional style. ${o}`),this.invalidStyle=n,this.widgetName=e}}},42847:(e,t,n)=>{"use strict";function o({measureStyle:e,valueFormattedByActivePivot:t,value:n,locale:o}){const{numberOfDecimals:r,numberFormat:l}=e??{};if(void 0===r&&void 0===l)return t;let i,s=n;switch(l){case"percentage":s=100*n,i="%";break;case"thousands":s=n/1e3,i="K";break;case"millions":s=n/1e6,i="M";break;case"billions":s=n/1e9,i="B"}const a=s.toLocaleString(o,void 0!==r?{minimumFractionDigits:r,maximumFractionDigits:r}:void 0);return i?`${a} ${i}`:a}n.d(t,{m:()=>o})},84515:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});var o=n(93345),r=n(11813),l=n(20038),i=n(62247),s=n(26689),a=n(63028),u=n(31931),d=n(60125);function c({queryId:e,widgetState:t}){const{serverKey:n}=t,{cube:c}=(0,d.useCube)(t),[m]=(0,u.useWidgetPlugins)([t.widgetKey]),{data:f}=(0,l.J)({serverKey:n,queryId:e});return(0,o.useMemo)((()=>{if(!f)return[];const e=[],n=(0,r.getCellSetMetaData)(f,c),o=t.mapping,l=[];for(const e in o){const t=m.attributes?.[e];t&&"numeric"===(0,d.getAttributeType)(t.role)&&o[e].forEach((e=>{(0,d.isKpiPropertyInMapping)(e)&&l.push(e)}))}return n?.measures.forEach((({measureName:t,isNumeric:n})=>{const o=(0,i.D)(t,c),r=l.find((e=>t===e.underlyingMeasureName));e.push({value:t,label:r?(0,d.getKpiPropertyCaption)(r):o?.caption??t,type:"measure",isNumeric:n})})),n?.levels.forEach((({isNumeric:t,dimensionName:n,hierarchyName:o,levelName:r})=>{const l=(0,s.r)({dimensionName:n,hierarchyName:o,levelName:r},c);e.push({value:(0,a.hD)(n,o,r),label:l.caption,type:"level",isNumeric:t,isTime:"TIME"===l.type})})),e}),[f,c,m.attributes,t.mapping])}},10182:(e,t,n)=>{"use strict";n.d(t,{K:()=>s});var o=n(63612),r=n(93345),l=n(1854);const i={mdx:(0,r.lazy)((()=>Promise.all([n.e(3849),n.e(7407),n.e(1368)]).then(n.bind(n,81847)))),json:(0,r.lazy)((()=>Promise.all([n.e(3849),n.e(7407),n.e(1306)]).then(n.bind(n,90417)))),markdown:(0,r.lazy)((()=>Promise.all([n.e(3849),n.e(7407),n.e(1782)]).then(n.bind(n,92613)))),base:(0,r.lazy)((()=>Promise.all([n.e(3849),n.e(7407),n.e(5274)]).then(n.bind(n,47407))))},s=(0,r.forwardRef)(((e,t)=>{const{type:n,...s}=e,a=(0,r.useMemo)((()=>i[n||"base"]),[n]);return(0,o.Y)(r.Suspense,{fallback:(0,o.Y)(l.W,{}),children:(0,o.Y)(a,{ref:t,...s})})}))},1854:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var o=n(63612),r=n(77593),l=n(63259);const i=()=>(0,o.Y)("div",{css:r.css`
      display: flex;
      width: 100%;
      height: 100%;
      justify-content: center;
      align-items: center;
    `,children:(0,o.Y)(l.Spin,{})})},37439:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var o=n(31529),r=n(37805),l=n(36643);function i(e){return e.columns?(0,o.compact)(e.columns.map((e=>{const t=(0,l.k)(e,"membervalue")?e.arguments[0]:e;return(0,r.E)(t)?t.identifiers[0].value:void 0}))):[]}},71305:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});const o=e=>({elementType:"CompoundIdentifier",type:"unknown",identifiers:e.map((e=>({elementType:"Identifier",value:e,quoting:"QUOTED"})))});function r(e){return[{elementType:"Function",name:"MemberValue",syntax:"Function",arguments:[o([e])]},{elementType:"Function",name:"Caption",syntax:"Function",arguments:[o([e])]}]}},34531:(e,t,n)=>{"use strict";n.d(t,{I:()=>l});var o=n(31529),r=n(71305);function l(e,{drillthroughColumnUniqueNames:t}){return{...e,columns:(0,o.flatMap)(t,r.G)}}},91315:(e,t,n)=>{"use strict";n.d(t,{NB:()=>i,n6:()=>s});var o=n(93345),r=n(52057);const l=(0,o.createContext)({}),i=l.Provider;function s(e){const t=(0,o.useContext)(l);return(0,o.useMemo)((()=>e.map((e=>void 0===e?void 0:(0,r.s)("cell-style",e,t)))),[t,e])}l.Consumer},6282:(e,t,n)=>{"use strict";n.d(t,{W0:()=>s,Y6:()=>i});var o=n(93345),r=n(52057);const l=(0,o.createContext)({}),i=l.Provider;function s(e){const t=(0,o.useContext)(l);return(0,o.useMemo)((()=>e.map((e=>void 0===e?void 0:(0,r.s)("cell",e,t)))),[t,e])}l.Consumer},4442:(e,t,n)=>{"use strict";n.d(t,{$:()=>P});var o=n(63612),r=n(31529),l=n(93345),i=n(12166),s=n(11813),a=n(2563),u=n(41958),d=n(6282),c=n(91315),m=n(31931),f=n(80152),h=n(11590),p=n(59275),g=n(37007),y=n(21519),b=n(60125),w=n(57008),v=n(26353),C=n(57745);const x=(0,l.forwardRef)(((e,t)=>{const n=e.sort?.orderMode,r=e.sort?.drillthroughColumnUniqueName,l=e.value===r&&n,i=l&&"ASC"===n?v.IconNumericAscendingOrder:l&&"DESC"===n?v.IconNumericDescendingOrder:void 0;return(0,o.FD)("div",{ref:t,style:{display:"flex",alignItems:"center",...e.style},children:[(0,o.Y)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",maxWidth:`calc(100% - ${l?"18px":"0px"})`,...!e.wrapText&&{whiteSpace:"nowrap"}},children:e.caption}),i?(0,o.Y)(i,{onClick:e.onSortChanged,style:{cursor:"pointer",marginLeft:"auto",height:"100%"}}):(0,o.Y)("div",{style:{height:"100%",marginLeft:6}})]})}));x.displayName="DefaultDrillthroughHeaderCell";const S=(0,C.R)(x),O=(0,l.forwardRef)(((e,t)=>{const{caption:n,columnIndex:r,headerValues:i,isRowFrozen:s,widgetState:u}=e,d=s,c=i?.[r]?.name,m=c&&u.style?.measures?.[c]?.justifyContent,f=(0,l.useMemo)((()=>m?{...e.style,justifyContent:m}:e.style),[e.style,m]),[h]=(0,a.i)("table.tooltips");if(d)return(0,o.Y)(S,{ref:t,...e});{const r=(u.style?.areTooltipsVisible??h)&&c&&n?[{left:c,right:n}]:void 0;return(0,o.Y)(w.Y,{ref:t,...e,style:f,tooltipContent:r})}}));O.displayName="DefaultDrillthroughCell";const R=(0,l.memo)(O);var I=n(77593),H=n(49318);const M=({style:e})=>{const t=(0,H.DP)();return(0,o.Y)("div",{style:e,children:(0,o.Y)("div",{css:{display:"flex",overflow:"hidden"},children:(0,r.range)(4).map((e=>(0,o.FD)("div",{children:[(0,o.Y)("div",{css:I.css`
                height: 28px;
                overflow: hidden;
                position: relative;
                width: 120px;
                border-right: 1px solid ${t.cellBorderColor};
              `,children:(0,o.Y)("div",{css:I.css`
                  padding: 4px 4px 3px;
                `})}),(0,o.Y)("div",{css:I.css`
                height: 196px;
                position: relative;
                border-top: 1px solid ${t.cellBorderColor};
                border-right: 1px solid ${t.cellBorderColor};
              `,children:(0,r.range)(7).map((e=>(0,o.Y)("div",{css:I.css`
                    font-size: 12px;
                    height: 28px;
                    left: 0px;
                    padding: 4px 4px 3px;
                    position: absolute;
                    top: ${28*e}px;
                    width: 120px;
                    overflow: hidden;
                    background-color: ${e%2==1?t.alternateCellBackgroundColor:"transparent"};
                    border-right: 1px solid ${t.cellBorderColor};
                  `},e)))})]},e)))})})};var F=n(88498),N=n(1790);function Y(e,t){const{headers:n,rows:o}=t,r=new Map,l={},i=n.length,{numberOfRows:s,numberOfColumns:a}=(0,N.Q)(o);e.forEach((({columnHeader:e,body:t})=>{if(t)for(let e=t.rows.from;e<=Math.min(t.rows.to,s-1);e++)for(let l=t.columns.from;l<=Math.min(t.columns.to,a-1);l++){let t=r.get(n[l]);t||(t={},r.set(n[l],t)),t[e]=o[e][l]}e&&n.slice(e.columns.from,Math.min(e.columns.to,i-1)+1).forEach(((t,n)=>{l[e.columns.from+n]=t}))}));const u=[];for(const e of r.entries()){const[t,n]=e;u.push({header:t,cells:Object.keys(n).map((e=>parseInt(e))).sort().map((e=>n[e]))})}return{headers:Object.keys(l).map((e=>parseInt(e))).sort().map((e=>l[e])),columns:u}}var z=n(42579),T=n.n(z),D=n(90147),E=n(42847);const W=e=>e,P=(0,b.withLoadingOverlay)((0,b.withoutIrrelevantRenders)((e=>{const{queryResult:t,widgetState:n,style:w,onChange:v,onSelectionChange:C}=e,{widgetKey:x,columnWidths:S,sort:O}=n,I=n.style?.measures,[H]=(0,a.i)("table.headers.wrap"),[N]=(0,a.i)("table.defaultSize"),z=n.style?.wrapHeaders??H,P=Boolean(n.style?.areRowNumbersVisible);(0,y.useCallOnLoadedAfterFirstProperRender)(e);const{locale:k}=(0,i.useIntl)(),{cube:A,serverKey:$}=(0,b.useCube)(n),[j]=(0,u.N)($,A.name),[K]=(0,m.useWidgetPlugins)([x]),[L]=(0,c.n6)([K.cellStyle]),[_]=(0,d.W0)([K?.cell]),V=(0,l.useCallback)((L?.withCellStyle??W)(_??R),[L]);V.displayName="DrillthroughCell";const B=t.data,{cells:q,headers:U}=(0,l.useMemo)((()=>B&&n.query.mdx&&j?(0,F.Q)(n.query.mdx,B?.result,j):{cells:void 0,headers:void 0}),[n.query,B,j]),Q=U&&U.length>0?1:0,G=(0,l.useMemo)((()=>(U||[]).map((({caption:e})=>({value:e,caption:e})))),[U]),X=(0,l.useMemo)((()=>{if(q&&O){const e=G.findIndex((e=>e?.caption===O.drillthroughColumnUniqueName));if(e>-1)return(0,r.orderBy)(q,[t=>t[e].value],["ASC"===O.orderMode?"asc":"desc"])}}),[q,O,G])??q,J=(0,l.useMemo)((()=>{const e=I&&X?(({bodyCells:e,columnsStyle:t,headerCells:n,locale:o})=>{const r=n.map(((e,t)=>({styledColumnIndex:t,value:e?.value}))).filter((({value:e})=>t[String(e)]));return(0,D.produce)(e,(e=>{e?.forEach((e=>{Object.values(r).forEach((({styledColumnIndex:n,value:r})=>{if(!r)return;const l=e[n],i=t[r],s=i.dateFormat?T()(l.value,{locale:o}).format(i.dateFormat):(0,E.m)({locale:o,measureStyle:i,value:Number(l.value),valueFormattedByActivePivot:l.caption});e[n]={caption:s,value:l.value}}))}))}))})({bodyCells:X,columnsStyle:I,headerCells:G,locale:k}):X;return[G,...e??[]]}),[G,I,X,k]),Z=(0,l.useMemo)((()=>S&&U?Object.entries(S).reduce(((e,[t,n])=>{const o=U.findIndex((e=>e?.caption===t));return-1!==o?{...e,[o]:n}:e}),{}):void 0),[U,S]);if(!t.isLoading&&t.error){if((0,s.isQueryErrorOfType)(t.error,"QueryTimeoutException"))throw new s.QueryTimeoutError(t.error);throw new s.MdxError(t.error)}const ee=(0,l.useCallback)((()=>{v({...n,sort:{...O,orderMode:"ASC"===O.orderMode?"DESC":"ASC"}})}),[n,O,v]),te=(0,y.useCurriedComponent)(V,{headerValues:U||[],onSortChanged:ee,sort:O,widgetState:n});te.displayName="DrillthroughTableCell";const ne=(0,l.useRef)([]),oe=(0,l.useRef)(void 0);(0,l.useEffect)((()=>{if(U&&X&&C){const e=oe.current,t=Y(ne.current,{headers:U,rows:X.map((e=>e.map((e=>e.value))))});(0,r.isEqual)(t,e)||(oe.current=t,C(t))}}),[U,C,X]);const re=U?e=>{v({...n,columnWidths:{...S,...Object.entries(e).reduce(((e,[t,n])=>({...e,[U[parseInt(t)].caption]:n})),{})}})}:void 0,le=U&&X?e=>{if(C){ne.current=e;const t=Y(e,{headers:U,rows:X.map((e=>e.map((e=>e.value))))});oe.current=t,C(t)}}:void 0,ie=(0,l.useRef)(null);return(0,l.useEffect)((()=>{async function e(e){if(!X||document.activeElement!==ie.current)return;e.preventDefault();const t=(0,f.O)(ne.current,{numberOfColumnsInBody:U?.length??0,numberOfFrozenColumns:0,numberOfFrozenRows:Q,numberOfRowsInBody:X.length});if(t.length>0){const n=t[0],o=(0,h.M)(n.columnHeader,(e=>`${G[e]?.value}`)),r=(0,h.M)(n.body,((e,t)=>`${X[t][e].value}`)),l=(0,p.R)({header:o,body:r});e.clipboardData?.setData("text/plain",l["text/plain"]),e.clipboardData?.setData("text/html",l["text/html"])}}return document.addEventListener("copy",e),()=>{document.removeEventListener("copy",e)}}),[X,G,U?.length,Q]),Q>0?(0,o.Y)(g.X,{cells:J,style:w,numberOfFrozenRows:Q,Cell:te,columnWidths:Z,onColumnsResized:re,onSelectionChanged:le,size:n.style?.size??N,wrapHeaders:z,areRowNumbersVisible:P}):(0,o.Y)(M,{style:e.style})})))},88498:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var o=n(31529),r=n(36643),l=n(37805);const i=(e,t,n)=>{const i=((e,t,n)=>{const o={};return(e.columns??[]).forEach(((e,i)=>{const s=(0,r.k)(e)?e.arguments[0]:e;if(!(0,l.E)(s)||void 0===t.find((e=>e.name===s.identifiers[0].value)))return;const a=s.identifiers[0].value;if(!n.some((({name:e})=>e===a)))return;o[a]||(o[a]={valueIndex:-1});const u=(0,r.k)(e)&&e.name.toLowerCase();"membervalue"!==u&&u?"caption"===u&&(o[a].captionIndex=i):o[a].valueIndex=i})),o})(e,t.headers,n);if((0,o.isEqual)(i,{}))return{cells:void 0,headers:void 0};const s=[];return Object.values(i).forEach((({captionIndex:e,valueIndex:n})=>{const o=t.headers[n];if(o){const n=void 0!==e?t.headers[e].caption:o.caption;s.push({...o,caption:n})}})),{cells:t.rows.map((e=>Object.values(i).map((({captionIndex:t,valueIndex:n})=>{const o=e[n];return{caption:void 0!==t?`${e[t]}`:"object"==typeof o?JSON.stringify(o):`${o}`,value:"number"==typeof o?o:JSON.stringify(o)}})))),headers:s}}},26771:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var o=n(31529);const r={int:"numeric",double:"numeric",long:"numeric",String:"regular",Object:"regular",LocalDate:"date",LocalDateTime:"date"};function l(e){return(0,o.mapValues)((0,o.groupBy)(e,(({type:e})=>r[e]??"regular")),(e=>(0,o.sortBy)(e,(e=>e.name.toLowerCase()))))}},56093:(e,t,n)=>{"use strict";n.d(t,{_:()=>X});var o=n(63612),r=n(68169),l=n(26353),i=n(60125),s=n(90147),a=n(93345),u=n(12166),d=n(41958),c=n(18685),m=n(78002),f=n(73007),h=n(23364),p=n(31517),g=n(23877),y=n(8898),b=n(45271),w=n(84055),v=n(24117),C=n(22957),x=n(37439),S=n(34531),O=n(21519),R=n(94829);const I=(e,t,n)=>{!e.children&&"drillthroughColumn"===e.type&&t.includes(e.uniqueName)?n.push(e.path):void 0!==e.children&&"drillthroughColumn"!==e.type&&(e.children.forEach((e=>{I(e,t,n)})),e.children.every((e=>n.includes(e.path)))&&n.push(e.path))};var H=n(74951),M=n(33435),F=n(53100),N=n(26771);const Y=["numeric","regular","date"],z=()=>!0,T=e=>{const{formatMessage:t}=(0,u.useIntl)(),{selectedColumnUniqueNames:n,onSelectedColumnUniqueNamesChange:r,drillthroughColumns:l}=e,i=function(e){const{formatMessage:t}=(0,u.useIntl)(),n=(0,N.h)(e),o=(0,a.useMemo)((()=>Y.map(((e,o)=>({type:e,caption:t({id:`aui.drillthrough.columnCategory.${e}`}),isFolder:!0,path:[0,o],children:n[e]?.map(((e,t)=>({caption:e.caption,type:"drillthroughColumn",uniqueName:e.name,isFolder:!1,path:[0,o,t]})))})))),[n,t]);return[{caption:t({id:"aui.selectAll"}),children:o,isFolder:!0,path:[0],type:"root"}]}(l),s=(0,a.useMemo)((()=>((e,t)=>{const n=[];return I(e,t,n),n})(i[0],n)),[i,n]),d=(0,a.useCallback)((e=>{const t=((e,t)=>{const n=(0,H.f)({caption:"root",children:[e]},t),o=[];return(0,M.h)(e,{forEachNode:e=>{"drillthroughColumn"===e.type&&(0,F.Q)(e.path,n)&&o.push(e.uniqueName)}}),o})(i[0],e);r(t)}),[i,r]);return(0,o.Y)(R.P,{style:{minHeight:0},value:i,isSearchVisible:!0,isSelectable:!0,searchPlaceholder:t({id:"aui.drillthrough.columnSearchPlaceholder"}),onSelectedPathsChange:d,hasCheckbox:z,selectedPaths:s})},D=["widget"];var E=n(4442),W=n(77593),P=n(42579),k=n.n(P),A=n(20038),$=n(40432),j=n(37159),K=n(21112),L=n(98615),_=n(5204),V=n(62083),B=n(49318),q=n(88498);const U=()=>{},Q="drillthrough-table",G={query:{updateMode:"once"},widgetKey:Q},X={key:Q,category:"misc",Component:function(e){const t=(0,a.memo)((t=>{const{serverKey:n,cube:r}=(0,i.useCube)(t.widgetState),{widgetState:l,queryId:s,isDeferred:a}=t,{dashboardState:u,pageKey:d}=(0,i.isWidgetInDashboard)(t)?t:{},c=(0,i.useWidgetQueryResult)({serverKey:n,queryId:s,widgetState:l,dashboardState:u,pageKey:d,cube:r,isDeferred:a});return(0,o.Y)(e,{...t,queryResult:c,onQueryRangesChanged:U})}));return t.displayName=`withDrillthroughQueryResult(${e.displayName})`,t}((0,i.withWidgetQueryErrorBoundary)(E.$)),contentEditor:e=>{const{cube:t,serverKey:n}=(0,i.useCube)(e.widgetState),{onWidgetChange:r,widgetState:l}=e,[R,{isLoading:I,error:H}]=(0,d.N)(n,t.name),M=(0,i.useFilters)(l),F=(0,i.useMdxInViews)({widgetState:l}),{query:N}=l,Y=N?.mdx??(0,i.getDefaultMdxDrillthrough)(t.name),z=(0,a.useMemo)((()=>Y&&R?(0,x.S)(Y):[]),[R,Y]),E=(0,a.useCallback)((e=>{if(!N)return;const t=(0,s.produce)(l,(t=>{t.query.mdx=(0,S.I)(Y,{drillthroughColumnUniqueNames:e}),t.serverKey=n}));r(t)}),[l,N,n,r,Y]),[W,P]=(0,a.useState)(),k=(0,a.useCallback)((e=>{const t=(0,s.produce)(l,(t=>{t.filters=e.widget}));r(t)}),[r,l]),A=({dragItem:e})=>(0,v.a)(e)||(0,f.x)(e)||(0,h.G)(e)||(0,p.f)(e),$=({dragItem:e,toPosition:o})=>{const{dimensionName:r,hierarchyName:l,levelName:i}=e.field,s=(0,c.Z)({dimensionName:r,hierarchyName:l,levelName:i,cube:t});P({serverKey:n,cubeName:t.name,hierarchyCoordinates:{dimensionName:r,hierarchyName:l},position:o,levelIndex:s,type:"create-filter"})};(0,w.z4)((e=>{if((0,g.t)(e)||(0,y.y)(e)||(0,b.r)(e)){const{dimensionName:t,hierarchyName:n,levelName:o}=(0,m.a)(e),r={fieldType:e.type,type:"DATA_TREE_FIELD",field:{dimensionName:t,hierarchyName:n,levelName:o}};A({dragItem:r})&&$({dragItem:r,toPosition:{sectionName:"widget",tileIndex:M.widget.length}})}}));const{formatMessage:j}=(0,u.useIntl)(),K=(0,a.useMemo)((()=>({widget:j({id:"aui.filters.section.widgetFilters"})})),[j]);return H?(0,o.Y)(O.CenteredTitle,{level:2,children:H.message}):I?(0,o.Y)(O.CenteredTitle,{level:2,children:j({id:"aui.dataVisualization.loadingDrillthroughColumns"})}):R?(0,o.FD)("div",{style:{height:"100%",display:"flex",flexDirection:"column",flexGrow:1,minHeight:0},children:[(0,o.Y)("div",{style:{flexGrow:1,minHeight:0},children:(0,o.Y)(T,{drillthroughColumns:R,onSelectedColumnUniqueNamesChange:E,selectedColumnUniqueNames:z})}),(0,o.Y)("div",{style:{flexShrink:0,justifySelf:"flex-end"},children:(0,o.Y)(C.l,{canDrop:A,dragItemTypes:["DATA_TREE_FIELD","FIELD_IN_WIZARD","FILTER_IN_WIZARD"],serverKey:n,cubeName:t.name,filters:M,onFiltersChange:k,sectionCaptions:K,popoverConfiguration:W,onPopoverConfigurationChanged:P,mdxInViews:F,visibleSectionNames:D,onTileMoved:$})})]}):(0,o.Y)(O.CenteredTitle,{level:2,children:j({id:"aui.dataVisualization.missingDrillthroughColumns"})})},filtersEditor:e=>(0,o.Y)(i.FiltersEditor,{...e,queryType:"drillthrough"}),queryEditor:r.M,styleEditor:e=>{const{queryId:t,widgetState:n}=e,{query:{mdx:r}}=n,{cube:l,serverKey:s}=(0,i.useCube)(n),{data:c}=(0,A.J)({serverKey:s,queryId:t}),{locale:m}=(0,u.useIntl)(),f=(0,B.DP)(),[h]=(0,d.N)(s,l.name),p=(0,a.useMemo)((()=>{if(!c||!r||!h)return[];const{cells:e,headers:t}=(0,q.Q)(r,c.result,h);return(t??[]).map((({name:t,caption:n},o)=>{const r=(e??[]).every((e=>!isNaN(e[o].value)));return{value:t,label:n,type:"drillthroughHeader",isNumeric:r,isTime:!r&&(e??[]).every((e=>k()(e[o].value,{locale:m}).isValid()))}}))}),[c,h,r,m]);return(0,o.FD)(a.Fragment,{children:[(0,o.FD)("div",{css:W.css`
          border-bottom: 1px solid ${f.grayScale[4]};
          padding-bottom: 4px;
        `,children:[(0,o.Y)(j.j,{...e}),(0,o.Y)(K.S,{...e}),(0,o.Y)(L.X,{...e}),(0,o.Y)(_.Y,{...e})]}),(0,o.Y)($.D,{...e,colorOpacity:V.$,fieldOptions:p,isAlignmentVisible:!0,isMeasureConditionalStyleVisible:!0})]})},Icon:l.IconBusinessDrillthrough,initialState:G,translations:{"en-US":{key:"Drillthrough",defaultName:"New drillthrough"},"fr-FR":{key:"Drillthrough",defaultName:"Nouveau drillthrough"}}}},57008:(e,t,n)=>{"use strict";n.d(t,{Y:()=>u});var o=n(63612),r=n(93345),l=n(70703),i=n(21519),s=n(57745);const a=(0,r.forwardRef)((({caption:e,className:t,style:n,tooltipContent:r},s)=>{const a=(0,o.Y)("div",{className:t,style:n,ref:s,"data-testid":"aui-cell",children:e});return r?(0,o.Y)(i.Tooltip,{title:(0,o.Y)(l.U,{content:r}),mouseEnterDelay:.3,placement:"right",overlayStyle:{maxWidth:350},children:a}):a}));a.displayName="DefaultTableCell";const u=(0,r.memo)((0,s.R)(a))},5204:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var o=n(63612),r=n(90147),l=n(12166),i=n(38479);const s=e=>{const{style:t}=e.widgetState,{formatMessage:n}=(0,l.useIntl)(),s=Boolean(t?.areRowNumbersVisible);return(0,o.Y)(i.u,{label:n({id:"aui.dataVisualization.rowNumbers"}),checked:s,onChange:()=>{const t=(0,r.produce)(e.widgetState,(e=>{e.style={...e.style,areRowNumbersVisible:!s}}));e.onWidgetChange(t)}})}},37007:(e,t,n)=>{"use strict";n.d(t,{X:()=>be,a:()=>ye});var o=n(63612),r=n(90147),l=n(31529),i=n(93345),s=n(2563),a=n(49318),u=n(21519),d=n(57008);const c=e=>{const t=(0,a.DP)(),[n,r]=(0,i.useState)(!1),[l,s]=(0,i.useState)(e.position),u=(0,i.useRef)(l);return(0,i.useEffect)((()=>{s(e.position)}),[e.position]),(0,i.useEffect)((()=>{u.current=l}),[l]),(0,o.Y)("div",{className:"handle",onMouseDown:t=>{t.stopPropagation(),document.body.style.userSelect="none";const n=t.clientX;r(!0);const o=t=>{s(function(t){const o=t-n;return Math.max(l+o,e.minPosition)}(t.clientX))},i=()=>{document.body.style.userSelect="auto",document.body.removeEventListener("mousemove",o),document.body.removeEventListener("mouseup",i),r(!1),e.onResizeEnded(u.current)};document.body.addEventListener("mousemove",o),document.body.addEventListener("mouseup",i)},onDoubleClick:e.onDoubleClicked,css:{position:"absolute",cursor:"col-resize",height:"100%",width:4,background:n?t.primaryColor:"transparent",top:0,left:l,zIndex:1,":hover":{background:t.primaryColor}}})};var m=n(55857),f=n(12166);const h=({left:e,onClick:t,numberOfHiddenColumns:n})=>{const r=(0,a.DP)(),{formatMessage:l}=(0,f.useIntl)();return(0,o.Y)("div",{css:{cursor:"pointer",position:"absolute",top:0,left:e-15,height:14,width:26,zIndex:1,":hover":{border:`1px solid ${r.primaryColor}`,borderRadius:5,backgroundColor:r.white},display:"flex",justifyContent:"center",alignItems:"center"},onClick:t,onMouseDown:e=>{e.stopPropagation()},children:(0,o.Y)(u.Tooltip,{title:l({id:"aui.hiddenColumnsTooltip"},{numberOfHiddenColumns:n}),placement:"top",trigger:"hover",children:(0,o.FD)("span",{css:{width:24,height:12,display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,o.Y)(m.CaretLeftOutlined,{}),(0,o.Y)(m.CaretRightOutlined,{})]})})})};var p=n(77593);function g({columnIndex:e,columnWidths:t,defaultColumnWidth:n,hiddenColumns:o}){return o&&o.has(e)?0:t?.[e]??n}const y=e=>{const t=(0,a.DP)(),{range:n}=e;if(!n)return null;const{left:r,width:l,top:s,height:u}=(({columnWidths:e={},defaultColumnWidth:t,defaultRowHeight:n,hiddenColumns:o,range:r,rowHeights:l,numberOfRowsInGrid:i,numberOfColumnsInGrid:s})=>{const{columns:a,rows:u}=r,d=Math.min(u.to,i-1)+1;let c=0,m=0;for(let n=0;n<Math.min(a.to,s-1)+1;n++){const r=g({columnIndex:n,columnWidths:e,defaultColumnWidth:t,hiddenColumns:o});n<a.from?c+=r:m+=r}let f=0,h=0;if(l)for(let e=0;e<d;e++){const t=l[e]??n;e<u.from?f+=t:h+=t}else f=u.from*n,h=(d-u.from)*n;return{left:c,width:m,top:f,height:h}})({...e,range:n});return(0,o.Y)(i.Fragment,{children:(0,o.Y)("div",{css:p.css`
          background: ${t.selectionOverlayColor};
          position: absolute;
          top: ${s}px;
          left: ${r}px;
          height: ${u}px;
          width: ${l}px;
          pointer-events: none;
        `})})};var b=n(70541);const w={},v=e=>{const{Cell:t,cells:n,areColumnsResizable:r,areHiddenColumnGroupCaretsVisible:s,numberOfRows:a,numberOfColumns:u,defaultColumnWidth:d,defaultRowHeight:m,columnWidths:f=w,rowHeights:p,hiddenColumns:g,selection:v,style:C,getColumnProps:x,getRowProps:S,getRowStyle:O,isTotal:R,onColumnsShown:I,onColumnsWidthChanged:H,onColumnResizeHandleDoubleClicked:M,rowsRef:F,isVirtualized:N,contentWidth:Y}=e,z=N?e.visibleRange:{rows:{from:0,to:a-1},columns:{from:0,to:u-1}},T=N?e.cumulatedWidthOfColumnsScrolledPast:0,D=(0,i.useCallback)(((e,{left:r,rowIndex:l,columnIndex:i,rowProps:s,rowStyle:a,columnProps:u,parentTotalRowIndex:c})=>{const h=n[l][i],p=f[i]??d;return e.push((0,o.Y)(t,{className:"aui-table-cell",...h,rowIndex:l,columnIndex:i,left:r,width:p,parentTotalRowIndex:c,top:l*m,height:m,isVirtualized:N,style:a,...s[i],...u[l]},`cell-${l}-${i}`)),r+p}),[t,n,f,d,m,N]),{cellElements:E,rowElements:W,resizeHintPositions:P,hiddenColumnGroups:k}=(0,i.useMemo)((()=>{const e=[],t=[],n=[],o=[];let l=z.rows.from;for(let i=z.rows.from;i<=Math.min(a-1,z.rows.to);i++){N||t.push([]);let s=T;const a=S?S(i):[],d=O?.(i);R?.(i)&&(l=i);for(let c=z.columns.from;c<=Math.min(u-1,z.columns.to);c++){const u=x?x(c):[];if(g&&g.has(c)){if(0===i){const e=o.at(-1);e?.to===c-1?e.to=c:o.push({from:c,to:c,left:s})}}else s=D(N?e:t[i],{rowIndex:i,columnIndex:c,left:s,rowProps:a,columnProps:u,parentTotalRowIndex:l,rowStyle:d});r&&0===i&&n.push(s-3)}}return{rowElements:t,resizeHintPositions:n,cellElements:e,hiddenColumnGroups:o}}),[r,T,x,S,O,g,R,N,u,a,D,z.columns.from,z.columns.to,z.rows.from,z.rows.to]);return(0,o.FD)("div",{style:{cursor:"cell",position:"relative",width:Y,...!0===N&&{height:e.contentHeight},...C},children:[N?E:W.map(((t,n)=>(0,o.Y)("div",{css:{display:"flex",flexDirection:"row",...!e.wrapText&&{height:m}},ref:e=>{F?.(e,n)},children:t},`row-${n}`))),(v||[]).map(((e,t)=>(0,o.Y)(y,{range:e,defaultRowHeight:m,defaultColumnWidth:d,columnWidths:f,hiddenColumns:g,rowHeights:p,numberOfRowsInGrid:a,numberOfColumnsInGrid:u},t))),s&&k.map((({left:e,from:t,to:n},r)=>(0,o.Y)(h,{left:e,numberOfHiddenColumns:n-t+1,onClick:()=>((e,t)=>{I?.((0,l.range)(e,t+1))})(t,n)},r))),r&&P.map(((e,t)=>{const n=0===t?0:P[t-1],r=e-n;return(0,o.Y)(c,{position:e,minPosition:n+b.X,onDoubleClicked:()=>M?.(t),onResizeEnded:n=>{H?.({...f,[t]:r+n-e+3})}},t)}))]})},C=e=>{const t="small"===e.size?1:4,n=5-e.borderSize,r=e.height-(t+3);return(0,o.Y)("div",{style:{display:"flex",alignItems:"center",justifyContent:"end",fontSize:12,boxSizing:"border-box",padding:`${t}px ${n}px 3px 0px`,lineHeight:`${r}px`,width:e.width,position:"absolute",left:e.left,top:e.top,borderRight:`${e.borderSize}px solid ${e.borderColor}`,backgroundColor:e.backgroundColor},children:e.caption})};function x(e){return e.body?.columns.to===1/0}function S(e){return e.body?.columns.to===1/0&&e.body.rows.to===1/0}function O(e){return e.length>=1&&S(e[0])}function R(e,{rowIndex:t}){return!!O(e)||e.some((e=>{const n=e.body;return void 0!==n&&x(e)&&n.rows.from<=t&&n.rows.to>=t}))}C.displayName="RowNumberCell";const I=({selection:e,numberOfRows:t,defaultRowHeight:n,contentWidth:r,style:s,contentHeight:u,visibleRange:d})=>{const c=(0,a.DP)(),m=O(e),f=(0,i.useMemo)((()=>(0,l.range)(1,t+1).map((e=>[{caption:`${e}`,value:e}]))),[t]);return(0,o.Y)(v,{Cell:C,cells:f,isVirtualized:!0,contentWidth:r,numberOfColumns:1,numberOfRows:t,getRowProps:t=>{const n=R(e,{rowIndex:t}),o=function(e,{rowIndex:t}){return!!R(e,{rowIndex:t})||e.some((e=>{const n=e.rowHeader;if(void 0!==n&&n.rows.from<=t&&n.rows.to>=t)return!0;const o=e.body;return void 0!==o&&o.rows.from<=t&&o.rows.to>=t}))}(e,{rowIndex:t}),r=o&&!m;return[{borderSize:r?2:1,borderColor:r?c.hoverColor:c.cellBorderColor,backgroundColor:n?c.selectionOverlayColor:o?c.activeMenuItemBackgroundColor:"transparent"}]},style:s,defaultColumnWidth:r,defaultRowHeight:n,contentHeight:u,visibleRange:d,cumulatedWidthOfColumnsScrolledPast:0})};var H=n(26353);const M=({selection:e,style:t})=>{const n=(0,a.DP)(),r=O(e);return(0,o.Y)("div",{style:{width:"100%",height:"100%",padding:"3px",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-end",color:r?n.hoverColor:n.cellBorderColor,...t},children:(0,o.Y)(H.IconCornerArrow,{})})};let F=n(86617);F=F.default??F;const{ScrollSync:N,ScrollSyncPane:Y}=F,z=e=>{const{TopCell:t,TopLeftCell:n,LeftCell:r,BodyCell:l,numberOfFrozenColumns:s,numberOfFrozenRows:a,numberOfScrollableColumns:u,numberOfScrollableRows:d,rowHeaderStyle:c,staticHeaderStyle:m,selection:f,columnWidths:h,defaultColumnWidth:p,defaultRowHeight:g,getRowProps:y}=e,b=(0,i.useCallback)((e=>y(e+a)),[y,a]),w=(0,i.useCallback)((e=>{const{columnIndex:r}=e;return r<=s-1?(0,o.Y)(n,{...e,style:m}):(0,o.Y)(t,{...e,columnIndex:r-s})}),[t,n,s,m]),C=(0,i.useCallback)((e=>{const{columnIndex:t}=e;return t<=s-1?(0,o.Y)(r,{...e,style:c}):(0,o.Y)(l,{...e,columnIndex:t-s})}),[l,r,s,c]);return w.displayName="TopCellWhenNotEnoughWidth",C.displayName="BodyCellWhenNotEnoughWidth",(0,o.FD)(o.FK,{children:[(0,o.Y)(Y,{group:"horizontal",children:(0,o.Y)("div",{ref:e.columnHeaderRef,className:"aui-invisible-scrollbars",style:{gridArea:"columnHeader",overflowX:"auto"},children:(0,o.Y)(v,{areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:e.columnHeaderCells,Cell:w,columnWidths:h,contentWidth:e.contentWidth,style:e.columnHeaderStyle,defaultColumnWidth:p,defaultRowHeight:g,wrapText:e.wrapHeaders,hiddenColumns:e.hiddenColumns,isVirtualized:!1,getRowProps:y,getColumnProps:e.getColumnProps,numberOfRows:a,numberOfColumns:s+u,onColumnsShown:e.onColumnsShown,selection:f.map((e=>e.columnHeader)),onColumnsWidthChanged:e.onColumnsWidthChanged,onColumnResizeHandleDoubleClicked:e.onColumnResizeHandleDoubleClicked})})}),(0,o.Y)(Y,{group:ye,children:(0,o.Y)("div",{ref:e.bodyRef,className:"aui-invisible-scrollbars",onScroll:e.handleScrolled,style:{gridArea:"body",overflow:"auto"},children:(0,o.Y)(v,{isVirtualized:!0,cumulatedWidthOfColumnsScrolledPast:e.cumulatedWidthOfColumnsScrolledPast,contentWidth:e.contentWidth,contentHeight:e.contentHeight,visibleRange:e.visibleRange,cells:e.bodyCells,Cell:C,columnWidths:h,defaultColumnWidth:p,defaultRowHeight:g,hiddenColumns:e.hiddenColumns,getRowProps:b,getColumnProps:e.getColumnProps,numberOfRows:d,numberOfColumns:s+u,selection:f.map((e=>e.body)),onColumnsShown:t=>e.onColumnsShown?.(t.map((e=>s+e)))})})})]})};var T=n(63259),D=n(20199),E=n(1790);function W({rows:e,columns:t}){return(e.to+1-e.from)*(t.to+1-t.from)}const{Option:P}=T.Select,k=new Intl.NumberFormat,A=({cells:e,selection:t,hiddenFrozenColumns:r,hiddenScrollableColumns:s})=>{const{formatMessage:a}=(0,f.useIntl)(),u=(d=t,(0,l.sumBy)((0,l.flatMap)(d.map((({body:e,columnHeader:t,rowHeader:n,staticHeader:o})=>[e,t,n,o].filter((e=>void 0!==e))))),W)>1e5);var d;const{result:c,loading:m}=(0,D.useAsyncAbortable)((async o=>{if(!o.aborted)return u?new Promise(((l,i)=>{const a=new Worker(new URL(n.p+n.u(1543),n.b));o.addEventListener("abort",(()=>{a.terminate(),i()})),a.onmessage=({data:e})=>{a.terminate(),l(e)},a.postMessage({cells:e,selection:t,hiddenFrozenColumns:r,hiddenScrollableColumns:s})})):function({selection:e,cells:{bodyCells:t,staticHeaderCells:n,columnHeaderCells:o,rowHeaderCells:r},hiddenFrozenColumns:l,hiddenScrollableColumns:i}){const s={},a=new Set;return e.forEach((e=>{[[e.body,t,i],[e.columnHeader,o,i],[e.staticHeader,n,l],[e.rowHeader,r,l]].forEach((([e,t,n])=>{const{numberOfRows:o,numberOfColumns:r}=void 0!==t&&t.length>0?(0,E.Q)(t):{numberOfRows:0,numberOfColumns:0};if(e&&t)for(let l=e.rows.from;l<=Math.min(e.rows.to,o-1);l++)for(let o=e.columns.from;o<=Math.min(e.columns.to,r-1);o++){const e=`${l}:${o}`;if(!a.has(e)&&!n.has(o)){a.add(e);const n=t[l]?.[o];if(n){const e=Number(n.value);isNaN(e)||(s.sum=(s.sum??0)+e,s.min=Math.min(s.min??e,e),s.max=Math.max(s.max??e,e),s.countNumbers=(s.countNumbers??0)+1),s.count=(s.count??0)+1}}}}))})),{...s,...s.sum&&s.countNumbers?{avg:s.sum/s.countNumbers}:{}}}({cells:e,selection:t,hiddenFrozenColumns:r,hiddenScrollableColumns:s})}),[u,e,t,r,s],{setLoading:e=>({...e,loading:!0})}),[h,p]=(0,i.useState)("sum"),g=(0,i.useMemo)((()=>c?Object.keys(c):[]),[c]);return c&&0!==g.length?(0,o.Y)(T.Select,{bordered:!1,value:h,onChange:e=>p(e),dropdownMatchSelectWidth:175,loading:u&&m,children:["sum","min","max","avg","count","countNumbers"].map((e=>{const t=c[e];return(0,o.Y)(P,{value:e,children:(0,o.FD)("div",{css:{display:"flex",justifyContent:"space-between"},children:[(0,o.FD)("div",{css:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:[a({id:`aui.dataVisualization.statistics.${e}`})," "]}),(0,o.Y)("div",{children:t?k.format(t):""})]})},e)}))}):null},$=e=>{const t=document.createElement("div");t.innerHTML=e,t.style.fontSize="12px",t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto",t.style.whiteSpace="nowrap",document.body.appendChild(t);const n=t.clientWidth+1;return document.body.removeChild(t),n},j=["margin-left","margin-right","padding-left","padding-right"],K=e=>{let t=0;if("style"in e&&"none"===e.style.display)return 0;if(j.forEach((n=>{t+=parseFloat(window.getComputedStyle(e).getPropertyValue(n))})),"svg"===e.tagName)t+=e.getBoundingClientRect().width;else for(let n=0;n<e.children.length;n++)t+=K(e.children[n]);return t},L=e=>"style"in e&&"none"===e.style.display;function _({x:e,y:t},n){return void 0!==n&&e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}const V=({gridElement:e,defaultRowHeight:t,defaultColumnWidth:n,columnWidths:o,hiddenColumns:r,rowHeights:l,x:i,y:s})=>{const a=e.getBoundingClientRect(),u=e.scrollTop+Math.max(0,Math.min(a.height,s-a.top));let d=0;if(l){let e=0;for(;d<l.length&&(e+=l[d]??t,e<u);)d+=1}else d=Math.floor(u/t);const c=function({distanceFromLeft:e,hiddenColumns:t,columnWidths:n,defaultColumnWidth:o}){let r=-1,l=0;for(;l<=e;)r++,l+=g({columnIndex:r,columnWidths:n,defaultColumnWidth:o,hiddenColumns:t});return r}({distanceFromLeft:e.scrollLeft+Math.max(0,Math.min(a.width,i-a.left)),columnWidths:o,defaultColumnWidth:n,hiddenColumns:r});return{rowIndex:d,columnIndex:c}};var B=n(60264);function q({from:e,to:t,anchor:n}){const o=n??{gridKey:"rowHeader",rowIndex:e,columnIndex:0},r=Math.min(e,t),l=Math.max(e,t);return{anchor:o,body:{columns:{from:0,to:1/0},rows:{from:r,to:l}},rowHeader:{columns:{from:0,to:1/0},rows:{from:r,to:l}}}}function U(){return[{...q({from:0,to:1/0}),staticHeader:{columns:{from:0,to:1/0},rows:{from:0,to:1/0}},columnHeader:{columns:{from:0,to:1/0},rows:{from:0,to:1/0}},anchor:{columnIndex:0,rowIndex:0,gridKey:"body"}}]}const Q=["staticHeader","columnHeader","rowHeader","body"];function G({gridKey:e,columnIndex:t,rowIndex:n},{numberOfFrozenColumns:o,numberOfFrozenRows:r}){return{columnIndex:t+(["body","columnHeader"].includes(e)?o:0),rowIndex:n+(["body","rowHeader"].includes(e)?r:0)}}function X(e,[t,n]){return Math.max(t,Math.min(n,e))}function J({rowIndex:e,columnIndex:t},{numberOfFrozenColumns:n,numberOfFrozenRows:o}){return e<o&&t<n?{gridKey:"staticHeader",rowIndex:e,columnIndex:t}:e<o?{gridKey:"columnHeader",rowIndex:e,columnIndex:t-n}:t<n?{gridKey:"rowHeader",rowIndex:e-o,columnIndex:t}:{gridKey:"body",rowIndex:e-o,columnIndex:t-n}}function Z({anchor:e,to:t},{numberOfFrozenColumns:n,numberOfFrozenRows:o,numberOfScrollableColumns:r,numberOfScrollableRows:l}){const i=Math.min(e.rowIndex,t.rowIndex),s=Math.max(e.rowIndex,t.rowIndex),a=Math.min(e.columnIndex,t.columnIndex),u=Math.max(e.columnIndex,t.columnIndex),d={staticHeader:{rows:{from:0,to:o-1},columns:{from:0,to:n-1}},columnHeader:{rows:{from:0,to:o-1},columns:{from:n,to:r-1}},rowHeader:{rows:{from:o,to:l-1},columns:{from:0,to:n-1}},body:{rows:{from:o,to:l-1},columns:{from:n,to:r-1}}},c={anchor:J(e,{numberOfFrozenColumns:n,numberOfFrozenRows:o})};return Q.forEach((e=>{const t=d[e];if(s<t.rows.from||i>t.rows.from+t.rows.to||u<t.columns.from||a>t.columns.from+t.columns.to)return;const n={columns:{from:X(a-t.columns.from,[0,t.columns.to]),to:X(u-t.columns.from,[0,t.columns.to])},rows:{from:X(i-t.rows.from,[0,t.rows.to]),to:X(s-t.rows.from,[0,t.rows.to])}};c[e]=n})),c}function ee(e,{lastRange:t}){return e.length<=1?[t]:[...e.slice(0,-1),t]}function te(e,{key:t,shiftKey:n,ctrlKey:o,metaKey:r,numberOfScrollableColumns:i,numberOfScrollableRows:s,numberOfFrozenColumns:a,numberOfFrozenRows:u,numberOfVisibleRows:d}){const c={numberOfScrollableColumns:i,numberOfFrozenColumns:a,numberOfFrozenRows:u,numberOfScrollableRows:s},m={ArrowLeft:{columnOffset:-1},ArrowRight:{columnOffset:1},ArrowUp:{rowOffset:-1},ArrowDown:{rowOffset:1},PageUp:{rowOffset:-d},PageDown:{rowOffset:d},Home:{rowOffset:-1/0},End:{rowOffset:1/0}},f=e.at(-1);if(f&&x(f))switch(t){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":case"Home":case"End":{const o=n,{range:r,targetCellPosition:i}=function(e,{isExtending:t=!1,rowOffset:n=0,numberOfScrollableRows:o,numberOfFrozenRows:r,numberOfFrozenColumns:i}){const{anchor:s,body:a}=e;if(void 0===a)return{range:e};if(!t){const e=(0,l.clamp)(s.rowIndex+n,0,o-1);return{range:q({from:e,to:e}),targetCellPosition:{columnIndex:i,rowIndex:e+r}}}const u=s.rowIndex===a.rows.from?"to":"from",d=(0,l.clamp)(a.rows[u]+n,0,o-1);return{range:q({anchor:s,...a.rows,[u]:d}),targetCellPosition:{rowIndex:d+r,columnIndex:i}}}(f,{...m[t],isExtending:o,...c});return{selection:o?ee(e,{lastRange:r}):[r],targetCellPosition:i}}}switch(t){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":case"Home":case"End":return function(e,{isExtending:t=!1,rowOffset:n=0,columnOffset:o=0,numberOfScrollableColumns:r,numberOfScrollableRows:i,numberOfFrozenColumns:s,numberOfFrozenRows:a}){const u=function(e,t){if(!e)return{anchor:{columnIndex:0,rowIndex:0},to:{columnIndex:0,rowIndex:0}};const{anchor:n}=e,o=G(n,t),r=[];return Q.forEach((n=>{const o=e[n];o&&["from","to"].forEach((e=>{["from","to"].forEach((l=>{const i=G({gridKey:n,rowIndex:o.rows[e],columnIndex:o.columns[l]},t);r.push(i)}))}))})),{anchor:o,to:(0,l.maxBy)(r,(e=>{return t=e,n=o,Math.abs(n.columnIndex-t.columnIndex)+Math.abs(n.rowIndex-t.rowIndex);var t,n}))}}(e.at(-1),{numberOfFrozenColumns:s,numberOfFrozenRows:a}),d=a+i,c=s+r,{rowIndex:m,columnIndex:f}=t?u.to:u.anchor,h={rowIndex:X(m+n,[0,d-1]),columnIndex:X(f+o,[0,c-1])},p=t?{anchor:u.anchor,to:h}:{anchor:h,to:h};return{selection:[Z(p,{numberOfFrozenColumns:s,numberOfFrozenRows:a,numberOfScrollableColumns:r,numberOfScrollableRows:i})],targetCellPosition:p.to}}(e,{...m[t],isExtending:n,...c});case"a":if(B.P?r:o)return{selection:U()}}return{selection:e}}function ne({gridKey:e,rowIndex:t,columnIndex:n}){return{anchor:{gridKey:e,rowIndex:t,columnIndex:n},[e]:{rows:{from:t,to:t},columns:{from:n,to:n}}}}const oe={staticHeader:{horizontal:"left",vertical:"top"},rowHeader:{horizontal:"left",vertical:"bottom"},columnHeader:{horizontal:"right",vertical:"top"},body:{horizontal:"right",vertical:"bottom"}},re=e=>oe?.[e],le=(e,t)=>{const n=re(e),o=re(t.gridKey),r={rowIndex:t.rowIndex,columnIndex:t.columnIndex};return o.horizontal!==n.horizontal&&(r.columnIndex="left"===n.horizontal?1/0:-1/0),o.vertical!==n.vertical&&(r.rowIndex="top"===n.vertical?1/0:-1/0),r},ie=({columnWidths:e={},containerHeight:t,containerWidth:n,defaultColumnWidth:o,defaultRowHeight:r,hiddenColumns:l,numberOfColumns:i,numberOfRows:s,scrollLeft:a,scrollTop:u})=>{function d(t){return g({columnIndex:t,columnWidths:e,defaultColumnWidth:o,hiddenColumns:l})}const[c,m,f]=function(){if(0===a||0===i)return[0,d(0),0];let e=0;for(let t=0;t<i;t++){const n=e+d(t);if(n>a)return[t,n-a,e];e=n}return[i-1,0,e]}(),h=function(e,t){if(e===i-1||t>n)return e;let o=t;for(let t=e+1;t<i;t++)if(o+=d(t),o>n)return t;return i-1}(c,m),p=Math.floor(u/r);return[{rows:{from:p,to:Math.min(p+Math.ceil(t/r),s-1)},columns:{from:c,to:h}},f]},se=({anchorFrom:e,anchorTo:t,columnWidths:n,defaultColumnWidth:o,defaultRowHeight:r,hiddenColumns:l,grid:i,gridKey:s,numberOfColumns:a,numberOfRows:u})=>{const d=le(s,e),c=le(s,t),m={rows:{from:Math.min(d.rowIndex,c.rowIndex),to:Math.max(d.rowIndex,c.rowIndex)},columns:{from:Math.min(d.columnIndex,c.columnIndex),to:Math.max(d.columnIndex,c.columnIndex)}},{height:f,width:h}=i.getBoundingClientRect(),[p]=ie({columnWidths:n,containerHeight:f,containerWidth:h,defaultColumnWidth:o,defaultRowHeight:r,hiddenColumns:l,numberOfColumns:a,numberOfRows:u,scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}),g=["rows","columns"];for(let e=0;e<g.length;e++){const t=g[e],n=m[t],{from:o,to:r}=n;if(!isFinite(o)&&!isFinite(r))return;isFinite(o)?isFinite(r)||(n.to=p[t].to):n.from=p[t].from}return m};function ae({anchorFrom:e,anchorTo:t,grids:n,defaultColumnWidth:o,defaultRowHeight:r,frozenColumnWidths:l,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfFrozenColumns:u,numberOfFrozenRows:d,numberOfScrollableRows:c,numberOfScrollableColumns:m}){const f=Q.map((f=>{const h=n[f].current;if(!h)return;const p=["staticHeader","rowHeader"].includes(f),g=["staticHeader","columnHeader"].includes(f),y=se({anchorFrom:e,anchorTo:t,gridKey:f,grid:h,defaultColumnWidth:o,defaultRowHeight:r,columnWidths:p?l:i,hiddenColumns:p?s:a,numberOfColumns:p?u:m,numberOfRows:g?d:c});return void 0!==y?[f,y]:void 0})).filter((e=>void 0!==e));return{anchor:e,...Object.fromEntries(f)}}const ue=100;function de(e,t){return e.columnIndex<t?{...e,gridKey:"body"===e.gridKey?"rowHeader":"staticHeader"}:{...e,columnIndex:e.columnIndex-t}}function ce(e,t){return{rows:e.rows,columns:{from:e.columns.from-t,to:e.columns.to-t}}}function me(e,t){return e?e.columns.to<t?[e,void 0]:e.columns.from>=t?[void 0,ce(e,t)]:function(e,t){return[{rows:e.rows,columns:{from:e.columns.from,to:t-1}},{rows:e.rows,columns:{from:0,to:e.columns.to-t}}]}(e,t):[void 0,void 0]}const fe=()=>{},he={},pe=new Set,ge=()=>!1,ye=["horizontal","vertical"],be=e=>{const[t]=(0,s.i)("table.defaultSize"),n=(0,a.DP)(),{columnWidth:c,rowHeight:m}=b.L[e.size??t],f=e.wrapHeaders??!1,h=e.hiddenColumns??pe,p=Boolean(e.areFrozenColumnsIgnored),y=Boolean(e.areRowNumbersVisible),w=e.columnWidths??he,C=e.Cell??d.Y,H=e.isTotal??ge,F=e.onColumnsResized??fe,T=e.onKeyDown??fe,D=e.onKeyUp??fe,W=e.onScrolled??fe,P=e.onVisibleRangeChanged??fe,k=e.onFrozenColumnsIgnored??fe,[j,B]=(0,i.useState)(0),[Q,G]=(0,i.useState)(0),X=(0,i.useRef)(),J=(0,i.useRef)(null),Z=e.containerRef??J,oe=(0,i.useRef)(null),re=(0,i.useRef)(null),le=(0,i.useRef)(null),se=(0,i.useRef)(null),ce=(0,i.useRef)(null),be=(0,i.useRef)(null),{width:we,height:ve}=(0,u.useDebouncedComponentSize)(se),{numberOfRows:Ce,numberOfColumns:xe}=(0,E.Q)(e.cells),Se=e.numberOfFrozenColumns??0,Oe=e.numberOfFrozenRows??0,Re=xe-Se,Ie=Ce-Oe,He=(0,i.useRef)({body:[],columnHeader:[],rowHeader:[],staticHeader:[]}),{staticHeaderStyle:Me,rowHeaderStyle:Fe,columnHeaderStyle:Ne,selectAllCellStyle:Ye,rowNumbersStyle:ze}=(0,i.useMemo)((()=>({staticHeaderStyle:{borderRight:`2px solid ${n.cellBorderColor}`,borderBottom:`2px solid ${n.cellBorderColor}`},rowHeaderStyle:{borderRight:`2px solid ${n.cellBorderColor}`},columnHeaderStyle:{borderBottom:`2px solid ${n.cellBorderColor}`},selectAllCellStyle:{borderRight:`1px solid ${n.cellBorderColor}`,borderBottom:`2px solid ${n.cellBorderColor}`},rowNumbersStyle:{borderRight:`1px solid ${n.cellBorderColor}`}})),[n.cellBorderColor]),Te=(0,i.useMemo)((()=>({staticHeader:oe,rowHeader:re,columnHeader:le,body:se,rowNumbers:ce,selectAllCell:be})),[oe,re,le,se,ce,be]),[De,Ee]=(0,i.useMemo)((()=>{const e=new Set,t=new Set;return h.forEach((n=>{n<Se?e.add(n):t.add(n-Se)})),[e,t]}),[Se,h]),{rowNumbersColumnWidth:We,frozenColumnWidths:Pe,frozenColumnsTotalWidth:ke,scrollableColumnsTotalWidth:Ae,scrollableColumnWidths:$e,scrollableRowsTotalHeight:je}=function({numberOfFrozenColumns:e,numberOfScrollableRows:t,numberOfScrollableColumns:n,columnWidths:o,defaultRowHeight:r,defaultColumnWidth:l,hiddenFrozenColumns:s,hiddenScrollableColumns:a}){const{frozenColumnWidths:u,scrollableColumnWidths:d}=(0,i.useMemo)((()=>{const t={},n={};for(const r in o){const l=Number.parseInt(r,10),i=o[l];l<e?t[r]=i:n[l-e]=i}return{frozenColumnWidths:t,scrollableColumnWidths:n}}),[o,e]),c=(0,i.useMemo)((()=>{let t=0;for(let n=0;n<e;n++)t+=g({columnIndex:n,columnWidths:u,defaultColumnWidth:l,hiddenColumns:s});return t}),[l,u,s,e]),m=(0,i.useMemo)((()=>{let e=0;for(let t=0;t<n;t++)e+=g({columnIndex:t,columnWidths:d,defaultColumnWidth:l,hiddenColumns:a});return e}),[l,a,n,d]),f=(0,i.useMemo)((()=>Math.max($(t.toString())+10,19)),[t]),h=(0,i.useMemo)((()=>t*r),[r,t]);return{rowNumbersColumnWidth:f,frozenColumnWidths:u,scrollableColumnWidths:d,scrollableRowsTotalHeight:h,frozenColumnsTotalWidth:c,scrollableColumnsTotalWidth:m}}({numberOfFrozenColumns:Se,numberOfScrollableRows:Ie,numberOfScrollableColumns:Re,columnWidths:w,defaultRowHeight:m,defaultColumnWidth:c,hiddenFrozenColumns:De,hiddenScrollableColumns:Ee});(0,i.useEffect)((()=>{const e=p?we:ke+we;if(0===e||0===we)return;const t=ke/e>.9;t!==p&&k(t)}),[k,p,we,ke]);const{staticHeader:Ke,rowHeader:Le,columnHeader:_e,body:Ve}=(0,i.useMemo)((()=>function(e,{numberOfFrozenRows:t,numberOfFrozenColumns:n,areFrozenColumnsIgnored:o}){const r=o?0:n,l={body:[],columnHeader:[],rowHeader:[],staticHeader:[]};return e.forEach(((e,n)=>{e.forEach(((e,o)=>{const i=function({rowIndex:e,columnIndex:t,numberOfFrozenRows:n,effectiveNumberOfFrozenColumns:o}){const r=e<n,l=t<o;return r&&l?"staticHeader":l?"rowHeader":r?"columnHeader":"body"}({rowIndex:n,columnIndex:o,numberOfFrozenRows:t,effectiveNumberOfFrozenColumns:r}),s=l[i];s.length===(n<t?n:n-t)&&s.push([]),s.at(-1).push(e)}))})),l}(e.cells,{areFrozenColumnsIgnored:p,numberOfFrozenRows:Oe,numberOfFrozenColumns:Se})),[e.cells,p,Oe,Se]),[Be,qe,Ue]=function(){const e=(0,i.useRef)([]),t=(0,i.useRef)([]),n=(0,i.useRef)([]),o=(0,i.useRef)([]),r=(0,i.useCallback)((()=>{const[r,l]=[e.current,t.current].map((e=>e.filter((e=>null!==e))));function i(){for(let e=0;e<r.length;e++){const[t,n]=[r,l].map((t=>t[e])),[o,i]=[t,n].map((e=>e.clientHeight));o!==i&&(t.style.minHeight&&t.style.minHeight===`${o}px`||n.style.minHeight&&n.style.minHeight===`${i}px`)?(t.style.minHeight="",n.style.minHeight=""):o<i?t.style.minHeight=`${i}px`:i<o&&(n.style.minHeight=`${o}px`)}}const s=n.current,a=o.current;if(r.length===l.length&&r.length===s.length&&l.length===a.length||([...s,...a].forEach((e=>{e.disconnect()})),s.splice(0,s.length),a.splice(0,a.length)),0===s.length&&0===a.length&&r.length>0&&r.length===l.length)for(let e=0;e<r.length;e++){const t=new ResizeObserver(i);t.observe(r[e]),s.push(t);const n=new ResizeObserver(i);n.observe(l[e]),a.push(n)}}),[]);return[e,t,r]}(),[Qe,Ge,Xe,Je,Ze]=function({container:e,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:o,scrollableColumnWidths:r,hiddenFrozenColumns:s,hiddenScrollableColumns:a,grids:u,numberOfScrollableColumns:d,numberOfFrozenColumns:c,numberOfFrozenRows:m,numberOfScrollableRows:f,numberOfVisibleRows:h,columnHeaderRows:p,rowNumbersColumnWidth:y}){const[b,w]=(0,i.useState)([]),v=(0,i.useRef)(b);(0,i.useEffect)((()=>{v.current=b}),[b]);const C=(0,i.useCallback)(((i,d)=>{if(!e.current||!u.body.current)return null;const c=[u.selectAllCell,u.staticHeader,u.columnHeader],m=[u.columnHeader,u.body],f=(0,l.mapValues)(u,(e=>{const t=e.current;if(null===t)return;const n=c.includes(e),o=m.includes(e),r=t.getBoundingClientRect();return{left:r.left,right:o?1/0:r.right,top:n?0:r.top,bottom:n?r.bottom:1/0}})),h=f.selectAllCell??f.staticHeader??f.columnHeader,g=f.rowNumbers??f.rowHeader??f.body;h&&g&&(h.left=0,g.left=0);const b={selectAllCell:_({x:i,y:d},f.selectAllCell),rowNumbers:_({x:i,y:d},f.rowNumbers),staticHeader:_({x:i,y:d},f.staticHeader),rowHeader:_({x:i,y:d},f.rowHeader),columnHeader:_({x:i,y:d},f.columnHeader),body:_({x:i,y:d},f.body)},w=Object.keys(u).find((e=>!0===b[e]));if(void 0===w||!u[w]||!u[w].current)return null;const v=["staticHeader","rowHeader"].includes(w),C=["staticHeader","columnHeader"].includes(w),x=["rowNumbers","selectAllCell"].includes(w);return{gridKey:w,...V({gridElement:u[w].current,defaultColumnWidth:x?y:t,columnWidths:x?{}:v?o:r,hiddenColumns:x?void 0:v?s:a,defaultRowHeight:n,rowHeights:C?p.map((e=>e?.clientHeight)):void 0,x:i,y:d})}}),[p,e,t,n,o,u,s,a,y,r]),I=(0,i.useCallback)((i=>{if(i.preventDefault(),e.current?.focus(),0!==i.button||!((e,t)=>{const n=t.selectAllCell.current||t.staticHeader.current||t.columnHeader.current||t.body.current,o=t.body.current;if(!o||!n)return!1;const{top:r,left:l}=n.getBoundingClientRect(),{bottom:i,right:s}=o.getBoundingClientRect();return e.clientX>=l&&e.clientX<=s&&e.clientY>=r&&e.clientY<=i})(i,u))return;let h=i.clientX,p=i.clientY;const g=C(h,p);let y=g,b=!1;const O=e=>{h=e.clientX,p=e.clientY};if(g){const{gridKey:R,rowIndex:I,columnIndex:H}=g,M=v.current.at(-1);if(["rowNumbers","rowHeader","body"].includes(R)&&I>f-1)return;if(["columnHeader","body"].includes(R)&&H>d-1)return;if("selectAllCell"===R)w(U());else if(i.shiftKey&&M&&!S(M))w(ee(v.current,"rowNumbers"===R?{lastRange:q({from:M.anchor.rowIndex,to:I,anchor:M.anchor})}:{lastRange:ae({anchorFrom:M.anchor,anchorTo:{gridKey:R,rowIndex:I,columnIndex:H},grids:u,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:o,scrollableColumnWidths:r,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfScrollableColumns:d,numberOfFrozenColumns:c,numberOfFrozenRows:m,numberOfScrollableRows:f})}));else{let e;e="rowNumbers"===R?q({from:I,to:I}):ne({gridKey:R,rowIndex:I,columnIndex:H}),(i.ctrlKey||i.metaKey)&&M&&!S(M)?w([...v.current,e]):w([e])}const F=()=>{b||(b=!0,requestAnimationFrame((()=>{b=!1;const i=C(h,p);if(i&&!(0,l.isEqual)(i,y)){y=i;let{rowIndex:e,columnIndex:l}=i;const h=i.gridKey;["rowNumbers","rowHeader","body"].includes(h)&&(e=Math.min(e,f-1)),["columnHeader","body"].includes(h)&&(l=Math.min(l,d-1));const p=v.current.at(-1);if(p&&!S(p))if(x(p)){const t=["rowNumbers","rowHeader","body"].includes(h)?e:0;w(ee(v.current,{lastRange:q({from:p.anchor.rowIndex,to:t})}))}else{let i;i="selectAllCell"===h?{gridKey:"staticHeader",rowIndex:0,columnIndex:0}:"rowNumbers"===h?{gridKey:"rowHeader",rowIndex:e,columnIndex:0}:{gridKey:h,columnIndex:l,rowIndex:e},w(ee(v.current,{lastRange:ae({anchorFrom:p.anchor,anchorTo:i,grids:u,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:o,scrollableColumnWidths:r,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfScrollableColumns:d,numberOfFrozenColumns:c,numberOfFrozenRows:m,numberOfScrollableRows:f})}))}}((e,t,{x:n,y:o})=>{const r=e.getBoundingClientRect();n<r.left?t.scrollLeft-=ue:n>r.right&&(t.scrollLeft+=ue),o<r.top?t.scrollTop-=ue:o>r.bottom&&(t.scrollTop+=ue)})(e.current,u.body.current,{x:h,y:p})})))},N=setInterval(F,10),Y=()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",Y),clearInterval(N)};document.addEventListener("mousemove",O),document.addEventListener("mouseup",Y)}}),[e,u,C,t,n,o,r,s,a,d,c,m,f]),H=(0,i.useCallback)((e=>{const t=e.pageX,n=e.pageY,o=C(t,n);if(!o)return b;const{columnIndex:r,gridKey:l,rowIndex:i}=o;if("selectAllCell"===l){if(!O(v.current)){const e=U();return w(e),e}return b}if("rowNumbers"===l){if(!R(v.current,{rowIndex:i})){const e=[q({from:i,to:i})];return w(e),e}return b}if(!function(e,{gridKey:t,rowIndex:n,columnIndex:o}){return!!R(e,{rowIndex:n})||e.some((e=>void 0!==e[t]&&e[t].columns.from<=o&&e[t].columns.to>=o&&e[t].rows.from<=n&&e[t].rows.to>=n))}(b,{gridKey:l,columnIndex:r,rowIndex:i})){const e=[ne({gridKey:l,rowIndex:i,columnIndex:r})];return w(e),e}return b}),[C,b]);return[b,I,H,(l,i)=>{const{selection:p,targetCellPosition:y}=te(b,{...l,numberOfScrollableColumns:d,numberOfFrozenColumns:c,numberOfFrozenRows:m,numberOfScrollableRows:f,numberOfVisibleRows:h});if(p!==b){w(p),i(p),l.preventDefault();const d=u.body.current;if(!y||!d||!e.current)return;const m=e.current.scrollHeight,f=e.current.scrollWidth,{rowIndex:h,columnIndex:b}=y,v=Math.max(0,n*(h-2)),C=v+3*n;v<d.scrollTop?d.scrollTop=v:C>d.scrollTop+m&&(d.scrollTop=C-m);let x=0;for(let e=0;e<b;e++)x+=g({columnIndex:e,columnWidths:e<c?o:r,defaultColumnWidth:t,hiddenColumns:e<c?s:a});x<d.scrollLeft?d.scrollLeft=x:x>d.scrollLeft+f&&(d.scrollLeft=x-f)}},(e,t)=>{"Escape"===e.key&&(w([]),t([]))}]}({container:Z,rowNumbersColumnWidth:We,defaultColumnWidth:c,defaultRowHeight:m,grids:Te,hiddenFrozenColumns:De,hiddenScrollableColumns:Ee,numberOfFrozenRows:Oe,numberOfScrollableRows:Ie,numberOfVisibleRows:Z.current?Math.floor(Z.current.scrollHeight/m-Oe):0,...p?{frozenColumnWidths:{},numberOfScrollableColumns:Se+Re,numberOfFrozenColumns:0,scrollableColumnWidths:w}:{frozenColumnWidths:Pe,numberOfScrollableColumns:Re,numberOfFrozenColumns:Se,scrollableColumnWidths:$e},columnHeaderRows:qe.current}),et=(0,i.useRef)(Qe);(0,i.useEffect)((()=>{et.current=Qe}),[Qe]);const[tt,nt]=(0,i.useMemo)((()=>ie({columnWidths:$e,containerWidth:we,containerHeight:ve,defaultColumnWidth:c,defaultRowHeight:m,hiddenColumns:p?h:Ee,numberOfColumns:p?Se+Re:Re,numberOfRows:Ie,scrollLeft:Q,scrollTop:j})),[p,ve,we,c,m,h,Ee,Se,Re,Ie,Q,j,$e]);(0,i.useEffect)((()=>{0===tt.rows.from&&0===tt.rows.to&&0===tt.columns.from&&0===tt.columns.to||tt.rows.from===X.current?.rows.from&&tt.rows.to===X.current?.rows.to&&tt.columns.from===X.current?.columns.from&&tt.columns.to===X.current?.columns.to||(P(tt),X.current=tt)}),[P,tt]);const ot=t=>{if(e.onSelectionChanged){const n=p?function({selection:e,numberOfFrozenColumns:t}){return e.map((e=>{const[n,o]=me(e.body,t),[r,l]=me(e.columnHeader,t);return{anchor:de(e.anchor,t),staticHeader:r,columnHeader:l,rowHeader:n,body:o}}))}({selection:t,numberOfFrozenColumns:Se}):t;e.onSelectionChanged(n)}},rt=(0,i.useCallback)((t=>{const n=function(e,{numberOfFrozenColumns:t,numberOfScrollableColumns:n}){const o=e[0],r=[];if(o?.staticHeader){const{from:e,to:n}=o.staticHeader.columns,i=Math.min(n,t-1);r.push(...(0,l.range)(e,i+1))}if(o?.columnHeader){const{from:e,to:i}=o.columnHeader.columns,s=Math.min(i,n-1);r.push(...(0,l.range)(e+t,s+t+1))}return r}(et.current,{numberOfFrozenColumns:p?0:Se,numberOfScrollableColumns:p?Se+Re:Re}),o=n.includes(t)?n:[t],r={};o.forEach((t=>{const n=(({cells:e,columnIndex:t,cellRefs:{body:n,columnHeader:o,rowHeader:r,staticHeader:l},numberOfFrozenColumns:i,numberOfFrozenRows:s,numberOfScrollableRows:a})=>{const u=s+a,d=t<i,c=d?t:t-i,[[m,f],[h,p]]=[{from:0,to:s,grid:d?l:o},{from:s,to:u,grid:d?r:n}].map((({from:n,to:o,grid:r})=>{let l="",i=0;const{numberOfColumns:a}=(0,E.Q)(r);for(let u=n;u<o;u++){let n=null;if(r){const e=u<s?u:u-s,t=Math.min(c,a-1);if(n=r[e]?.[t],n){const e=K(n);e>i&&(i=e)}}if(!n||!n?.children?.[0]||!L(n)&&!L(n.children[0])){const n=e[u][t]?.caption??"";n.length>l.length&&(l=n)}}return[l,i]})),g=$(m)+f+6,y=$(h)+p;return Math.max(g,y)+10})({cells:e.cells,cellRefs:He.current,columnIndex:t,numberOfFrozenColumns:Se,numberOfFrozenRows:Oe,numberOfScrollableRows:Ie});r[t]=n})),F?.(r)}),[p,Se,Re,F,e.cells,Oe,Ie]),lt=e=>{const t=e.target;j!==t.scrollTop&&B(t.scrollTop),Q!==t.scrollLeft&&G(t.scrollLeft),!W||j===t.scrollTop&&Q===t.scrollLeft||W({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})},{getRowProps:it,getColumnProps:st,getRowStyle:at}=e,ut=(0,i.useMemo)((()=>(0,l.memoize)(it??(()=>[]))),[it]),dt=(0,i.useMemo)((()=>(0,l.memoize)(st??(()=>[]))),[st]),ct=(0,i.useMemo)((()=>(0,l.memoize)(at??(()=>{}))),[at]),mt=(0,i.useCallback)((e=>ut(e+Oe)),[ut,Oe]),ft=(0,i.useCallback)((e=>dt(e+Se)),[dt,Se]),ht=(0,i.useCallback)((e=>ct(e+Oe)),[ct,Oe]),pt=(0,i.useCallback)((t=>{const{columnIndex:n,rowIndex:r}=t,l=(0,i.useCallback)((e=>{const t=He.current.staticHeader;void 0===t[r]&&(t[r]=[]),t[r][n]=e}),[n,r]);return(0,o.Y)(C,{ref:l,...t,size:e.size,wrapText:f,isRowFrozen:!0,isColumnFrozen:!0,rowIndex:r,columnIndex:n})}),[C,e.size,f]),gt=(0,i.useCallback)((t=>{const{columnIndex:n,rowIndex:r}=t,l=(0,i.useCallback)((e=>{const t=He.current.rowHeader;void 0===t[r]&&(t[r]=[]),t[r][n]=e}),[n,r]);return(0,o.Y)(C,{ref:l,...t,rowIndex:r,columnIndex:n,size:e.size,isRowFrozen:!1,isColumnFrozen:!0})}),[C,e.size]),yt=(0,i.useCallback)((t=>{const{columnIndex:n,rowIndex:r}=t,l=(0,i.useCallback)((e=>{const t=He.current.columnHeader;void 0===t[r]&&(t[r]=[]),t[r][n]=e}),[n,r]);return(0,o.Y)(C,{ref:l,...t,size:e.size,wrapText:f,isRowFrozen:!0,isColumnFrozen:!1,rowIndex:r,columnIndex:n})}),[C,e.size,f]),bt=(0,i.useCallback)((t=>{const{columnIndex:n,rowIndex:r}=t,l=(0,i.useCallback)((e=>{const t=He.current.body;void 0===t[r]&&(t[r]=[]),t[r][n]=e}),[n,r]);return(0,o.Y)(C,{...t,ref:l,rowIndex:r,columnIndex:n,size:e.size,isRowFrozen:!1,isColumnFrozen:!1})}),[C,e.size]);return pt.displayName="TopLeftCell",gt.displayName="LeftCell",yt.displayName="TopCell",bt.displayName="BodyCell",(0,o.FD)("div",{style:{...e.style,paddingBottom:2,paddingRight:2,height:"100%",display:"flex",flexDirection:"column",outline:"none"},css:{"@media print .aui-table-cell":{padding:"4px 0px 3px !important"}},children:[(0,o.Y)(N,{children:(0,o.FD)("div",{css:{outline:"none",position:"relative",overflow:"hidden",flexGrow:1,display:"grid",gridTemplateAreas:'\n              "selectAllCell  staticHeader  columnHeader          ."\n              "rowNumbers       rowHeader     body                verticalScrollbar"\n              ".                .             horizontalScrollbar ."\n            ',gridTemplateRows:"min-content auto min-content",gridTemplateColumns:"min-content min-content auto min-content"},onKeyDown:e=>{Je(e,ot),T(e)},onKeyUp:e=>{Ze(e,ot),D(e)},onMouseDown:e=>{Ge(e);const t=e=>{document.removeEventListener("mouseup",t),0===e.button&&ot(et.current)};document.addEventListener("mouseup",t)},onContextMenu:e=>{const t=Xe(e);t!==Qe&&ot(t)},ref:Z,tabIndex:0,children:[y&&(0,o.FD)(o.FK,{children:[(0,o.Y)("div",{ref:be,style:{gridArea:"selectAllCell"},children:(0,o.Y)(M,{selection:Qe,style:Ye})}),(0,o.Y)(Y,{group:"vertical",children:(0,o.Y)("div",{ref:ce,className:"aui-invisible-scrollbars",style:{gridArea:"rowNumbers",overflowY:"auto"},children:(0,o.Y)(I,{selection:Qe,numberOfRows:Ie,defaultRowHeight:m,contentWidth:We,contentHeight:je,visibleRange:{rows:tt.rows,columns:{from:0,to:Ie-1}},style:ze})})})]}),p?(0,o.Y)(z,{columnHeaderRef:le,LeftCell:gt,TopCell:yt,BodyCell:bt,TopLeftCell:pt,numberOfFrozenColumns:Se,numberOfFrozenRows:Oe,numberOfScrollableColumns:Re,numberOfScrollableRows:Ie,rowHeaderStyle:Fe,columnHeaderStyle:Ne,staticHeaderStyle:Me,selection:Qe,wrapHeaders:f,columnHeaderCells:_e,bodyCells:Ve,defaultColumnWidth:c,defaultRowHeight:m,bodyRef:se,hiddenColumns:h,columnWidths:w,onColumnsShown:e.onColumnsShown,style:e.style,onColumnsWidthChanged:t=>{e.onColumnsResized?.({...w,...t})},getColumnProps:dt,getRowProps:ut,visibleRange:tt,contentWidth:ke+Ae,contentHeight:je,handleScrolled:lt,cumulatedWidthOfColumnsScrolledPast:nt}):(0,o.FD)(o.FK,{children:[(0,o.Y)("div",{ref:oe,className:"aui-invisible-scrollbars",style:{gridArea:"staticHeader"},children:(0,o.Y)(v,{areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:Ke,Cell:pt,columnWidths:Pe,defaultColumnWidth:c,defaultRowHeight:m,wrapText:f,hiddenColumns:De,isVirtualized:!1,style:Me,numberOfRows:Oe,numberOfColumns:Se,onColumnsShown:e.onColumnsShown,onColumnsWidthChanged:t=>{e.onColumnsResized?.({...w,...t})},onColumnResizeHandleDoubleClicked:rt,selection:Qe.map((e=>e.staticHeader)),getRowProps:ut,getColumnProps:dt,rowsRef:(e,t)=>{Be.current[t]=e,Ue()},rowHeights:Be.current.map((e=>e?.clientHeight)),contentWidth:ke})}),(0,o.Y)(Y,{group:"horizontal",children:(0,o.Y)("div",{ref:le,className:"aui-invisible-scrollbars",style:{gridArea:"columnHeader",overflowX:"auto"},children:(0,o.Y)(v,{areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:_e,Cell:yt,columnWidths:$e,style:Ne,defaultColumnWidth:c,wrapText:f,hiddenColumns:Ee,isVirtualized:!1,defaultRowHeight:m,numberOfColumns:Re,numberOfRows:Oe,onColumnsShown:t=>e.onColumnsShown?.(t.map((e=>Se+e))),onColumnsWidthChanged:t=>{const n=(0,r.produce)(w??{},(e=>{for(let n=0;n<Se+Re;n++)t[n]&&(e[Se+n]=t[n])}));e.onColumnsResized?.({...w,...n})},onColumnResizeHandleDoubleClicked:e=>rt(Se+e),selection:Qe.map((e=>e.columnHeader)),getRowProps:ut,getColumnProps:ft,rowsRef:(e,t)=>{qe.current[t]=e,Ue()},rowHeights:qe.current.map((e=>e?.clientHeight)),contentWidth:Ae})})}),(0,o.Y)(Y,{group:"vertical",children:(0,o.Y)("div",{ref:re,className:"aui-invisible-scrollbars",style:{gridArea:"rowHeader",overflowY:"auto"},children:(0,o.Y)(v,{cells:Le,Cell:gt,cumulatedWidthOfColumnsScrolledPast:0,columnWidths:Pe,defaultColumnWidth:c,hiddenColumns:De,isTotal:H,style:Fe,defaultRowHeight:m,numberOfColumns:Se,numberOfRows:Ie,selection:Qe.map((e=>e.rowHeader)),getRowProps:mt,getRowStyle:ht,getColumnProps:dt,contentWidth:ke,isVirtualized:!0,contentHeight:je,visibleRange:{rows:tt.rows,columns:{from:0,to:Se-1}}})})}),(0,o.Y)(Y,{group:ye,children:(0,o.Y)("div",{ref:se,className:"aui-invisible-scrollbars",onScroll:lt,style:{gridArea:"body",overflow:"auto"},children:(0,o.Y)(v,{Cell:bt,cells:Ve,isVirtualized:!0,columnWidths:$e,defaultColumnWidth:c,hiddenColumns:Ee,isTotal:H,defaultRowHeight:m,numberOfColumns:Re,numberOfRows:Ie,selection:Qe.map((e=>e.body)),getRowStyle:ht,getRowProps:mt,getColumnProps:ft,contentWidth:Ae,contentHeight:je,visibleRange:tt,cumulatedWidthOfColumnsScrolledPast:nt})})})]}),(0,o.Y)(Y,{group:"vertical",children:(0,o.Y)("div",{style:{gridArea:"verticalScrollbar",overflowY:"auto"},children:(0,o.Y)("div",{style:{height:je,width:1}})})}),(0,o.Y)(Y,{group:"horizontal",children:(0,o.Y)("div",{style:{gridArea:"horizontalScrollbar",overflowX:"auto"},children:(0,o.Y)("div",{style:{width:Ae,height:1}})})})]})}),(0,o.Y)("div",{css:{height:30,textAlign:"right",paddingRight:25,flexShrink:0},children:(0,o.Y)(A,{selection:Qe,cells:{bodyCells:Ve,staticHeaderCells:Ke,rowHeaderCells:Le,columnHeaderCells:_e},hiddenFrozenColumns:De,hiddenScrollableColumns:Ee})})]})}},37159:(e,t,n)=>{"use strict";n.d(t,{j:()=>d});var o=n(63612),r=n(63259),l=n(90147),i=n(12166),s=n(2563),a=n(21519);const u=["large","medium","small"],d=e=>{const{formatMessage:t}=(0,i.useIntl)(),[n]=(0,s.i)("table.defaultSize");return(0,o.FD)("div",{css:{paddingTop:4,width:"100%",alignItems:"center",display:"grid"},children:[(0,o.Y)(a.Text,{small:!0,strong:!0,children:t({id:"aui.dataVisualization.tableSize"})}),(0,o.Y)(r.Select,{style:{width:125,marginTop:8},value:e.widgetState.style?.size??n,options:u.map((e=>({value:e,label:(0,o.FD)(o.FK,{children:[t({id:`aui.dataVisualization.tableSizeOptions.${e}`}),n===e&&(0,o.FD)(a.Text,{small:!0,type:"secondary",children:[" (",t({id:"aui.default"}).toLowerCase(),")"]})]})}))),onChange:t=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{e.style={...e.style,size:t}})))}})]})}},62083:(e,t,n)=>{"use strict";n.d(t,{$:()=>m,h:()=>f});var o=n(63612),r=n(77593),l=n(84515),i=n(40432),s=n(49318),a=n(5204),u=n(37159),d=n(98615),c=n(21112);const m=.3,f=e=>{const{queryId:t,widgetState:n}=e,f=(0,s.DP)(),h=(0,l.Q)({queryId:t,widgetState:n});return(0,o.FD)(o.FK,{children:[(0,o.FD)("div",{css:r.css`
          border-bottom: 1px solid ${f.grayScale[4]};
          padding-bottom: 4px;
        `,children:[(0,o.Y)(u.j,{...e}),(0,o.Y)(c.S,{...e}),(0,o.Y)(d.X,{widgetState:e.widgetState,onWidgetChange:e.onWidgetChange}),(0,o.Y)(a.Y,{widgetState:e.widgetState,onWidgetChange:e.onWidgetChange})]}),(0,o.Y)(i.D,{...e,isMeasureConditionalStyleVisible:!0,colorOpacity:m,fieldOptions:h,isApplyToRowCheckboxVisible:!0})]})}},98615:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var o=n(63612),r=n(90147),l=n(12166),i=n(2563),s=n(38479);const a=e=>{const{style:t}=e.widgetState,{formatMessage:n}=(0,l.useIntl)(),[a]=(0,i.i)("table.tooltips"),u=t?.areTooltipsVisible??a;return(0,o.Y)(s.u,{label:n({id:"aui.tooltips"}),checked:u,onChange:()=>{const t=(0,r.produce)(e.widgetState,(e=>{e.style={...e.style,areTooltipsVisible:!u}}));e.onWidgetChange(t)}})}},21112:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});var o=n(63612),r=n(90147),l=n(12166),i=n(2563),s=n(38479);const a=({onWidgetChange:e,widgetState:t})=>{const{style:n}=t,{formatMessage:a}=(0,l.useIntl)(),[u]=(0,i.i)("table.headers.wrap"),d=n?.wrapHeaders??u;return(0,o.Y)(s.u,{label:a({id:"aui.dataVisualization.wrapHeaders"}),checked:d,onChange:()=>{const n=(0,r.produce)(t,(e=>{e.style={...e.style,wrapHeaders:!d}}));e(n)}})}},80152:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var o=n(31529);function r(e,{numberOfFrozenColumns:t,numberOfFrozenRows:n,numberOfColumnsInBody:r,numberOfRowsInBody:l}){const i={body:{columns:r,rows:l},columnHeader:{columns:r,rows:n},rowHeader:{columns:t,rows:l},staticHeader:{columns:t,rows:n}};return e.map((e=>{const{anchor:t,...n}=e;return{anchor:t,...(0,o.mapValues)(n,((e,t)=>{const n=i[t];return e?{columns:{from:Math.max(0,e.columns.from),to:Math.min(n.columns-1,e.columns.to)},rows:{from:Math.max(0,e.rows.from),to:Math.min(n.rows-1,e.rows.to)}}:void 0}))}}))}},11590:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});const o=(e,t)=>{const n=[];if(e)for(let o=e.rows.from;o<=e.rows.to;o++){n.push([]);for(let r=e.columns.from;r<=e.columns.to;r++){const l=t(r,o);n[o-e.rows.from].push(l)}}return n}},1790:(e,t,n)=>{"use strict";function o(e){return 0===e.length?{numberOfRows:0,numberOfColumns:0}:{numberOfRows:e.length,numberOfColumns:e[0].length}}n.d(t,{Q:()=>o})},59275:(e,t,n)=>{"use strict";function o(e,t){let n="";for(const o of e){n+="<tr>\n";for(const e of o)n+=`<${t}>${e}</${t}>`;n+="</tr>\n"}return n}function r({header:e,body:t}){let n="<table>\n";return e.length>0&&(n+="<thead>\n",n+=o(e,"th"),n+="</thead>\n"),t.length>0&&(n+="<tbody>\n",n+=o(t,"td"),n+="</tbody>\n"),n+="</table>",n}function l({header:e,body:t}){return[...e,...t].map((e=>e.map((e=>{return(t=e).includes(",")?`"${t}"`:t;var t})))).join("\n")}function i({header:e,body:t}){return{"text/html":r({header:e,body:t}),"text/plain":l({header:e,body:t})}}n.d(t,{R:()=>i})},70541:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,X:()=>o});const o=10,r={small:{columnWidth:90,rowHeight:15},medium:{columnWidth:100,rowHeight:20},large:{columnWidth:120,rowHeight:25}}},57745:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var o=n(63612),r=n(93345);function l(e){const t=(0,r.forwardRef)(((t,n)=>{const l=(0,r.useMemo)((()=>{const e="small"===t.size?1:4;return{display:"flex",alignItems:"center",justifyContent:t.isColumnFrozen||t.isRowFrozen?"start":"end",fontSize:12,textOverflow:"ellipsis",boxSizing:"border-box",padding:`${e}px 4px 3px`,lineHeight:`${t.height}px`,width:t.width,...!t.wrapText&&{overflow:"hidden",height:t.height,whiteSpace:"nowrap"},...!1!==t.isVirtualized&&{position:"absolute",left:t.left,top:t.top},...t.style}}),[t.height,t.isColumnFrozen,t.isRowFrozen,t.left,t.size,t.style,t.top,t.width,t.isVirtualized,t.wrapText]);return(0,o.Y)(e,{ref:n,...t,style:l})}));return t.displayName="WithDefaultCellStyle",t}},60264:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});const o=globalThis.window?.navigator.platform.startsWith("Mac")??!1},18385:(e,t)=>{"use strict";var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy");Symbol.for("react.offscreen");function p(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case r:case i:case l:case c:case m:return e;default:switch(e=e&&e.$$typeof){case u:case a:case d:case h:case f:case s:return e;default:return t}}case o:return t}}}Symbol.for("react.module.reference"),t.ForwardRef=d,t.isFragment=function(e){return p(e)===r},t.isMemo=function(e){return p(e)===f}},86617:function(e,t,n){var o;o=function(e,t){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t){var n,o,r=e.exports={};function l(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===l||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:l}catch(e){n=l}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(e){o=i}}();var a,u=[],d=!1,c=-1;function m(){d&&a&&(d=!1,a.length?u=a.concat(u):c=-1,u.length&&f())}function f(){if(!d){var e=s(m);d=!0;for(var t=u.length;t;){for(a=u,u=[];++c<t;)a&&a[c].run();c=-1,t=u.length}a=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||d||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";(function(t){var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,o,r,l,i,s,a){if(n(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[o,r,l,i,s,a],c=0;(u=new Error(t.replace(/%s/g,(function(){return d[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}}).call(t,n(0))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=((o=n(4))&&o.__esModule?o:{default:o}).default.createContext({registerPane:function(){},unregisterPane:function(){}});t.default=r,e.exports=t.default},function(e,t,n){"use strict";(function(t){var o,r=n(1);"production"!==t.env.NODE_ENV&&(o=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=0,l="Warning: "+e.replace(/%s/g,(function(){return n[r++]}));"undefined"!=typeof console&&console.error(l);try{throw new Error(l)}catch(e){}},r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),l=2;l<n;l++)r[l-2]=arguments[l];o.apply(void 0,[t].concat(r))}}),e.exports=r}).call(t,n(0))},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n(13)((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}),!0)}else e.exports=n(12)()}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(4),l=a(r),i=a(n(7)),s=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.panes={},o.registerPane=function(e,t){t.forEach((function(t){o.panes[t]||(o.panes[t]=[]),o.findPane(e,t)||(o.panes[t].length>0&&o.syncScrollPosition(o.panes[t][0],e),o.panes[t].push(e))})),o.addEvents(e,t)},o.unregisterPane=function(e,t){t.forEach((function(t){o.findPane(e,t)&&(o.removeEvents(e),o.panes[t].splice(o.panes[t].indexOf(e),1))}))},o.addEvents=function(e,t){e.onscroll=o.handlePaneScroll.bind(o,e,t)},o.removeEvents=function(e){e.onscroll=null},o.findPane=function(e,t){return!!o.panes[t]&&o.panes[t].find((function(t){return t===e}))},o.handlePaneScroll=function(e,t){o.props.enabled&&window.requestAnimationFrame((function(){o.syncScrollPositions(e,t)}))},o.syncScrollPositions=function(e,t){t.forEach((function(n){o.panes[n].forEach((function(r){e!==r&&(o.removeEvents(r,n),o.syncScrollPosition(e,r),window.requestAnimationFrame((function(){o.addEvents(r,t)})))}))})),o.props.onSync&&o.props.onSync(e)},u(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"getContextValue",value:function(){return{registerPane:this.registerPane,unregisterPane:this.unregisterPane}}},{key:"syncScrollPosition",value:function(e,t){var n=e.scrollTop,o=e.scrollHeight,r=e.clientHeight,l=e.scrollLeft,i=e.scrollWidth,s=e.clientWidth,a=o-r,u=i-s,d=this.props,c=d.proportional,m=d.vertical,f=d.horizontal,h=t.scrollHeight-r,p=t.scrollWidth-s;m&&a>0&&(t.scrollTop=c?h*n/a:n),f&&u>0&&(t.scrollLeft=c?p*l/u:l)}},{key:"render",value:function(){return l.default.createElement(s.default.Provider,{value:this.getContextValue()},l.default.Children.only(this.props.children))}}]),t}(r.Component);d.propTypes={onSync:i.default.func,children:i.default.element.isRequired,proportional:i.default.bool,vertical:i.default.bool,horizontal:i.default.bool,enabled:i.default.bool},d.defaultProps={proportional:!0,vertical:!0,horizontal:!0,enabled:!0},t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(4),l=a(n(14)),i=a(n(7)),s=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.toArray=function(e){return[].concat(e)},u(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.enabled&&(this.node=this.props.attachTo||l.default.findDOMNode(this),this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentDidUpdate",value:function(e){this.props.enabled&&this.props.group!==e.group&&(this.context.unregisterPane(this.node,this.toArray(e.group)),this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentWillUnmount",value:function(){this.props.enabled&&this.context.unregisterPane(this.node,this.toArray(this.props.group))}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component);d.contextType=s.default,d.propTypes={children:i.default.node.isRequired,attachTo:i.default.object,group:i.default.oneOfType([i.default.string,i.default.arrayOf(i.default.string)]),enabled:i.default.bool},d.defaultProps={group:"default",enabled:!0},d.contextTypes={registerPane:i.default.func,unregisterPane:i.default.func},t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);Object.defineProperty(t,"ScrollSync",{enumerable:!0,get:function(){return l(o).default}});var r=n(9);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"ScrollSyncPane",{enumerable:!0,get:function(){return l(r).default}})},function(e,t,n){"use strict";(function(t){if("production"!==t.env.NODE_ENV)var o=n(2),r=n(6),l=n(3),i={};e.exports=function(e,n,s,a,u){if("production"!==t.env.NODE_ENV)for(var d in e)if(e.hasOwnProperty(d)){var c;try{o("function"==typeof e[d],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a||"React class",s,d),c=e[d](n,d,a,s,null,l)}catch(e){c=e}if(r(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",a||"React class",s,d,typeof c),c instanceof Error&&!(c.message in i)){i[c.message]=!0;var m=u?u():"";r(!1,"Failed %s type: %s%s",s,c.message,null!=m?m:"")}}}}).call(t,n(0))},function(e,t,n){"use strict";var o=n(1),r=n(2),l=n(3);e.exports=function(){function e(e,t,n,o,i,s){s!==l&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";(function(t){var o=n(1),r=n(2),l=n(6),i=n(3),s=n(11);e.exports=function(e,n){var a="function"==typeof Symbol&&Symbol.iterator,u="<<anonymous>>",d={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:m(o.thatReturnsNull),arrayOf:function(e){return m((function(t,n,o,r,l){if("function"!=typeof e)return new c("Property `"+l+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new c("Invalid "+r+" `"+l+"` of type `"+p(s)+"` supplied to `"+o+"`, expected an array.");for(var a=0;a<s.length;a++){var u=e(s,a,o,r,l+"["+a+"]",i);if(u instanceof Error)return u}return null}))},element:m((function(t,n,o,r,l){var i=t[n];return e(i)?null:new c("Invalid "+r+" `"+l+"` of type `"+p(i)+"` supplied to `"+o+"`, expected a single ReactElement.")})),instanceOf:function(e){return m((function(t,n,o,r,l){if(!(t[n]instanceof e)){var i=e.name||u;return new c("Invalid "+r+" `"+l+"` of type `"+((s=t[n]).constructor&&s.constructor.name?s.constructor.name:u)+"` supplied to `"+o+"`, expected instance of `"+i+"`.")}var s;return null}))},node:m((function(e,t,n,o,r){return h(e[t])?null:new c("Invalid "+o+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return m((function(t,n,o,r,l){if("function"!=typeof e)return new c("Property `"+l+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var s=t[n],a=p(s);if("object"!==a)return new c("Invalid "+r+" `"+l+"` of type `"+a+"` supplied to `"+o+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var d=e(s,u,o,r,l+"."+u,i);if(d instanceof Error)return d}return null}))},oneOf:function(e){return Array.isArray(e)?m((function(t,n,o,r,l){for(var i=t[n],s=0;s<e.length;s++)if(a=i,u=e[s],a===u?0!==a||1/a==1/u:a!=a&&u!=u)return null;var a,u;return new c("Invalid "+r+" `"+l+"` of value `"+i+"` supplied to `"+o+"`, expected one of "+JSON.stringify(e)+".")})):("production"!==t.env.NODE_ENV&&l(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&l(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var n=0;n<e.length;n++){var r=e[n];if("function"!=typeof r)return l(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",y(r),n),o.thatReturnsNull}return m((function(t,n,o,r,l){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,o,r,l,i))return null;return new c("Invalid "+r+" `"+l+"` supplied to `"+o+"`.")}))},shape:function(e){return m((function(t,n,o,r,l){var s=t[n],a=p(s);if("object"!==a)return new c("Invalid "+r+" `"+l+"` of type `"+a+"` supplied to `"+o+"`, expected `object`.");for(var u in e){var d=e[u];if(d){var m=d(s,u,o,r,l+"."+u,i);if(m)return m}}return null}))}};function c(e){this.message=e,this.stack=""}function m(e){if("production"!==t.env.NODE_ENV)var o={},s=0;function a(a,d,m,f,h,p,g){if(f=f||u,p=p||m,g!==i)if(n)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var y=f+":"+m;!o[y]&&s<3&&(l(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,f),o[y]=!0,s++)}return null==d[m]?a?null===d[m]?new c("The "+h+" `"+p+"` is marked as required in `"+f+"`, but its value is `null`."):new c("The "+h+" `"+p+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(d,m,f,h,p)}var d=a.bind(null,!1);return d.isRequired=a.bind(null,!0),d}function f(e){return m((function(t,n,o,r,l,i){var s=t[n];return p(s)!==e?new c("Invalid "+r+" `"+l+"` of type `"+g(s)+"` supplied to `"+o+"`, expected `"+e+"`."):null}))}function h(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(h);if(null===t||e(t))return!0;var n=function(e){var t=e&&(a&&e[a]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!n)return!1;var o,r=n.call(t);if(n!==t.entries){for(;!(o=r.next()).done;)if(!h(o.value))return!1}else for(;!(o=r.next()).done;){var l=o.value;if(l&&!h(l[1]))return!1}return!0;default:return!1}}function p(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function g(e){if(null==e)return""+e;var t=p(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){var t=g(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return c.prototype=Error.prototype,d.checkPropTypes=s,d.PropTypes=d,d}}).call(t,n(0))},function(e,n){e.exports=t}])},e.exports=o(n(93345),n(7628))},98870:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!1}),t.default=function(e,t){if(e===t)return 0;var n=e.length,o=t.length;if(!n)return o;if(!o)return n;if(n>o){var r=[t,e];e=r[0],t=r[1];var l=[o,n];n=l[0],o=l[1]}for(;n>0&&e[n-1]===t[o-1];)n--,o--;var i=0;if(e[0]===t[0]||!n){for(;i<n&&e[i]===t[i];)i++;if(o-=i,!(n-=i))return o;t=t.slice(i,i+o)}for(var s=new Array(o),a=new Array(o),u=0;u<o;u++)s[u]=u+1;for(var d=e[0],c=0,m=0;m<n;m++){var f=d,h=0,p=t[0],g=m;c=m+1,d=e[i+m];for(var y=0;y<o;y++){var b=c,w=p,v=h;p=t[y],h=a[y],a[y]=c=g,g=s[y],d!==p&&(g<c&&(c=g),b<c&&(c=b),c++,0!==m&&0!==y&&d===w&&p===f&&++v<c&&(c=v)),s[y]=c}}return c},t.limited=function(e,t,n){if(t===n)return 0;var o=t.length,r=n.length;if(!o)return r>e?1/0:r;if(!r)return o>e?1/0:o;if(o>r){var l=[n,t];t=l[0],n=l[1];var i=[r,o];o=i[0],r=i[1]}for(;o>0&&t[o-1]===n[r-1];)o--,r--;var s=0;if(t[0]===n[0]||!o){for(;s<o&&t[s]===n[s];)s++;if(r-=s,!(o-=s))return r>e?1/0:r;n=n.slice(s,s+r)}var a=r-o;if(e>r)e=r;else if(a>e)return 1/0;var u=new Array(r),d=new Array(r),c=void 0;for(c=0;c<e;c++)u[c]=c+1;for(;c<r;c++)u[c]=e+1;var m=e-a,f=e<r,h=0,p=e,g=t[0],y=0;for(c=0;c<o;c++){var b=g,w=0,v=n[0],C=c;y=c+1,g=t[s+c],p+=p<r?1:0;for(var x=h+=c>m?1:0;x<p;x++){var S=y,O=v,R=w;v=n[x],w=d[x],d[x]=y=C,C=u[x],g!==v&&(C<y&&(y=C),S<y&&(y=S),y++,0!==c&&0!==x&&g===O&&v===b&&++R<y&&(y=R)),u[x]=y}if(f&&u[c+a]>e)return 1/0}return y<=e?y:1/0},e.exports=t.default,t.default.limited=t.limited}}]);