(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[8496],{10562:(e,n,r)=>{"use strict";r.d(n,{t:()=>m});var t=r(42579),a=r.n(t),i=r(4791),s=r.n(i),o=r(60824),c=r(63028),u=r(60125),l=r(42847),d=r(74884);const h=["DD-MM-YYYY","MM-DD-YYYY","YYYY-MM-DD"];function m({captionForTotals:e,cube:n,mapping:r,member:t,style:i}){if(!t)return"";const s=t.namePath.length-1,m=t.captionPath?.[s]??"";if("Measures"===t.dimensionName){const e=(0,d.v)({mapping:r,tuple:[t]});return e?(0,u.getKpiPropertyCaption)(e):m}const f=(0,o.q)(t,n);if(!f.slicing&&0===s)return e;const p=Object.values(f.levels).find((({index:e})=>e===s)),v=p?i?.measures?.[(0,c.hD)(t.dimensionName,t.hierarchyName,p.name)]:void 0;if("TIME"===p?.type&&v){const e=v?.dateFormat;return e?a()(m,h).format(e):m}const y=""===m?NaN:Number(m);return m&&!isNaN(y)&&v?(0,l.m)({value:y,measureStyle:v,valueFormattedByActivePivot:m}):m}a().extend(s())},74884:(e,n,r)=>{"use strict";r.d(n,{v:()=>a});var t=r(60125);function a({mapping:e,tuple:n}){if(!n)return;const r=n.find((({dimensionName:e})=>"Measures"===e))?.namePath[0];for(const n of e.measures??[])if((0,t.isKpiPropertyInMapping)(n)&&n.underlyingMeasureName===r)return n}},96004:(e,n,r)=>{"use strict";r.d(n,{F:()=>m});var t=r(31529),a=r(37805),i=r(36643),s=r(14178),o=r(6281),c=r(84713),u=r(45040),l=r(90081);const d=e=>{const n=e.slice(0,(0,t.lastIndexOf)(e,"]")+1),[r,a,i]=(0,l._)(n);return{dimensionName:r,hierarchyName:a,levelName:i}},h=(e,n)=>{if(!n||!(0,u.r)(e))return!1;const r=(0,o._)(e),t=n.find((e=>(0,u.r)(e.name,{measureName:r})));return!!t&&(0,i.k)(t.expression)&&["member_value","member_caption","iif"].includes(t.expression.name.toLowerCase())};function m(e,{cube:n}){const r=(0,s.T)(e,(e=>(0,i.k)(e,"order")));if(void 0===r)return;const t=r.match,u=t.arguments[1],l=t.arguments[2]?t.arguments[2].value:"ASC";if(h(u,e.withClause)){const e=(0,o._)(u);return{orderMode:l,levelCoordinates:d(e)}}return function(e){return(0,a.E)(e)||(0,i.k)(e,"()")&&e.arguments.every(a.E)}(u)?{orderMode:l,tupleCoordinates:(0,c.S)(u,n)}:void 0}},84713:(e,n,r)=>{"use strict";r.d(n,{S:()=>i});var t=r(80087),a=r(36643);const i=(e,n)=>((0,a.k)(e,"()")?e.arguments:[e]).map((e=>(0,t.U)(e,{cube:n})))},99793:(e,n,r)=>{"use strict";function t(e){return"Measures"===e.dimensionName}r.d(n,{n:()=>t})},54200:(e,n,r)=>{"use strict";function t(e){return"Measures"===e.type}r.d(n,{g:()=>t})},16528:(e,n,r)=>{"use strict";r.d(n,{k:()=>a});var t=r(60824);function a(e,n){const r=[];return e.maxLevelPerHierarchy.forEach(((a,i)=>{const{dimension:s,hierarchy:o}=e.hierarchies[i];for(let c=e.positions.length>0&&"Measures"!==s&&!(0,t.q)({dimensionName:s,hierarchyName:o},n).slicing?1:0;c<a;c++)r.push({hierarchyIndex:i,levelIndex:c})})),r}},15300:(e,n,r)=>{"use strict";r.d(n,{G:()=>s});var t=r(11813),a=r(60824),i=r(63028);const s=({columnIndex:e,cube:n,tableStateDerivedFromCellSet:r})=>{if(!n)return null;const{columnsAxis:s,numberOfFrozenColumns:o,rowHeaderIndices:c,rowsAxis:u}=r;if(e<o){if(u){const{hierarchyIndex:r,levelIndex:t}=c[e],{dimension:s,hierarchy:o}=u.hierarchies[r];if("Measures"===s)return"[Measures].[Measures]";const l=(0,a.q)({dimensionName:s,hierarchyName:o},n);return(0,i.hD)(s,o,Object.keys(l.levels)[t])}}else if(s){const n=e-(s.range?.from||0)-o,r=s.positions[n];if(r){const e=r.map(((e,n)=>({dimensionName:s.hierarchies[n].dimension,hierarchyName:s.hierarchies[n].hierarchy,...e})));return(0,t.getTupleKey)(e)}}return null}},46975:(e,n,r)=>{"use strict";r.d(n,{b:()=>a});var t=r(60824);const a=(e,n)=>{if(!e||!n)return[];const r=[];return e.hierarchies.forEach((({dimension:a,hierarchy:i},s)=>{if("Measures"===a)r.push({dimensionName:"Measures",hierarchyName:"Measures"});else{const o=(0,t.q)({dimensionName:a,hierarchyName:i},n);r.push(...Object.values(o.levels).slice(o.slicing?0:1,e.maxLevelPerHierarchy[s]).map((e=>({dimensionName:a,hierarchyName:i,levelName:e.name}))))}})),r}},36821:(e,n,r)=>{"use strict";function t({axis:e,defaultMeasure:n,positionIndex:r}){if(!e)return n?[{captionPath:n.captionPath,dimensionName:"Measures",hierarchyName:"Measures",namePath:n.path,properties:{}}]:null;const t=e?.range?.from||0;return e.positions[r-t]?.map(((n,r)=>({dimensionName:e.hierarchies[r].dimension,hierarchyName:e.hierarchies[r].hierarchy,...n})))||null}r.d(n,{P:()=>t})},21649:(e,n,r)=>{"use strict";r.d(n,{P:()=>D});var t=r(11813),a=r(26689),i=r(42847);function s({cell:e,style:n,columnIndex:r,data:a,rowIndex:s,hierarchyIndicesInCellSet:o,locale:c}){const u=Number(e.value),l=e.formattedValue;if(isNaN(u)||!n)return l;const d=(0,t.getTuple)({data:a,rowIndex:s,columnIndex:r,hierarchyIndicesInCellSet:o});if(!d)return l;const h=d.find((e=>"Measures"===e.dimensionName)),m=h&&n?.measures?.[h.namePath[0]];return(0,i.m)({value:u,measureStyle:m,valueFormattedByActivePivot:l,locale:c})}var o=r(110);const c=e=>e.properties.map((e=>(0,o.A)(e)));var u=r(90081),l=r(96004),d=r(99793),h=r(54200),m=r(16528),f=r(42579),p=r.n(f),v=r(4791),y=r.n(v),M=r(10562),x=r(19996);function I({mapping:e,captionForTotals:n,cube:r,tuple:t,hierarchyIndex:a,levelIndex:i,style:s}){if(!t)return{caption:"",value:""};if(a>=t.length||i>=t[a].namePath.length)return{caption:n,value:n};const o=(0,x.A)(t,{hierarchyIndex:a,levelIndex:i}),c=o?.[a],u=(0,M.t)({captionForTotals:n,cube:r,mapping:e,member:c,style:s}),l=""===u?NaN:Number(u);return{caption:u,value:isNaN(l)?u:l}}p().extend(y());var g=r(60824);function w({cube:e,tuple:n}){let r=-1;return n?.forEach((n=>{r+=n.namePath.length,"Measures"===n.dimensionName||(0,g.q)(n,e).slicing||(r-=1)})),Math.max(0,r)}var N=r(46975),Y=r(36821);function b({dimension:e,hierarchy:n}){return"Measures"===e&&"Measures"===n}const D=e=>{const{captionForMeasures:n,captionForTotals:r,captionForValue:i,cube:o,isRowHeaderTree:f,mapping:p,mdx:v,style:y,rowIndexMapping:M,locale:x}=e,g=f?(0,t.addMissingTotalRows)(e.data,{cube:o,rowIndexMapping:M}):e.data;let D,P,S;for(let e=0;e<g.axes.length;e++){const n=g.axes[e];n.id===t.axisIds.columns?P=n:n.id===t.axisIds.rows?D=n:n.id===t.axisIds.slicer&&(S=n)}const C=g.defaultMembers.find(b),L=(S?.hierarchies??[]).findIndex((({dimension:e})=>"Measures"===e)),A=-1!==L,T=D?.hierarchies.some(b),O=(P?.hierarchies??[]).findIndex(b),F=-1!==O,H={},R=v?.axes.flatMap(c).map((e=>(0,u._)(e).at(-1))).filter((e=>"CHILDREN_CARDINALITY"!==e)),_=P?(0,t.getAxisLength)(P):A||T?1:0,k=D?(0,t.getAxisLength)(D):1,[[$,E],[z,Z]]=[D,P].map((e=>{const n=(0,N.b)(e,o),r=o?n.map((e=>(0,d.n)(e)?{type:"Measures"}:(0,a.r)(e,o))):[];return[n,r]})),[j,q]=[D,P].map((e=>e&&o?(0,m.k)(e,o):[])),B=f?Math.min(1,j.length):j.length,K=Math.max(q.length,1),U=new Array(K+k).fill(null).map((()=>new Array(B+_).fill(null)));if(E)for(let e=0;e<B;e++){const r=E[e],t=(0,h.g)(r)?n:r?.caption??null;for(let n=0;n<K;n++)U[n][e]={caption:t,value:t}}if(D&&o){const e=D.range?.from||0;for(let n=0;n<D.positions.length;n++){const t=n+e+K,a=(0,Y.P)({axis:D,defaultMeasure:C,positionIndex:n+e});for(let e=0;e<B;e++){const n=o&&f?w({cube:o,tuple:a}):e,{hierarchyIndex:i,levelIndex:s}=j[n],{caption:c,value:u}=I({captionForTotals:r,cube:o,style:y,tuple:a,hierarchyIndex:i,levelIndex:s,mapping:p});U[t][e]={caption:c,value:u,hierarchyIndex:i,levelIndex:s,headerDepth:n}}}}if(P&&o){const e=P.range?.from||0;for(let n=0;n<P.positions.length;n++){const t=n+e+B,a=(0,Y.P)({axis:P,defaultMeasure:C,positionIndex:n+e});for(let e=0;e<K;e++){const{hierarchyIndex:n,levelIndex:i}=q[e],{caption:s,value:c}=I({...P,captionForTotals:r,cube:o,style:y,tuple:a,hierarchyIndex:n,levelIndex:i,mapping:p});U[e][t]={caption:s,value:c,hierarchyIndex:n,levelIndex:i,headerDepth:e}}if(F&&a){const r=a[O].namePath[0];H[r]||(H[r]=[]),H[r].push(n+e)}}}else if(A){const e=B,n=0,r=(0,Y.P)({axis:S,defaultMeasure:C,positionIndex:0}),t=r?.[L],a=t?.captionPath[0];U[n][e]={caption:a,value:a,hierarchyIndex:0,levelIndex:0,headerDepth:0}}else T&&(U[0][B]={caption:i,value:i});const V=(0,t.getHierarchyIndicesInCellSet)(g);(A||F||T)&&g.cells.forEach((e=>{const n=Math.floor(e.ordinal/_),r=e.ordinal%_;U[K+n][B+r]={caption:s({cell:e,data:g,hierarchyIndicesInCellSet:V,columnIndex:r,rowIndex:n,style:y,locale:x}),value:e.value,properties:e.properties}}));const{columnIndexImpactingRowStyle:X,styleImpactingRows:G}=function({columnIndicesPerMeasure:e,style:n}){const r=n?.tupleImpactingRowStyle;if(!r)return;let t;for(const e of r)if("Measures"===e.dimensionName){t=e.namePath[0];break}return t?{columnIndexImpactingRowStyle:e[t][0],styleImpactingRows:n?.measures?.[t]}:void 0}({columnIndicesPerMeasure:H,style:y})??{columnIndexImpactingRowStyle:void 0,styleImpactingRows:void 0},J=v&&o?(0,l.F)(v,{cube:o}):void 0;return{cells:U,columnIndexImpactingRowStyle:X,cube:o,data:g,defaultMeasure:C,hierarchyIndicesInCellSet:V,indexOfMeasureOnSlicer:L,isRowHeaderTree:f,mapping:p,memberPropertyKeys:R,numberOfRowsInBody:k,numberOfColumnsInBody:_,numberOfFrozenColumns:B,numberOfFrozenRows:K,staticHeaderCoordinatesOnRows:$,staticHeaderCoordinatesOnColumns:z,staticHeadersOnColumns:Z,staticHeadersOnRows:E,rowsAxis:D,columnsAxis:P,rowHeaderIndices:j,columnHeaderIndices:q,slicerAxis:S,sort:J,styleImpactingRows:G}}},19996:(e,n,r)=>{"use strict";function t(e,{hierarchyIndex:n,levelIndex:r}){const t=e[n];return[...e.slice(0,n),{...t,captionPath:t.captionPath.slice(0,r+1),namePath:t.namePath.slice(0,r+1)}]}r.d(n,{A:()=>t})},4791:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,t=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,i={},s=function(e){return(e=+e)+(e>68?1900:2e3)},o=function(e){return function(n){this[e]=+n}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var n=e.match(/([+-]|\d\d)/g),r=60*n[1]+(+n[2]||0);return 0===r?0:"+"===n[0]?-r:r}(e)}],u=function(e){var n=i[e];return n&&(n.indexOf?n:n.s.concat(n.f))},l=function(e,n){var r,t=i.meridiem;if(t){for(var a=1;a<=24;a+=1)if(e.indexOf(t(a,0,n))>-1){r=a>12;break}}else r=e===(n?"pm":"PM");return r},d={A:[a,function(e){this.afternoon=l(e,!1)}],a:[a,function(e){this.afternoon=l(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[r,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[t,o("seconds")],ss:[t,o("seconds")],m:[t,o("minutes")],mm:[t,o("minutes")],H:[t,o("hours")],h:[t,o("hours")],HH:[t,o("hours")],hh:[t,o("hours")],D:[t,o("day")],DD:[r,o("day")],Do:[a,function(e){var n=i.ordinal,r=e.match(/\d+/);if(this.day=r[0],n)for(var t=1;t<=31;t+=1)n(t).replace(/\[|\]/g,"")===e&&(this.day=t)}],M:[t,o("month")],MM:[r,o("month")],MMM:[a,function(e){var n=u("months"),r=(u("monthsShort")||n.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(r<1)throw new Error;this.month=r%12||r}],MMMM:[a,function(e){var n=u("months").indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],Y:[/[+-]?\d+/,o("year")],YY:[r,function(e){this.year=s(e)}],YYYY:[/\d{4}/,o("year")],Z:c,ZZ:c};function h(r){var t,a;t=r,a=i&&i.formats;for(var s=(r=t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(n,r,t){var i=t&&t.toUpperCase();return r||a[t]||e[t]||a[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,n,r){return n||r.slice(1)}))}))).match(n),o=s.length,c=0;c<o;c+=1){var u=s[c],l=d[u],h=l&&l[0],m=l&&l[1];s[c]=m?{regex:h,parser:m}:u.replace(/^\[|\]$/g,"")}return function(e){for(var n={},r=0,t=0;r<o;r+=1){var a=s[r];if("string"==typeof a)t+=a.length;else{var i=a.regex,c=a.parser,u=e.slice(t),l=i.exec(u)[0];c.call(n,l),e=e.replace(l,"")}}return function(e){var n=e.afternoon;if(void 0!==n){var r=e.hours;n?r<12&&(e.hours+=12):12===r&&(e.hours=0),delete e.afternoon}}(n),n}}return function(e,n,r){r.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(s=e.parseTwoDigitYear);var t=n.prototype,a=t.parse;t.parse=function(e){var n=e.date,t=e.utc,s=e.args;this.$u=t;var o=s[1];if("string"==typeof o){var c=!0===s[2],u=!0===s[3],l=c||u,d=s[2];u&&(d=s[2]),i=this.$locale(),!c&&d&&(i=r.Ls[d]),this.$d=function(e,n,r){try{if(["x","X"].indexOf(n)>-1)return new Date(("X"===n?1e3:1)*e);var t=h(n)(e),a=t.year,i=t.month,s=t.day,o=t.hours,c=t.minutes,u=t.seconds,l=t.milliseconds,d=t.zone,m=new Date,f=s||(a||i?1:m.getDate()),p=a||m.getFullYear(),v=0;a&&!i||(v=i>0?i-1:m.getMonth());var y=o||0,M=c||0,x=u||0,I=l||0;return d?new Date(Date.UTC(p,v,f,y,M,x,I+60*d.offset*1e3)):r?new Date(Date.UTC(p,v,f,y,M,x,I)):new Date(p,v,f,y,M,x,I)}catch(e){return new Date("")}}(n,o,t),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),l&&n!=this.format(o)&&(this.$d=new Date("")),i={}}else if(o instanceof Array)for(var m=o.length,f=1;f<=m;f+=1){s[1]=o[f-1];var p=r.apply(this,s);if(p.isValid()){this.$d=p.$d,this.$L=p.$L,this.init();break}f===m&&(this.$d=new Date(""))}else a.call(this,e)}}}()}}]);