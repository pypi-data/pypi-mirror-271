"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[9327],{57980:(e,t,n)=>{n.d(t,{d:()=>a});var r=n(18088);function a(e){const t=e.activePageKey,n=(0,r.wW)(e);if(void 0!==n)return null!==t&&n.pagesOrder.includes(t)?t:n.pagesOrder[0]}},18088:(e,t,n)=>{n.d(t,{wW:()=>m});var r=n(90147),a=n(31529),s=n(14918),o=n(91747),i=n(17865),u=n(39311);function m(e){return e.dashboard.present??void 0}(0,o.Ay)(((e=null,t)=>{switch(t.type){case"dashboardLoaded":return t.dashboardState;case"dashboardUpdated":return e?(0,r.produce)(t.dashboardState,(t=>{(0,i.y)(t,((t,n,o)=>{const i=e.pages[n],m=i?.content[o];m&&(0,u.k)(m)&&!m.hasDivergedFromOriginal&&(0,u.k)(t)&&m.id===t.id&&m.version===t.version&&function(e,t){return!(0,s.bN)((0,a.omit)(e,"name"),(0,a.omit)(t,"name"))}(m,(0,r.original)(t))&&(t.hasDivergedFromOriginal=!0)}))})):t.dashboardState;default:return e}}),{limit:20,initTypes:["dashboardUnloaded"]})},62665:(e,t,n)=>{n.d(t,{L:()=>o});var r=n(75952),a=n(57980),s=n(18088);function o(e){const t=(0,s.wW)(e),n=(0,a.d)(e);if(void 0===t||void 0===n)return;const o=e.widgetSelection?.[n];if(void 0!==o&&void 0!==(0,r.B)(t,n,o))return o;const{content:i}=t.pages[n];return Object.keys(i)[0]}},37447:(e,t,n)=>{n.d(t,{w:()=>s});var r=n(8733),a=n(32233);function s(e){if((0,a.S)(e)){const t=(0,r.q)(e.mdx);return{...e,mdx:t}}return"dateRange"===e.type?{...e,startDate:new Date(e.startDate),endDate:new Date(e.endDate)}:e}},32233:(e,t,n)=>{function r(e){return"custom"===e.type}n.d(t,{S:()=>r})},86554:(e,t,n)=>{n.d(t,{V:()=>i});var r=n(42579),a=n.n(r),s=n(110),o=n(32233);function i(e){if((0,o.S)(e)){const t=(0,s.A)(e.mdx);return{...e,mdx:t}}return"dateRange"===e.type?{...e,startDate:a()(e.startDate).format("YYYY-MM-DD"),endDate:a()(e.endDate).format("YYYY-MM-DD")}:e}},28203:(e,t,n)=>{n.d(t,{Cp:()=>i,Q7:()=>u,QD:()=>m});var r=n(32786),a=n(56953),s=n(26426),o=n(4544);function i({layoutPath:e,page:t,side:n,leafKey:a}){const o=e.slice(0,e.length-1),i=(0,r.Z)(t.layout,o);if((0,s.x)(i))throw new Error(`Unexpectedly encountered a leaf at path [${o.join(", ")}] while attempting to add a widget at path [${e.join(", ")}] in page layout:\n${JSON.stringify(t.layout,void 0,2)}`);const u=e.at(-1);if("center"===n){const e=i.children[u];(0,s.x)(e)&&(e.leafKey=a)}else{const r="column"===i.direction&&["top","bottom"].includes(n)||"row"===i.direction&&["left","right"].includes(n),o=["left","top"].includes(n);if(r){const e=i.children[u].size||.5;i.children[u].size=e/2,i.children.splice(o?u:u+1,0,{leafKey:a,size:e/2})}else{const n=i.children[u];if(!(0,s.x)(n))throw new Error(`Did not find a leaf at [${e.join(", ")}] while attempting to add a widget at this path. Widgets can only be added in a layout leaf. The page layout is:\n${JSON.stringify(t.layout,void 0,2)}`);const r=[{...n,size:.5}];r.splice(o?0:1,0,{leafKey:a,size:.5}),i.children[u]={children:r,direction:"row"===i.direction?"column":"row",size:i.children[u].size}}}}function u(e,t){const n=t.slice(0,t.length-1),a=(0,r.Z)(e.layout,n);if((0,s.x)(a))throw new Error(`Unexpectedly encountered a leaf at path [${n.join(", ")}] while attempting to clean widget at path [${t.join(", ")}] in page layout:\n${JSON.stringify(e.layout,void 0,2)}`);const o=t.at(-1),i=a.children[o];if(!(0,s.x)(i))throw new Error(`Did not find a layout leaf at [${t.join(", ")}]. Cannot remove missing child leaf. The page layout is:\n${JSON.stringify(e.layout,void 0,2)}`);Reflect.deleteProperty(e.content,i.leafKey)}function m({dashboardState:e,initialWidgetState:t,layoutPath:n,pageKey:r,side:s}){return(0,o.X)(e,r,(e=>{"center"===s&&u(e,n);const r=`${(0,a.U)(e.layout)+1}`;return i({layoutPath:n,page:e,side:s,leafKey:r}),e.content[r]=t,e}))}},17865:(e,t,n)=>{n.d(t,{y:()=>a});var r=n(53830);function a(e,t){Object.entries(e.pages).forEach((([e,n])=>{(0,r.T)(n,((n,r)=>{t(n,e,r)}))}))}},53830:(e,t,n)=>{function r(e,t){Object.entries(e.content).forEach((([e,n])=>{t(n,e)}))}n.d(t,{T:()=>r})},32786:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(26426);class a extends Error{}const s=(e,t)=>{const n=t.reduce(((e,t)=>void 0===e||(0,r.x)(e)?void 0:e.children[t]),e);if(void 0===n)throw new a(`Child layout at path [${t.join(", ")}] was not found in page layout:\n${JSON.stringify(e,void 0,2)}.`);return n}},90845:(e,t,n)=>{n.d(t,{U:()=>s});var r=n(26426);function a(e,t,n){if((0,r.x)(e)){if(e.leafKey===t)return n}else for(let r=0;r<e.children.length;r++){const s=a(e.children[r],t,[...n,r]);if(void 0!==s)return s}}function s(e,t){const n=a(e,t,[]);if(void 0===n)throw new Error(`Could not find leaf in layout with leafKey="${t}"`);return n}},56953:(e,t,n)=>{n.d(t,{U:()=>s,_:()=>a});var r=n(26426);const a=(e,t)=>{(0,r.x)(e)?t(e):e.children.forEach((e=>{a(e,t)}))},s=e=>{let t=0;return a(e,(e=>{t=Math.max(t,Number(e.leafKey))})),t}},33511:(e,t,n)=>{function r(e,t){if(t)return e?.pages[t]}n.d(t,{W:()=>r})},75952:(e,t,n)=>{n.d(t,{B:()=>a});var r=n(33511);function a(e,t,n){if(!e||!t||!n)return;const a=(0,r.W)(e,t);return a?.content?.[n]}},26426:(e,t,n)=>{n.d(t,{x:()=>r});const r=e=>"leafKey"in e},39311:(e,t,n)=>{function r(e){return void 0!==e.id&&void 0!==e.version}n.d(t,{k:()=>r})},4544:(e,t,n)=>{n.d(t,{X:()=>a});var r=n(84453);function a(e,t,n){return(0,r.y)(e,["pages",t],n)}},95091:(e,t,n)=>{function r(e,t){return!(!e||!t)&&e.dimensionName===t.dimensionName&&e.hierarchyName===t.hierarchyName&&e.levelName===t.levelName}n.d(t,{M:()=>r})},46827:(e,t,n)=>{n.d(t,{F:()=>r});class r extends Error{serverKey;constructor(e){super(`The server: "${e}" does not contain any cube.`),this.serverKey=e}}},82151:(e,t,n)=>{function r(e){const{kpiName:t,kpiPropertyName:n,underlyingMeasureName:r}=e;return`${n}(${t}): ${r}`}n.d(t,{L:()=>r})},89132:(e,t,n)=>{n.d(t,{H:()=>a});var r=n(110);class a extends Error{constructor(e,t){super(`Mdx does not represent a filter of type "${e}": \n${(0,r.A)(t,{indent:!0})}`)}}},36298:(e,t,n)=>{n.d(t,{H:()=>z});var r=n(36643),a=n(37805),s=n(110),o=n(1402),i=n(89132);function u(e){return"Literal"===e.elementType&&"STRING"===e.type}var m=n(8040);function l(e,t){return"Literal"===e.elementType&&"SCALAR"===e.type&&e.value===t}const c=e=>(0,r.k)(e,"member_caption")&&"Property"===e.syntax&&1===e.arguments.length&&(0,r.k)(e.arguments[0],"currentmember")&&"Property"===e.arguments[0].syntax,d=(e,t)=>(0,r.k)(e,t)&&"Infix"===e.syntax&&2===e.arguments.length,h=e=>(0,r.k)(e,"and")&&2===e.arguments.length&&d(e.arguments[0],">=")&&d(e.arguments[1],"<=")||(0,r.k)(e,"or")&&2===e.arguments.length&&d(e.arguments[0],"<")&&d(e.arguments[1],">"),p=e=>{if(!(0,r.k)(e))return!1;const[t,n]=e.arguments;return c(t)&&"Literal"===n.elementType&&"STRING"===n.type};var f=n(42579),g=n.n(f);function y(e,t){return(0,r.k)(e)&&t.some((t=>(0,r.k)(e,t)))&&(0,r.k)(e.arguments[0],"datediff")&&((0,m.z)(e.arguments[1])||(0,r.k)(e.arguments[1],"-")&&(0,m.z)(e.arguments[1].arguments[0]))}function v(e){let t=0;return t=(0,r.k)(e,"-")?-1*Number.parseInt(e.arguments[0].value):Number.parseInt(e.value),g()().add(t,"d").set("h",12).set("m",0).set("s",0).set("ms",0).toDate()}function w(e){if((0,r.k)(e)&&"()"===e.name){let[t,n]=[v(e.arguments[0].arguments[0].arguments[1]),v(e.arguments[0].arguments[1].arguments[1])];const[r,a]=[e.arguments[0].arguments[0].name,e.arguments[0].arguments[1].name];return">"===r&&(t=g()(t).add(1,"d").toDate()),"<"===a&&(n=g()(n).add(-1,"d").toDate()),{startDate:t,endDate:n}}const t=v(e.arguments[1]);return{startDate:t,endDate:new Date(t)}}function N(e){const t=new Date(e.arguments[0].arguments[1].arguments[1].arguments[0].value);return t.setHours(23,59,59),{startDate:new Date(e.arguments[0].arguments[0].arguments[1].arguments[0].value),endDate:"<"===e.arguments[0].arguments[1].name?g()(t).add(-1,"d").toDate():t}}function b(e){return!!(y(e,["="])||(0,r.k)(e,"()")&&(0,r.k)(e.arguments[0],"and")&&y(e.arguments[0].arguments[0],[">=",">"])&&y(e.arguments[0].arguments[1],["<=","<"]))}function x(e){if((0,r.k)(e,"()")&&(0,r.k)(e.arguments[0],"and")){const t=e.arguments[0].arguments[0],n=e.arguments[0].arguments[1];if((0,r.k)(t,">=")&&["<=","<"].some((e=>(0,r.k)(n,e)))&&[t,n].every((e=>(0,r.k)(e.arguments[0],"cdate")&&(0,r.k)(e.arguments[1],"cdate"))))return!0}return!1}function k(e){if(x(e))return{...N(e),isRollingDate:!1};if(b(e))return{...w(e),isRollingDate:!0};throw new i.H("dateRange",e)}var T=n(45040);const O=e=>{if((0,r.k)(e,"isEmpty")&&(0,T.r)(e.arguments[0]))return e.arguments[0].identifiers[1].value},E={"<":"Lower","<=":"LowerOrEqual",">":"Greater",">=":"GreaterOrEqual","=":"Equal","<>":"NotEqual"};var C=n(6281);const D=["<","<=",">",">=","=","<>"];var M=n(80087);const H=(e,t)=>{if((0,r.k)(e,"{}")&&"Braces"===e.syntax){const[n,...r]=e.arguments.map((e=>H(e,t))),{dimensionName:a,hierarchyName:o,members:[i]}=n,u=[i];return r.forEach((t=>{if(t.dimensionName!==a||t.hierarchyName!==o)throw new Error(`createFilterOnMembers was called on an MDX that represents a set of members from different hierarchies. Only members of the same hierarchy are supported within a single call. If necessary, perform multiple calls. Mdx was: ${(0,s.A)(e)}`);u.push(t.members[0])})),{dimensionName:a,hierarchyName:o,members:u,type:"members"}}if("CompoundIdentifier"===e.elementType){const{dimensionName:n,hierarchyName:r,namePath:a}=(0,M.U)(e,{cube:t,shouldThrowOnMissingHierarchy:!0});return{dimensionName:n,hierarchyName:r,members:[a],type:"members"}}throw new Error(`createFilterOnMembers was called with an MDX that does not represent a filter on members: ${(0,s.A)(e)}`)};var S=n(26689),R=n(64164);function A(e,t){if((0,r.k)(e,t)&&(0,r.k)(e.arguments[0],"datediff")&&(0,m.z)(e.arguments[1])&&"SCALAR"===e.arguments[1].type){const t=e.arguments[0];if((0,m.z)(t.arguments[0])&&"STRING"===t.arguments[0].type&&(0,r.k)(t.arguments[1],"cdate")&&(0,r.k)(t.arguments[2],"membervalue"))return!0}return!1}var L=n(60824),U=n(84973),I=n(875);const P=e=>(0,r.k)(e)&&["topcount","topsum","toppercent","bottomcount","bottomsum","bottompercent"].includes(e.name.toLowerCase()),_=({mdx:e,cube:t,levelIndex:n,scope:a})=>{const s=e.name,o=e.arguments[0].arguments[0],i=parseInt(e.arguments[1].value,10),u=e.arguments[2],m=(0,r.k)(u,"abs")?u.arguments[0]:u,l=(0,C._)(m),c=o.arguments[0].arguments[0],[{dimensionName:d,hierarchyName:h}]=(0,U.s)(c,{cube:t}),p=(0,L.q)({dimensionName:d,hierarchyName:h},t);return{dimensionName:d,hierarchyName:h,levelName:(0,I.A)(p,n),limit:i,measureName:l,topBottomMode:s,scope:a,type:"topBottomMembers"}},$=e=>{const[t,n]=e.arguments;return(0,T.r)(t)&&(0,m.z)(n)&&"SCALAR"===n.type},j={members:H,topBottomMembers:(e,t)=>{if(P(e)){const n=e.arguments[0].arguments[0],r="children"===n.name.toLocaleLowerCase()?"ofEachParent":"overall",a="overall"===r?parseInt(n.arguments[0].arguments[1].value,10):0;return _({mdx:e,cube:t,levelIndex:a,scope:r})}if((0,r.k)(e,"generate")&&(0,r.k)(e.arguments[0],"members")&&(0,r.k)(e.arguments[0].arguments[0])&&(0,m.z)(e.arguments[0].arguments[0].arguments[1])&&P(e.arguments[1])){const n="children"===e.arguments[1].arguments[0].arguments[0].name.toLocaleLowerCase()?"ofEachParent":"overall",r=parseInt(e.arguments[0].arguments[0].arguments[1].value,10)+1;return _({mdx:e.arguments[1],cube:t,levelIndex:r,scope:n})}throw new Error(`createFilterOnTopBottomMembers was called with an MDX that does not represent a filter on top/bottom members: ${(0,s.A)(e)}`)},lowerOrGreaterValue:(e,t)=>{if(!(0,r.k)(e,"filter")||!(0,r.k)(e.arguments[0],"members"))throw new i.H("lowerOrGreaterValue",e);const n=e.arguments[0].arguments[0],s=e.arguments[1];if(!((0,a.E)(n)&&(u=s,"Function"===u.elementType&&(m=u.name,D.includes(m))&&"Infix"===u.syntax&&(0,T.r)(u.arguments[0])&&(e=>"Literal"===e.elementType&&"SCALAR"===e.type&&!1===isNaN(parseInt(e.value)))(u.arguments[1]))))throw new i.H("lowerOrGreaterValue",e);var u,m;const l=(0,o.t)(n,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==l.type)throw new i.H("lowerOrGreaterValue",e);const{dimensionName:c,hierarchyName:d,levelName:h}=l,p=E[s.name],f=(0,C._)(s.arguments[0]);return{dimensionName:c,hierarchyName:d,levelName:h,lowerOrGreaterLimit:parseFloat(s.arguments[1].value),measureName:f,lowerOrGreaterMode:p,type:"lowerOrGreaterValue"}},existenceOfValue:(e,t)=>{if(!(0,r.k)(e,"filter")||!(0,r.k)(e.arguments[0],"members"))throw new i.H("existenceOfValue",e);const n=e.arguments[0].arguments[0],s=(e=>(0,r.k)(e,"not")?{doesExist:!0,measureName:O(e.arguments[0])}:{doesExist:!1,measureName:O(e)})(e.arguments[1]);if(!(0,a.E)(n)||!s.measureName)throw new i.H("existenceOfValue",e);const u=(0,o.t)(n,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==u.type)throw new i.H("existenceOfValue",e);const{dimensionName:m,hierarchyName:l,levelName:c}=u;return{dimensionName:m,hierarchyName:l,levelName:c,doesExist:s.doesExist,measureName:s.measureName,type:"existenceOfValue"}},valuesRange:function(e,t){if(!(0,r.k)(e,"filter"))throw new i.H("valuesRange",e);const[n,a]=e.arguments;if(!(0,r.k)(n,"members")||!h(a))throw new i.H("valuesRange",e);const[s,u]=a.arguments,m=n.arguments[0];if(!$(s)||!$(u)||"CompoundIdentifier"!==m.elementType)throw new i.H("valuesRange",e);const l=(0,o.t)(m,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==l.type)throw new i.H("valuesRange",e);const{dimensionName:c,hierarchyName:d,levelName:p}=l,f=s.arguments[0],g=(0,o.t)(f,{cube:t,shouldThrowOnMissingHierarchy:!0});if("measure"!==g.type)throw new i.H("valuesRange",e);return{type:"valuesRange",dimensionName:c,hierarchyName:d,levelName:p,isBetween:"and"===a.name.toLowerCase(),lowerLimit:parseInt(s.arguments[1].value,10),upperLimit:parseInt(u.arguments[1].value,10),measureName:g.measureName}},lowerOrGreaterCaptions:function(e,t){if(!(0,r.k)(e,"filter"))throw new i.H("lowerOrGreaterCaptions",e);const[n,s]=e.arguments;if(!(0,r.k)(n,"members")||"Function"!==s.elementType||"Infix"!==s.syntax||void 0===E[s.name])throw new i.H("lowerOrGreaterCaptions",e);const u=E[s.name],m=n.arguments[0],l=s.arguments[1];if("Literal"!==l.elementType||!(0,a.E)(m)||"STRING"!==l.type||!(0,r.k)(s.arguments[0],"member_caption"))throw new i.H("lowerOrGreaterCaptions",e);const c=(0,o.t)(m,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==c.type)throw new i.H("lowerOrGreaterCaptions",e);const{dimensionName:d,hierarchyName:h,levelName:p}=c;return{dimensionName:d,hierarchyName:h,levelName:p,token:l.value,lowerOrGreaterMode:u,type:"lowerOrGreaterCaptions"}},captionsContaining:function(e,t){if(!(0,r.k)(e,"filter"))throw new i.H("captionsContaining",e);const[n,d]=e.arguments;if(!(0,r.k)(n)||!(0,r.k)(d))throw new i.H("captionsContaining",e);const[h,p]=d.arguments,f=(({evaluationNode:e,literalOrScalarNode:t,stringSearchFunctionNode:n})=>{if(((0,r.k)(e,"=")||(0,r.k)(e,"<>"))&&u(t)&&((0,r.k)(n,"left")||(0,r.k)(n,"right"))&&2===n.arguments.length){const[r,a]=n.arguments;if(c(r)&&(0,m.z)(t)&&l(a,`${t.value.length}`)){const r=t.value;return"Left"===n.name?"="===e.name?{token:r,mode:"startsWith"}:{token:r,mode:"doesNotStartWith"}:"="===e.name?{token:r,mode:"endsWith"}:{token:r,mode:"doesNotEndWith"}}}if(((0,r.k)(e,">")||(0,r.k)(e,"="))&&l(t,"0")&&(0,r.k)(n,"instr")&&3===n.arguments.length){const[t,r,a]=n.arguments;if(c(r)&&l(t,"1")&&u(a)&&n.arguments[2]&&(0,m.z)(n.arguments[2])){const t=n.arguments[2].value;return"="===e.name?{token:t,mode:"doesNotContain"}:{token:t,mode:"contains"}}}})({evaluationNode:d,literalOrScalarNode:p,stringSearchFunctionNode:h});if(!f)throw new i.H("captionsContaining",e);const g=n.arguments[0];if(!(0,a.E)(g))throw new Error(`MDX does not represent a filter on captions containing: ${(0,s.A)(e)}`);const y=(0,o.t)(g,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==y.type)throw new i.H("captionsContaining",e);const{dimensionName:v,hierarchyName:w,levelName:N}=y;return{dimensionName:v,hierarchyName:w,levelName:N,token:f.token,containingMode:f.mode,type:"captionsContaining"}},captionsRange:function(e,t){if(!(0,r.k)(e,"filter"))throw new i.H("captionsRange",e);const[n,s]=e.arguments;if(!(0,r.k)(n,"members")||!(0,r.k)(s)||!h(s))throw new i.H("captionsRange",e);const u=n.arguments[0],[m,l]=s.arguments;if(!p(m)||!p(l)||!(0,a.E)(u))throw new i.H("captionsRange",e);const c=(0,o.t)(u,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==c.type)throw new i.H("captionsRange",e);const{dimensionName:d,hierarchyName:f,levelName:g}=c,y=m.arguments[1],v=l.arguments[1];return{type:"captionsRange",dimensionName:d,hierarchyName:f,levelName:g,lowerToken:y.value,upperToken:v.value,isBetween:"and"===s.name.toLowerCase()}},dateRange:function(e,t){if(!(0,r.k)(e,"filter"))throw new i.H("dateRange",e);const[n,s]=e.arguments;if(!(0,r.k)(n,"members")||!(0,r.k)(s,"and"))throw new i.H("dateRange",e);const[u,m]=s.arguments,l=n.arguments[0];if(!(0,r.k)(u,"isdate")||!x(m)&&!b(m)||!(0,a.E)(l))throw new i.H("dateRange",e);const c=(0,o.t)(l,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==c.type)throw new i.H("dateRange",e);const{dimensionName:d,hierarchyName:h,levelName:p}=c;return{type:"dateRange",dimensionName:d,hierarchyName:h,levelName:p,...k(m)}},timePeriodToDate:function(e,t){if(!(0,r.k)(e,"filter"))throw new i.H("timePeriodToDate",e);const[n,a]=e.arguments;if(!(0,r.k)(n,"members")||!(0,r.k)(a,"and"))throw new i.H("timePeriodToDate",e);const[s,u]=a.arguments;if(!(0,r.k)(s,"isdate")||!(0,r.k)(u,"()")||!(0,r.k)(u.arguments[0],"and"))throw new i.H("timePeriodToDate",e);const[m,l]=u.arguments[0].arguments;if(!A(m,"=")||!A(l,"<="))throw new i.H("timePeriodToDate",e);const c=m.arguments[0].arguments[0].value,d=n.arguments[0];if("CompoundIdentifier"!==d.elementType)throw new i.H("timePeriodToDate",e);const h=(0,o.t)(d,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==h.type)throw new i.H("timePeriodToDate",e);const{dimensionName:p,hierarchyName:f,levelName:g}=h;return{type:"timePeriodToDate",dimensionName:p,hierarchyName:f,levelName:g,timePeriod:"m"===c?"month":"q"===c?"quarter":"year"}},recentDates:(e,t)=>{if(!(0,r.k)(e,"Subset"))throw new i.H("recentDates",e);const[n,s,u]=e.arguments;if(!((0,r.k)(n,"Order")&&l(s,"0")&&(0,m.z)(u)&&"SCALAR"===u.type))throw new i.H("recentDates",e);const[c,d,h]=n.arguments;if(!(0,m.z)(h)||"BDESC"!==h.value)throw new i.H("recentDates",e);if(!(0,r.k)(c))throw new i.H("recentDates",e);const p=function(e,t){if(!(0,r.k)(e,"Members")||!(0,a.E)(e.arguments[0]))return;const n=(0,o.t)(e.arguments[0],{cube:t});return"level"===n.type&&(0,S.r)(n,t).type.includes("TIME")?n:void 0}(c,t),f=function(e,t){if(!((0,r.k)(e,"MemberValue")&&(0,r.k)(e.arguments[0],"CurrentMember")&&(0,a.E)(e.arguments[0].arguments[0])))return;const n=(0,o.t)(e.arguments[0].arguments[0],{cube:t});return"hierarchy"===n.type?n:void 0}(d,t);if(!p||!f||!(0,R.q)(p,f))throw new i.H("recentDates",e);const g=c.arguments[0];if(!(0,a.E)(g))throw new i.H("recentDates",e);const y=(0,o.t)(g,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==y.type)throw new i.H("recentDates",e);const{dimensionName:v,hierarchyName:w,levelName:N}=y,b=e.arguments[2];if(!(0,m.z)(b)||"SCALAR"!==b.type)throw new i.H("recentDates",e);return{dimensionName:v,hierarchyName:w,levelName:N,numberOfRecentDates:parseInt(b.value),type:"recentDates"}}};function z(e,t){if((0,r.k)(e,"except"))return{...z(e.arguments[1],t),isExclusionFilter:!0};for(const n of Object.values(j))try{return n(e,t)}catch{}return function(e,t){const n=(0,U.s)(e,{cube:t})[0];if(void 0===n)throw new Error("An MDX expression representing a filter must include a hierarchy.");return{type:"custom",mdx:e,...n}}(e,t)}},5389:(e,t,n)=>{n.d(t,{e:()=>a});var r=n(110);class a extends Error{constructor(e,t){super(`Expression ${(0,r.A)(e)} cannot be resolved as a member of cube "${t}".`)}}},77800:(e,t,n)=>{n.d(t,{l:()=>f});var r=n(31529),a=n(60824),s=n(64164),o=n(37805),i=n(8040);function u({descendantsNode:e,dimensionName:t,hierarchyName:n,indexOfDeepestLevelExpressedInInputSet:r,cube:s}){const[,u,m]=e.arguments,l=u&&!((0,i.z)(u)&&"PLACE_HOLDER"===u.type),c=m&&(0,i.z)(m)?m.value.toLowerCase():void 0,d=(0,a.q)({dimensionName:t,hierarchyName:n},s),h=Object.keys(d.levels);if(c&&c.includes("after"))return h.length-1;if(!l&&!c)return h.length-1;if(!l&&"leaves"===c)return h.length-1;let p=r;if(u)if((0,o.E)(u)){const e=u.identifiers[2].value;p=h.findIndex((t=>t===e))}else{if(!(0,i.z)(u))throw new Error(`Unsupported elementType "${u.elementType}". The second argument of a Descendants function is expected to be a literal (elementType="Literal").`);p+=parseInt(u.value,10)}return"before"===c&&p--,p=Math.max(0,r,p),p=Math.min(p,h.length-1),p}var m=n(875),l=n(1402),c=n(53719),d=n(13733),h=n(28351),p=n(36643);const f=(e,t,n)=>{const f=[];(0,c.G)(e,{cube:t}).forEach((({match:n,path:s})=>{const c=(0,l.t)(n,{cube:t});if("level"===c.type||"member"===c.type||"hierarchy"===c.type){const{dimensionName:n,hierarchyName:l}=c,h=(0,a.q)({dimensionName:n,hierarchyName:l},t);let g=0;if("level"===c.type||"member"===c.type){const e=c.levelName;g=h.levels[e].index}const{path:y}=(0,d.A)(e,s,{shouldStopAtUnion:!0});for(let a=y.length-1;a<s.length;a++){const m=s.slice(0,a),d=0===m.length?e:(0,r.get)(e,m);if((0,p.k)(d))switch(d.name.toLowerCase()){case"currentmember":return;case"drilldownlevel":case"drilldownlevelbottom":case"drilldownleveltop":case"drilldownmember":case"drilldownmemberbottom":case"drilldownmembertop":case"children":case"firstchild":case"lastchild":g++;break;case"drilluplevel":case"parent":g--;break;case"ancestor":case"ancestors":{const e=d.arguments[1];if((0,o.E)(e)){const t=e.identifiers[2].value;g=h.levels[t].index}else{if(!(0,i.z)(e))throw new Error(`Unsupported elementType "${e.elementType}". The second argument of an "${d.name}" function is expected to be a literal (elementType="Literal").`);g-=parseInt(e.value,10)}}break;case"descendants":g=u({descendantsNode:d,dimensionName:n,hierarchyName:l,indexOfDeepestLevelExpressedInInputSet:g,cube:t});break;case"allmembers":case"members":g="hierarchy"===c.type?Object.values(h.levels).length-1:g}}g=Math.max(0,g),g=Math.min(g,Object.keys(h.levels).length-1);const v=(0,m.A)(h,g);f.push({dimensionName:n,hierarchyName:l,levelName:v,match:(0,r.get)(e,y),path:y})}}));const g=f.filter((({match:t,path:n})=>(0,h.y)(e,n)&&!(0,p.k)(t,"DefaultMember")));return n?g.filter((({dimensionName:e,hierarchyName:t,levelName:r})=>n.some((n=>(0,s.q)({dimensionName:e,hierarchyName:t},n)&&(!("levelName"in n)||r===n.levelName))))):g}},80541:(e,t,n)=>{n.d(t,{U:()=>h});var r=n(60824),a=n(16931),s=n(80087),o=n(1402),i=n(37805),u=n(36643),m=n(18697);function l(e,t){const[n,r]=e.arguments,a=(0,u.k)(n,"{}")&&1===n.arguments.length?n.arguments[0]:n,m=(0,s.U)(a,{cube:t,shouldThrowOnInvalidMember:!1}),l=function(e,t){if(!e||!(0,i.E)(e))return;const n=(0,o.t)(e,{cube:t});return"level"===n.type?{dimensionName:n.dimensionName,hierarchyName:n.hierarchyName,levelName:n.levelName}:void 0}(r,t);if(m&&l)return{memberCoordinates:m,toLevel:l}}function c(e,t){const n=[],r=e.arguments;let o=0;for(;o<r.length;o++){const e=r[o],a=(0,s.U)(e,{cube:t,shouldThrowOnInvalidMember:!1});if(!a)break;n.push(a)}if(0===o)return;const i=r[o],m=(0,u.k)(i,"AddCalculatedMembers")?i.arguments[0]:i;if((0,u.k)(m,"Descendants")){const e=l(m,t);if(e)return n.push(e.memberCoordinates),{tupleCoordinates:n,toLevel:e.toLevel}}const c=(0,a.u)(m,{cube:t})[0];return c?{tupleCoordinates:n,toLevel:c}:void 0}function d(e,t){return e.some((e=>"Measures"!==e.dimensionName&&!(0,r.q)(e,t).slicing&&1===e.namePath.length&&"AllMember"===e.namePath[0]))}function h(e,t,n){(0,m.y)(e,((e,r)=>{if((0,u.k)(e,"union"))for(let a=0;a<e.arguments.length;a++){const s=e.arguments[a],o=(0,u.k)(s,"AddCalculatedMembers")?s.arguments[0]:s;let i;if((0,u.k)(o,"Descendants")){const e=l(o,t);e&&(i={tupleCoordinates:[e.memberCoordinates],toLevel:e.toLevel})}if((0,u.k)(o,"Crossjoin")&&(i=c(o,t)),i&&!d(i.tupleCoordinates,t)&&!1===n({...i,path:[...r,"arguments",a]}))return!1}}))}},31897:(e,t,n)=>{n.d(t,{E:()=>s});var r=n(45040),a=n(11437);function s(e){return(0,a.E)(e)?s(e.select):e.withClause?.reduce(((e,t)=>{const{identifiers:n}=t.name;return(0,r.r)(t.name)?{...e,[n[1].value]:t}:e}),{})}},64626:(e,t,n)=>{n.d(t,{P:()=>o});var r=n(31529),a=n(80541),s=n(52634);function o(e,t){if((0,s.n)(e))return(0,r.flatMap)(e.axes,(e=>o(e,t)));const n=[];return(0,a.U)(e,t,(({tupleCoordinates:e,toLevel:t})=>{n.push({tupleCoordinates:e,toLevel:t})})),n}},78081:(e,t,n)=>{n.d(t,{g:()=>a});var r=n(52624);function a(e,{cube:t}){return(0,r.F)(e,{cube:t})}},16931:(e,t,n)=>{n.d(t,{u:()=>s});var r=n(31529),a=n(77800);function s(e,{cube:t}){const n=(0,a.l)(e,t);return(0,r.uniqWith)(n.map((({dimensionName:e,hierarchyName:t,levelName:n})=>({dimensionName:e,hierarchyName:t,levelName:n}))),r.isEqual)}},6281:(e,t,n)=>{function r(e){return"measure"===e.type?e.measureName:e.identifiers[1].value}n.d(t,{_:()=>r})},83596:(e,t,n)=>{n.d(t,{d:()=>m});var r=n(31529),a=n(6281),s=n(30059),o=n(48982),i=n(11437),u=n(18697);function m(e){if(null==e)return[];if((0,i.E)(e))return m(e.select);const t=(0,s.Y)(e),n=e.axes.find((({name:e})=>e===t));if(!n)return[];const l=[];(0,u.y)(n,((e,t)=>{(0,o.D)(n,e,t)&&l.push(e)}));const c=l.map(a._);return(0,r.uniq)(c)}},30059:(e,t,n)=>{n.d(t,{Y:()=>s});var r=n(14178),a=n(48982);function s(e){const t=e.axes.find((e=>void 0!==(0,r.T)(e,((t,n)=>(0,a.D)(e,t,n)))));return t?t.name:"COLUMNS"}},80087:(e,t,n)=>{n.d(t,{U:()=>o});var r=n(5389),a=n(1402),s=n(37805);function o(e,t){try{if(!(0,s.E)(e))throw new r.e(e,t.cube.name);const n=(0,a.t)(e,t);if("measure"===n.type)return{dimensionName:"Measures",hierarchyName:"Measures",namePath:[n.measureName]};if("member"===n.type)return{dimensionName:n.dimensionName,hierarchyName:n.hierarchyName,namePath:n.path};throw new r.e(e,t.cube.name)}catch(e){if(e instanceof r.e&&!1===t.shouldThrowOnInvalidMember)return;throw e}}},51227:(e,t,n)=>{n.d(t,{b:()=>m});var r=n(64164),a=n(95091),s=n(1402),o=n(31529),i=n(110);const u=(e,t,n)=>{const[r,u]=[e,t].map((e=>(0,s.t)(e,{cube:n}))),m=[r,u].find((({type:e})=>!["measure","member"].includes(e)));if(void 0!==m)throw new Error(`The compound identifier "${(0,i.A)(m,{indent:!0})}" does not represent a member.`);return"measure"===r.type&&"measure"===u.type?r.measureName===u.measureName:"member"===r.type&&"member"===u.type&&!!(0,a.M)(r,u)&&(r.path.length===u.path.length?(0,o.isEqual)(r,u):r.path.at(-1)===u.path.at(-1))};function m(e,t,n){const[o,i]=[e,t].map((e=>(0,s.t)(e,{cube:n})));if(o.type!==i.type)return!1;switch(o.type){case"namedSet":return o.setName===i.setName;case"dimension":return o.dimensionName===i.dimensionName;case"hierarchy":return(0,r.q)(o,i);case"level":return(0,a.M)(o,i);case"measure":case"member":return u(o,i,n)}}},53719:(e,t,n)=>{n.d(t,{G:()=>i});var r=n(64164),a=n(84973),s=n(37805),o=n(18697);const i=(e,{hierarchyCoordinates:t,cube:n})=>{const i=[];return(0,o.y)(e,((e,o)=>{if((0,s.E)(e))if(t){const[s]=(0,a.s)(e,{cube:n});(0,r.q)(t,s)&&i.push({match:e,path:o})}else i.push({match:e,path:o})})),i}},52624:(e,t,n)=>{n.d(t,{F:()=>c});var r=n(1402),a=n(37805),s=n(11437),o=n(36643),i=n(51227),u=n(57706);const m=e=>e?(0,o.k)(e.expression)&&"()"===e.expression.name?e.expression.arguments.map(((e,t)=>({mdx:e,path:["expression","arguments",t],filterClass:"slicer"}))):[{mdx:e.expression,path:["expression"],filterClass:"slicer"}]:[],l=(e,t,n)=>{const s=(0,r.t)(e.mdx,{cube:n});return t.findIndex((e=>!!(0,a.E)(e.mdx)&&(0,i.b)(s,e.mdx,n)))};function c(e,{cube:t}){if((0,s.E)(e))return c(e.select,{cube:t}).map((({mdx:e,paths:t,filterClass:n})=>({mdx:e,paths:t.map((e=>["select",...e])),filterClass:n})));const n=[];if((0,u.p)(e)){const t=(e.axes||[]).findIndex((e=>"COLUMNS"===e.name));if(-1!==t){const r=e.axes[t];n.push({mdx:r.expression,paths:[["axes",t,"expression"]],filterClass:"subselect"})}}const r=e.from&&(0,u.p)(e.from)?c(e.from,{cube:t}).map((({mdx:e,paths:t,filterClass:n})=>({mdx:e,paths:t.map((e=>["from",...e])),filterClass:n}))):[],a=e.slicerAxis?m(e.slicerAxis).map((({mdx:e,path:t})=>({mdx:e,path:["slicerAxis",...t],filterClass:"slicer"}))):[],o=[];let i=0;for(;i+o.length<a.length;){const e=a[i+o.length],n=l(e,r,t);-1!==n?(r[n].paths.push(e.path),i++):o.push({mdx:e.mdx,paths:[e.path],filterClass:"slicer"})}return[...r,...o,...n]}},43649:(e,t,n)=>{n.d(t,{s:()=>u});var r=n(18697),a=n(13733),s=n(48982),o=n(43271),i=n(52634);const u=e=>{const t=[];if((0,i.n)(e))for(let t=0;t<e.axes.length;t++){const n=u(e.axes[t]);if(n.length>0)return n.map((e=>["axes",t,...e]))}if((0,o.C)(e)){const n=e;(0,r.y)(n,((e,r)=>{if((0,s.D)(n,e,r)&&!t.some((e=>e.every(((e,t)=>r[t]===e))))){const{path:e}=(0,a.A)(n,r);t.push(e)}}))}return t}},48982:(e,t,n)=>{n.d(t,{D:()=>i});var r=n(31529),a=n(45040),s=n(36643),o=n(43271);const i=(e,t,n)=>{if(!(0,a.r)(t))return!1;const i=(0,r.initial)(n),u=(0,r.initial)(i),m=i.length>0?(0,r.get)(e,i):e,l=u.length>0?(0,r.get)(e,u):void 0;return(0,o.C)(m)||(0,s.k)(l)&&("{}"===l.name||"crossjoin"===l.name.toLowerCase())}},57706:(e,t,n)=>{n.d(t,{p:()=>r});const r=e=>"SubSelect"===e.elementType},45040:(e,t,n)=>{n.d(t,{r:()=>s});var r=n(6281),a=n(37805);const s=(e,{measureName:t}={})=>!(!(0,a.E)(e)||"measures"!==e.identifiers[0].value.toLowerCase()||void 0===e.identifiers[1]||void 0!==t&&(0,r._)(e)!==t)},8040:(e,t,n)=>{function r(e){return"Literal"===e.elementType}n.d(t,{z:()=>r})},8749:(e,t,n)=>{n.d(t,{O7:()=>o,uC:()=>i});var r=n(93345),a=n(52057);const s=(0,r.createContext)({}),o=s.Provider;function i(e){const t=(0,r.useContext)(s);return(0,r.useMemo)((()=>e.map((e=>(0,a.s)("menu-item",e,t)))),[t,e])}s.Consumer},84453:(e,t,n)=>{n.d(t,{y:()=>s});var r=n(90147),a=n(31529);const s=function(e,t,n){return(0,r.produce)(e,(e=>{(0,a.update)(e,t,n)}))}},91747:(e,t,n)=>{n.d(t,{Ay:()=>y,IE:()=>a});const r={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"},a={undo:()=>({type:r.UNDO}),redo:()=>({type:r.REDO}),jumpToFuture:e=>({type:r.JUMP_TO_FUTURE,index:e}),jumpToPast:e=>({type:r.JUMP_TO_PAST,index:e}),jump:e=>({type:r.JUMP,index:e}),clearHistory:()=>({type:r.CLEAR_HISTORY})};function s(e,t=[]){return Array.isArray(e)?e:"string"==typeof e?[e]:t}function o(e,t,n,r=null){return{past:e,present:t,future:n,group:r,_latestUnfiltered:t,index:e.length,limit:e.length+n.length+1}}let i,u;const m={prevState:"#9E9E9E",action:"#03A9F4",nextState:"#4CAF50"};function l(e,t,n){return[`%c${e}`,`color: ${t}; font-weight: bold`,n]}function c(e){i&&(console.group?u.next=l("next history",m.nextState,e):u.next=["next history",e],function(){const{header:e,prev:t,next:n,action:r,msgs:a}=u;console.group?(console.groupCollapsed(...e),console.log(...t),console.log(...r),console.log(...n),console.log(...a),console.groupEnd()):(console.log(...e),console.log(...t),console.log(...r),console.log(...n),console.log(...a))}())}function d(...e){i&&(u.msgs=u.msgs.concat([...e,"\n"]))}function h(e,t){const n=o([],e,[]);return t&&(n._latestUnfiltered=null),n}function p(e,t){if(t<0||t>=e.future.length)return e;const{past:n,future:r,_latestUnfiltered:a}=e;return o([...n,a,...r.slice(0,t)],r[t],r.slice(t+1))}function f(e,t){if(t<0||t>=e.past.length)return e;const{past:n,future:r,_latestUnfiltered:a}=e,s=n.slice(0,t),i=[...n.slice(t+1),a,...r];return o(s,n[t],i)}function g(e,t){return t>0?p(e,t-1):t<0?f(e,e.past.length+t):e}function y(e,t={}){!function(e){i=e}(t.debug);const n={limit:void 0,filter:()=>!0,groupBy:()=>null,undoType:r.UNDO,redoType:r.REDO,jumpToPastType:r.JUMP_TO_PAST,jumpToFutureType:r.JUMP_TO_FUTURE,jumpType:r.JUMP,neverSkipReducer:!1,ignoreInitialState:!1,syncFilter:!1,...t,initTypes:s(t.initTypes,["@@redux-undo/INIT"]),clearHistoryType:s(t.clearHistoryType,[r.CLEAR_HISTORY])},a=n.neverSkipReducer?(t,n,...r)=>({...t,present:e(t.present,n,...r)}):e=>e;let y;return(t=y,r={},...s)=>{!function(e,t){u={header:[],prev:[],action:[],next:[],msgs:[]},i&&(console.group?(u.header=["%credux-undo","font-style: italic","action",e.type],u.action=l("action",m.action,e),u.prev=l("prev history",m.prevState,t)):(u.header=["redux-undo action",e.type],u.action=["action",e],u.prev=["prev history",t]))}(r,t);let v,w=t;if(!y){if(d("history is uninitialized"),void 0===t)return w=h(e(t,{type:"@@redux-undo/CREATE_HISTORY"},...s),n.ignoreInitialState),d("do not set initialState on probe actions"),c(w),w;!function(e){return typeof e.present<"u"&&typeof e.future<"u"&&typeof e.past<"u"&&Array.isArray(e.future)&&Array.isArray(e.past)}(t)?(w=y=h(t,n.ignoreInitialState),d("initialHistory initialized: initialState is not a history",y)):(w=y=n.ignoreInitialState?t:o(t.past,t.present,t.future),d("initialHistory initialized: initialState is a history",y))}switch(r.type){case void 0:return w;case n.undoType:return v=g(w,-1),d("perform undo"),c(v),a(v,r,...s);case n.redoType:return v=g(w,1),d("perform redo"),c(v),a(v,r,...s);case n.jumpToPastType:return v=f(w,r.index),d(`perform jumpToPast to ${r.index}`),c(v),a(v,r,...s);case n.jumpToFutureType:return v=p(w,r.index),d(`perform jumpToFuture to ${r.index}`),c(v),a(v,r,...s);case n.jumpType:return v=g(w,r.index),d(`perform jump to ${r.index}`),c(v),a(v,r,...s);case function(e,t){return t.indexOf(e)>-1?e:!e}(r.type,n.clearHistoryType):return v=h(w.present,n.ignoreInitialState),d("perform clearHistory"),c(v),a(v,r,...s);default:if(v=e(w.present,r,...s),n.initTypes.some((e=>e===r.type)))return d("reset history due to init action"),c(y),y;if(w._latestUnfiltered===v)return w;if("function"==typeof n.filter&&!n.filter(r,v,w)){const e=o(w.past,v,w.future,w.group);return n.syncFilter||(e._latestUnfiltered=w._latestUnfiltered),d("filter ignored action, not storing it in past"),c(e),e}const t=n.groupBy(r,v,w);if(null!=t&&t===w.group){const e=o(w.past,v,w.future,w.group);return d("groupBy grouped the action with the previous action"),c(e),e}return w=function(e,t,n,r){const a=e.past.length+1;d("inserting",t),d("new free: ",n-a);const{past:s,_latestUnfiltered:i}=e,u=n&&n<=a,m=s.slice(u?1:0);return o(null!=i?[...m,i]:m,t,[],r)}(w,v,n.limit,t),d("inserted new state into history"),c(w),w}}}}}]);