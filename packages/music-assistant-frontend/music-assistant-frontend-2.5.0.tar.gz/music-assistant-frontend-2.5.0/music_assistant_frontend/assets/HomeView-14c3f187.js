import{_ as J}from"./logo-61d7c0d2.js";import{L as X,C as Z}from"./Container-eb92362b.js";import{d as h,o as x,q as I,c as s,e as w,w as r,Q as ee,u as d,ae as te,G as V,h as o,f as n,g as _,t as u,O as j,F as S,i as L,j as $,D as G,M as Q,r as ie,af as f,b as c,m as C,a2 as se,s as k,U as q,N as ae,l as re,ag as oe,_ as le,a0 as ne}from"./index-0ae84607.js";import{_ as ue}from"./PanelviewItem.vue_vue_type_style_index_0_lang-a0b4c306.js";import{i as de,e as me}from"./contextmenu-5ae46870.js";import{b as P,V as ce,t as _e}from"./forwardRefs-d0d7c5bd.js";import{V as pe,M as ye,i as ve}from"./VBadge-bfb26993.js";import{V as U}from"./VToolbar-b7dd8339.js";import{V as we}from"./VCard-e96ab32b.js";import{_ as Y}from"./Button-a1dfd3f5.js";import"./VMenu-f26d3a19.js";/* empty css              */import"./VTooltip-054ea37d.js";import"./VInput-00e20677.js";import"./VSlideGroup-18f8a11f.js";import"./VCardText-b1a0de89.js";const K=h({__name:"Carousel",setup(y){return x(()=>{document.documentElement.style.setProperty("--swiper-navigation-color","primary")}),(e,t)=>{const i=I("swiper");return s(),w(i,{"slides-per-view":d(te)(e.$vuetify.display.width)+.5,"space-between":24,"free-mode":!0,navigation:!d(V)({breakpoint:"mobile"})},{default:r(()=>[ee(e.$slots,"default")]),_:3},8,["slides-per-view","navigation"])}}}),fe={key:0,class:"widget-row"},he={class:"mr-3"},be={key:1,class:"mr-3"},ge=h({__name:"HomeWidgetRow",props:{widgetRow:{}},setup(y){const e=function(t){de(t)&&["artist","album","playlist"].includes(t.media_type)?G.push({name:t.media_type,params:{itemId:t.item_id,provider:t.provider}}):t.media_type===Q.FOLDER?G.push({name:"browse",query:{path:t.path}}):me.emit("playdialog",{items:[t],showContextMenuItems:!0})};return(t,i)=>{const a=I("swiper-slide");return t.widgetRow.items.length?(s(),o("div",fe,[n(U,{color:"transparent",style:j(t.widgetRow.path?"cursor: pointer; width: fit-content;":"width: fit-content;"),onClick:i[0]||(i[0]=l=>t.widgetRow.path?t.$router.replace(t.widgetRow.path):"")},{prepend:r(()=>[n(P,{icon:t.widgetRow.icon},null,8,["icon"])]),title:r(()=>[t.widgetRow.count?(s(),w(pe,{key:0,inline:"",color:"grey",content:t.widgetRow.count},{default:r(()=>[_("span",he,u(t.$t(t.widgetRow.label)),1)]),_:1},8,["content"])):(s(),o("span",be,u(t.$t(t.widgetRow.label)),1))]),_:1},8,["style"]),n(K,null,{default:r(()=>[(s(!0),o(S,null,L(t.widgetRow.items,l=>(s(),w(a,{key:l.uri},{default:r(()=>[n(ue,{item:l,"show-checkboxes":!1,"show-track-number":!1,"is-selected":!1,onClick:e},null,8,["item"])]),_:2},1024))),128))]),_:1})])):$("",!0)}}});const ke=h({__name:"HomeWidgetRows",async setup(y){let e,t;const i=ie({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}});i.value.recently_played.items=([e,t]=f(()=>c.getRecentlyPlayedItems(20)),e=await e,t(),e);const a=([e,t]=f(()=>c.getLibraryArtists(void 0,void 0,20,void 0,"RANDOM()")),e=await e,t(),e);i.value.artists.items=a.items,i.value.artists.count=a.total;const l=([e,t]=f(()=>c.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,t(),e);i.value.albums.items=l.items,i.value.albums.count=l.total;const p=([e,t]=f(()=>c.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,t(),e);i.value.playlists.items=p.items,i.value.playlists.count=p.total;const m=([e,t]=f(()=>c.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,t(),e);i.value.radios.items=m.items,i.value.radios.count=m.total;const v=([e,t]=f(()=>c.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,t(),e);return i.value.tracks.items=v.items,i.value.tracks.count=v.total,[e,t]=f(()=>c.browse("",b=>{i.value.browse.items.push(...b)})),await e,t(),(b,R)=>(s(!0),o(S,null,L(i.value,g=>(s(),o("div",{key:g.label},[n(ge,{"widget-row":g},null,8,["widget-row"])]))),128))}}),qe={class:"media-thumb player-media-thumb"},Ce={style:{cursor:"pointer"}},$e={key:0},Pe={key:0},Re={key:1},Ve={key:2},Ie={style:{cursor:"pointer"},class:"line-clamp-1"},Se={key:0},Le={key:1},De={key:2,class:"line-clamp-1"},Ae={key:3,class:"line-clamp-1"},Ee={key:4,class:"line-clamp-1"},He={key:5,class:"line-clamp-1"},Me={style:{cursor:"pointer"}},Ne={style:{cursor:"pointer",fontWeight:"bold"}},ze=h({__name:"PanelviewPlayerCard",props:{queue:{}},setup(y){return(e,t)=>(s(),w(we,{class:ae(["panel-item",{"panel-item-selected":d(k).selectedPlayerId==e.queue.queue_id,"panel-item-idle":e.queue.state==d(q).IDLE}])},{default:r(()=>[n(X,{class:"panel-item-details"},{prepend:r(()=>{var i;return[_("div",qe,[n(ye,{size:"60",item:((i=e.queue.current_item)==null?void 0:i.media_item)||e.queue.current_item,fallback:d(ve),style:{cursor:"pointer"}},null,8,["item","fallback"])])]}),title:r(()=>{var i,a,l,p,m,v;return[_("div",Ce,[(i=e.queue.current_item)!=null&&i.media_item?(s(),o("div",$e,[C(u((a=e.queue.current_item)==null?void 0:a.media_item.name)+" ",1),"version"in((l=e.queue.current_item)==null?void 0:l.media_item)&&((p=e.queue.current_item)!=null&&p.media_item.version)?(s(),o("span",Pe,"("+u((m=e.queue.current_item)==null?void 0:m.media_item.version)+")",1)):$("",!0)])):e.queue.current_item?(s(),o("div",Re,u((v=e.queue.current_item)==null?void 0:v.name),1)):(s(),o("div",Ve,u(e.queue.display_name),1))])]}),subtitle:r(()=>{var i,a,l,p,m,v,b,R,g,D,A,E,H,M,N,z,B,T,O,W,F;return[_("div",Ie,[(i=e.queue.current_item)!=null&&i.media_item&&((l=(a=e.queue.current_item)==null?void 0:a.media_item)==null?void 0:l.media_type)==d(Q).TRACK&&"album"in((p=e.queue.current_item)==null?void 0:p.media_item)&&((m=e.queue.current_item)!=null&&m.media_item.album)?(s(),o("div",Se,u(d(se)((v=e.queue.current_item)==null?void 0:v.media_item.artists))+" â€¢ "+u((b=e.queue.current_item)==null?void 0:b.media_item.album.name),1)):(R=e.queue.current_item)!=null&&R.media_item&&"artists"in((g=e.queue.current_item)==null?void 0:g.media_item)&&((D=e.queue.current_item)==null?void 0:D.media_item.artists.length)>0?(s(),o("div",Le,u((A=e.queue.current_item)==null?void 0:A.media_item.artists[0].name),1)):(H=(E=e.queue.current_item)==null?void 0:E.streamdetails)!=null&&H.stream_title?(s(),o("div",De,u((N=(M=e.queue.current_item)==null?void 0:M.streamdetails)==null?void 0:N.stream_title),1)):(B=(z=e.queue.current_item)==null?void 0:z.media_item)!=null&&B.metadata.description?(s(),o("div",Ae,u((T=e.queue.current_item)==null?void 0:T.media_item.metadata.description),1)):e.queue.items==0?(s(),o("div",Ee,u(e.$t("queue_empty")),1)):((O=d(k).selectedPlayer)==null?void 0:O.active_source)!=((W=d(k).selectedPlayer)==null?void 0:W.player_id)?(s(),o("div",He,u(e.$t("external_source_active",[(F=d(k).selectedPlayer)==null?void 0:F.active_source])),1)):$("",!0)])]}),default:r(()=>[_("div",Me,[_("div",null,[C(" on "),_("span",Ne,u(e.queue.display_name),1)])])]),append:r(()=>[n(ce,{icon:"",variant:"text",onClick:t[0]||(t[0]=i=>d(c).queueCommandPlayPause(e.queue.queue_id))},{default:r(()=>[e.queue.state==d(q).PLAYING?(s(),w(P,{key:0,size:d(V)({breakpoint:"phone"})?"24":"32"},{default:r(()=>[C("mdi-pause-circle-outline")]),_:1},8,["size"])):(s(),w(P,{key:1,size:d(V)({breakpoint:"phone"})?"24":"32"},{default:r(()=>[C("mdi-play-circle-outline")]),_:1},8,["size"]))]),_:1})]),_:1})]),_:1},8,["class"]))}});const Be=Y(ze,[["__scopeId","data-v-cec58dcd"]]),Te={key:0,class:"widget-row"},Oe={class:"mr-3"},We=h({__name:"HomeCurrentlyPlayingRow",setup(y){const e={[q.PLAYING]:1,[q.PAUSED]:2,[q.IDLE]:2},t=re(()=>Object.values(c.queues).filter(a=>a.active&&a.items>0&&a.queue_id in c.players&&c.players[a.queue_id].powered).sort((a,l)=>a.display_name.localeCompare(l.display_name)).sort((a,l)=>e[a.state]-e[l.state]));function i(a){a&&a.queue_id in c.players&&(k.selectedPlayerId=a.queue_id)}return(a,l)=>{const p=I("swiper-slide");return t.value.length?(s(),o("div",Te,[n(U,{color:"transparent",style:{width:"fit-content"}},{prepend:r(()=>[n(P,{icon:"mdi-playlist-play"})]),title:r(()=>[_("span",Oe,u(a.$t("currently_playing")),1)]),_:1}),n(K,null,{default:r(()=>[(s(!0),o(S,null,L(t.value,m=>(s(),w(p,{key:m.queue_id,style:{"min-width":"300px","max-width":"500px"}},{default:r(()=>[n(Be,{queue:m,onClick:v=>i(m)},null,8,["queue","onClick"])]),_:2},1024))),128))]),_:1})])):$("",!0)}}}),Fe=y=>(le("data-v-a09f353c"),y=y(),ne(),y),Ge={class:"logo_box"},je=Fe(()=>_("div",{class:"logo_text"},"Music Assistant",-1)),Qe=h({__name:"HomeView",setup(y){return(e,t)=>(s(),o("div",null,[n(Z,{variant:"panel"},{default:r(()=>[_("div",Ge,[_("img",{class:"logo_icon",style:j(e.$vuetify.theme.current.dark?"filter: invert(100%);":""),width:"55",src:J},null,4),je]),(s(),w(oe,null,{fallback:r(()=>[n(_e,{indeterminate:""})]),default:r(()=>[_("div",null,[n(We),n(ke)])]),_:1}))]),_:1})]))}});const ut=Y(Qe,[["__scopeId","data-v-a09f353c"]]);export{ut as default};
