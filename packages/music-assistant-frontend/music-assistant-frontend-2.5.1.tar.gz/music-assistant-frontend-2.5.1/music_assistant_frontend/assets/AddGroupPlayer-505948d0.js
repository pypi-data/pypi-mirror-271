import{d as h,a1 as k,r as m,l as $,b as t,I as U,c as f,h as b,f as a,w as o,u as v,m as V,t as p,j as w,g as s}from"./index-43311bc3.js";import{a as B,V as N}from"./VCardText-bdb89c1f.js";import{a as P,V as y}from"./forwardRefs-651c2bd6.js";import{V as T}from"./VForm-38d36467.js";import{V as S}from"./VTextField-9b7f128a.js";import{V as j}from"./VSelect-431793b2.js";import"./VMenu-7c64b634.js";import"./VInput-54c6b2cd.js";import"./VSlideGroup-390b1a05.js";import"./VVirtualScroll-898a23a9.js";const q={key:0,style:{"margin-left":"-5px","margin-right":"-5px"}},D=s("br",null,null,-1),F=s("br",null,null,-1),G=s("br",null,null,-1),A=s("br",null,null,-1),E=s("br",null,null,-1),Q=h({__name:"AddGroupPlayer",props:{provider:{}},setup(_){const c=k(),n=m(""),i=m([]),u=m(!1),d=_,g=$(()=>Object.values(t.players).filter(e=>{var l;return d.provider.startsWith("ugp")||((l=t.getProvider(e.provider))==null?void 0:l.instance_id)==d.provider&&e.can_sync_with.length}).sort((e,l)=>e.display_name.toUpperCase()>l.display_name.toUpperCase()?1:-1).map(e=>({title:e.display_name,value:e.player_id})));U(()=>d.provider,async e=>{n.value="",u.value=!1,i.value=[]},{immediate:!0});const C=async function(){t.createPlayerGroup(d.provider,n.value,i.value),c.push({name:"playersettings"})};return(e,l)=>(f(),b("section",null,[a(N,null,{default:o(()=>[e.provider&&e.provider in v(t).providers?(f(),b("div",q,[a(B,null,{default:o(()=>[V(p(e.$t("settings.add_group_player"))+" ("+p(v(t).providers[e.provider].name)+") ",1)]),_:1}),D,a(P),F,G,a(T,{ref:"form",modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=r=>u.value=r),style:{"margin-right":"10px"}},{default:o(()=>[a(S,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=r=>n.value=r),label:e.$t("settings.player_name"),variant:"outlined",clearable:"",required:""},null,8,["modelValue","label"]),a(j,{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=r=>i.value=r),clearable:"",multiple:"",items:g.value,label:e.$t("settings.group_members"),required:""},null,8,["modelValue","items","label"]),A,a(y,{block:"",color:"primary",disabled:!u.value,onClick:C},{default:o(()=>[V(p(e.$t("settings.save")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),E,a(y,{block:"",onClick:l[3]||(l[3]=r=>v(c).back())},{default:o(()=>[V(p(e.$t("close")),1)]),_:1})])):w("",!0)]),_:1})]))}});export{Q as default};
