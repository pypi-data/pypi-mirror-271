import{C as X}from"./Container-55c3ff81.js";import{d as b,o as J,n as A,c as a,e as v,w as r,Q as Z,u as m,aa as x,D as V,g as n,f as l,i as h,t as u,O as ee,F as S,h as D,j as C,M as Y,C as U,s as y,b as c,r as j,ab as w,G as $,_ as te,ac as ie,U as f,N as ae,z as se,ad as re}from"./index-1fa25223.js";import{P as oe}from"./PanelviewItem-f1eef939.js";import{s as ne}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_be40882c_lang-79825e42.js";import{b as le,M as ue,i as de}from"./helpers-f9fbf435.js";import{o as P,V as me,t as ce,s as _e}from"./VListItem-53d44b85.js";import{V as pe}from"./VBadge-3b97e665.js";import{V as Q}from"./VToolbar-a7b4dbd4.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";import{T as ye}from"./Toolbar-77a90b60.js";import{V as ve}from"./VCard-99bbc2f5.js";/* empty css              */import"./VTooltip-c87f5f44.js";import"./Button-0d671d73.js";import"./VCheckboxBtn-4c4cfeff.js";import"./VLabel-148b546a.js";import"./VMenu-85495654.js";import"./eventbus-d154090d.js";import"./VList-f519ecda.js";import"./VCardText-bbb7eb1a.js";const K=b({__name:"Carousel",setup(g){return J(()=>{document.documentElement.style.setProperty("--swiper-navigation-color","primary")}),(e,s)=>{const t=A("swiper");return a(),v(t,{"slides-per-view":m(x)(e.$vuetify.display.width)+.5,"space-between":24,"free-mode":!0,navigation:!m(V)({breakpoint:"mobile"})},{default:r(()=>[Z(e.$slots,"default")]),_:3},8,["slides-per-view","navigation"])}}}),we={key:0,class:"widget-row"},fe={class:"mr-3"},he={key:1,class:"mr-3"},be=b({__name:"HomeWidgetRow",props:{widgetRow:{}},setup(g){const e=function(t,i){const o=Array.isArray(i)?i:[i];ne(o,void 0,t.clientX,t.clientY)},s=function(t,i){var o;if(!le(i)){e(t,i);return}i.media_type==Y.FOLDER?U.push({name:"browse",query:{path:i.path}}):["track","radio"].includes(i.media_type)&&((o=y.selectedPlayer)!=null&&o.available)?c.playMedia(i.uri):["artist","album","playlist"].includes(i.media_type)?U.push({name:i.media_type,params:{itemId:i.item_id,provider:i.provider}}):e(t,i)};return(t,i)=>{const o=A("swiper-slide");return t.widgetRow.items.length?(a(),n("div",we,[l(Q,{class:"header",color:"transparent",style:ee(t.widgetRow.path?"cursor: pointer; width: fit-content;":"width: fit-content;"),onClick:i[0]||(i[0]=d=>t.widgetRow.path?t.$router.replace(t.widgetRow.path):"")},{prepend:r(()=>[l(P,{icon:t.widgetRow.icon},null,8,["icon"])]),title:r(()=>[t.widgetRow.count?(a(),v(pe,{key:0,inline:"",color:"grey",content:t.widgetRow.count},{default:r(()=>[h("span",fe,u(t.$t(t.widgetRow.label)),1)]),_:1},8,["content"])):(a(),n("span",he,u(t.$t(t.widgetRow.label)),1))]),_:1},8,["style"]),l(K,null,{default:r(()=>[(a(!0),n(S,null,D(t.widgetRow.items,d=>(a(),v(o,{key:d.uri},{default:r(()=>[l(oe,{item:d,"show-checkboxes":!1,"show-track-number":!1,"is-selected":!1,onMenu:e,onClick:s},null,8,["item"])]),_:2},1024))),128))]),_:1})])):C("",!0)}}});const ge=I(be,[["__scopeId","data-v-fb91eb9a"]]),ke=b({__name:"HomeWidgetRows",async setup(g){let e,s;const t=j({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}});t.value.recently_played.items=([e,s]=w(()=>c.getRecentlyPlayedItems(20)),e=await e,s(),e);const i=([e,s]=w(()=>c.getLibraryArtists(void 0,void 0,20,void 0,"RANDOM()")),e=await e,s(),e);t.value.artists.items=i.items,t.value.artists.count=i.total;const o=([e,s]=w(()=>c.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,s(),e);t.value.albums.items=o.items,t.value.albums.count=o.total;const d=([e,s]=w(()=>c.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,s(),e);t.value.playlists.items=d.items,t.value.playlists.count=d.total;const _=([e,s]=w(()=>c.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,s(),e);t.value.radios.items=_.items,t.value.radios.count=_.total;const p=([e,s]=w(()=>c.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,s(),e);return t.value.tracks.items=p.items,t.value.tracks.count=p.total,[e,s]=w(()=>c.browse("",k=>{t.value.browse.items.push(...k)})),await e,s(),(k,R)=>(a(!0),n(S,null,D(t.value,q=>(a(),n("div",{key:q.label},[l(ge,{"widget-row":q},null,8,["widget-row"])]))),128))}}),qe={class:"media-thumb player-media-thumb"},Ce={style:{cursor:"pointer"}},Pe={key:0},Ie={key:0},Re={key:1},$e={key:2},Ve={style:{cursor:"pointer"},class:"line-clamp-1"},Ae={key:0},Se={key:1},De={key:2,class:"line-clamp-1"},Le={key:3,class:"line-clamp-1"},Me={key:4,class:"line-clamp-1"},Ee={key:5,class:"line-clamp-1"},He=b({__name:"PanelviewPlayerCard",props:{queue:{}},setup(g){return(e,s)=>(a(),v(ve,{class:ae(["panel-item",{"panel-item-selected":m(y).selectedPlayerId==e.queue.queue_id,"panel-item-idle":e.queue.state==m(f).PAUSED}])},{default:r(()=>[l(me,{class:"panel-item-details",flat:""},{prepend:r(()=>{var t;return[h("div",qe,[l(ue,{size:"60",item:((t=e.queue.current_item)==null?void 0:t.media_item)||e.queue.current_item,fallback:m(de),style:{cursor:"pointer"}},null,8,["item","fallback"])])]}),title:r(()=>{var t,i,o,d,_,p;return[h("div",Ce,[(t=e.queue.current_item)!=null&&t.media_item?(a(),n("div",Pe,[$(u((i=e.queue.current_item)==null?void 0:i.media_item.name)+" ",1),"version"in((o=e.queue.current_item)==null?void 0:o.media_item)&&((d=e.queue.current_item)!=null&&d.media_item.version)?(a(),n("span",Ie,"("+u((_=e.queue.current_item)==null?void 0:_.media_item.version)+")",1)):C("",!0)])):e.queue.current_item?(a(),n("div",Re,u((p=e.queue.current_item)==null?void 0:p.name),1)):(a(),n("div",$e,u(e.queue.display_name),1))])]}),subtitle:r(()=>{var t,i,o,d,_,p,k,R,q,L,M,E,H,N,z,T,B,F,O,W,G;return[h("div",Ve,[(t=e.queue.current_item)!=null&&t.media_item&&((o=(i=e.queue.current_item)==null?void 0:i.media_item)==null?void 0:o.media_type)==m(Y).TRACK&&"album"in((d=e.queue.current_item)==null?void 0:d.media_item)&&((_=e.queue.current_item)!=null&&_.media_item.album)?(a(),n("div",Ae,u(m(te)((p=e.queue.current_item)==null?void 0:p.media_item.artists))+" â€¢ "+u((k=e.queue.current_item)==null?void 0:k.media_item.album.name),1)):(R=e.queue.current_item)!=null&&R.media_item&&"artists"in((q=e.queue.current_item)==null?void 0:q.media_item)&&((L=e.queue.current_item)==null?void 0:L.media_item.artists.length)>0?(a(),n("div",Se,u((M=e.queue.current_item)==null?void 0:M.media_item.artists[0].name),1)):(H=(E=e.queue.current_item)==null?void 0:E.streamdetails)!=null&&H.stream_title?(a(),n("div",De,u((z=(N=e.queue.current_item)==null?void 0:N.streamdetails)==null?void 0:z.stream_title),1)):(B=(T=e.queue.current_item)==null?void 0:T.media_item)!=null&&B.metadata.description?(a(),n("div",Le,u((F=e.queue.current_item)==null?void 0:F.media_item.metadata.description),1)):e.queue.items==0?(a(),n("div",Me,u(e.$t("queue_empty")),1)):((O=m(y).selectedPlayer)==null?void 0:O.active_source)!=((W=m(y).selectedPlayer)==null?void 0:W.player_id)?(a(),n("div",Ee,u(e.$t("external_source_active",[(G=m(y).selectedPlayer)==null?void 0:G.active_source])),1)):C("",!0)])]}),default:r(()=>[h("h6",null,u(e.queue.display_name),1)]),append:r(()=>[l(ce,{icon:"",variant:"text",onClick:s[0]||(s[0]=ie(t=>m(c).queueCommandPlayPause(e.queue.queue_id),["stop"]))},{default:r(()=>[e.queue.state==m(f).PLAYING?(a(),v(P,{key:0,size:m(V)({breakpoint:"phone"})?"24":"32"},{default:r(()=>[$("mdi-pause-circle-outline")]),_:1},8,["size"])):(a(),v(P,{key:1,size:m(V)({breakpoint:"phone"})?"24":"32"},{default:r(()=>[$("mdi-play-circle-outline")]),_:1},8,["size"]))]),_:1})]),_:1})]),_:1},8,["class"]))}});const Ne=I(He,[["__scopeId","data-v-bd08efe7"]]),ze={key:0,class:"widget-row"},Te={class:"mr-3"},Be=b({__name:"HomeCurrentlyPlayingRow",setup(g){const e={[f.PLAYING]:1,[f.PAUSED]:2,[f.IDLE]:2},s=se(()=>Object.values(c.queues).filter(i=>i.active&&i.items>0&&i.queue_id in c.players&&c.players[i.queue_id].powered&&[f.PLAYING,f.PAUSED].includes(c.players[i.queue_id].state)).sort((i,o)=>i.display_name.localeCompare(o.display_name)).sort((i,o)=>e[i.state]-e[o.state]));function t(i){i&&i.queue_id in c.players&&(y.selectedPlayerId==i.queue_id?y.showFullscreenPlayer=!0:y.selectedPlayerId=i.queue_id)}return(i,o)=>{const d=A("swiper-slide");return s.value.length?(a(),n("div",ze,[l(Q,{class:"header",color:"transparent",style:{width:"fit-content"}},{prepend:r(()=>[l(P,{icon:"mdi-playlist-play"})]),title:r(()=>[h("span",Te,u(i.$t("currently_playing")),1)]),_:1}),l(K,null,{default:r(()=>[(a(!0),n(S,null,D(s.value,_=>(a(),v(d,{key:_.queue_id,style:{"min-width":"300px","max-width":"500px"}},{default:r(()=>[l(Ne,{queue:_,onClick:p=>t(_)},null,8,["queue","onClick"])]),_:2},1024))),128))]),_:1})])):C("",!0)}}});const Fe=I(Be,[["__scopeId","data-v-728330d7"]]),Oe=b({__name:"HomeView",setup(g){const e=j(localStorage.getItem("frontend.settings.hide_settings")=="true");return(s,t)=>(a(),n("div",null,[l(ye,{icon:"$mass",title:"Music Assistant","menu-items":e.value?[]:[{label:"settings.settings",icon:"mdi-cog-outline",action:()=>{s.$router.push({path:"settings"})}}]},null,8,["menu-items"]),l(X,{variant:"panel"},{default:r(()=>[(a(),v(re,null,{fallback:r(()=>[l(_e,{indeterminate:""})]),default:r(()=>[h("div",null,[l(Fe),l(ke)])]),_:1}))]),_:1})]))}});const ut=I(Oe,[["__scopeId","data-v-ee34c12f"]]);export{ut as default};
