import{a9 as C,l as b,C as re,o as K,I as x,a as ee,aM as ue,aN as H,aO as ce,au as ve,p as de,aP as me,y as he,n as fe,ad as ge,a8 as ye,A as X,ak as pe,as as we,r as te,aQ as be,B as ke,f as k,E as A,T as Se,F as ae,av as Me,d as _e,c as Y,e as F,w as R,g as ne,O as Ee,h as Te,i as Be,u as U,al as Ne,s as Z,G as q,_ as Ve,a0 as xe}from"./index-43311bc3.js";import{_ as Ce}from"./logo-61d7c0d2.js";import{B as Le}from"./Button-8f8a6597.js";import{u as Pe,f as Ie,d as j,V as De}from"./VMenu-7c64b634.js";import{d as Re,m as He,f as Ye,g as $e,c as Oe,i as We,j as G,l as ze,n as Xe,L as Ae,N as Fe,u as Ue,r as Ze,B as qe,a as je}from"./forwardRefs-651c2bd6.js";import{m as Ge,a as Qe}from"./layout-679c2edc.js";function Je(e){let{rootEl:a,isSticky:n,layoutItemStyles:h}=e;const t=C(!1),l=C(0),i=b(()=>{const y=typeof t.value=="boolean"?"top":t.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[y]:re(l.value)}:{top:h.value.top}]});K(()=>{x(n,y=>{y?window.addEventListener("scroll",M,{passive:!0}):window.removeEventListener("scroll",M)},{immediate:!0})}),ee(()=>{window.removeEventListener("scroll",M)});let f=0;function M(){const y=f>window.scrollY?"up":"down",c=a.value.getBoundingClientRect(),v=parseFloat(h.value.top??0),u=window.scrollY-Math.max(0,l.value-v),m=c.height+Math.max(l.value,v)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(a.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-v?(t.value="top",l.value=v):y==="up"&&t.value==="bottom"||y==="down"&&t.value==="top"?(l.value=window.scrollY+c.top-g,t.value=!0):y==="down"&&m<=0?(l.value=0,t.value="bottom"):y==="up"&&u<=0&&(g?t.value!=="top"&&(l.value=-u+g+v,t.value="top"):(l.value=c.top+u,t.value="top")),f=window.scrollY}return{isStuck:t,stickyStyles:i}}const Ke=100,et=20;function Q(e){const a=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*a}function J(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let a=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const h=Q(a),t=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);a+=(t-h)*Math.abs(t),n===e.length-1&&(a*=.5)}return Q(a)*1e3}function tt(){const e={};function a(t){Array.from(t.changedTouches).forEach(l=>{(e[l.identifier]??(e[l.identifier]=new ue(et))).push([t.timeStamp,l])})}function n(t){Array.from(t.changedTouches).forEach(l=>{delete e[l.identifier]})}function h(t){var y;const l=(y=e[t])==null?void 0:y.values().reverse();if(!l)throw new Error(`No samples for touch id ${t}`);const i=l[0],f=[],M=[];for(const c of l){if(i[0]-c[0]>Ke)break;f.push({t:c[0],d:c[1].clientX}),M.push({t:c[0],d:c[1].clientY})}return{x:J(f),y:J(M),get direction(){const{x:c,y:v}=this,[u,m]=[Math.abs(c),Math.abs(v)];return u>m&&c>=0?"right":u>m&&c<=0?"left":m>u&&v>=0?"down":m>u&&v<=0?"up":at()}}}return{addMovement:a,endTouch:n,getVelocity:h}}function at(){throw new Error}function nt(e){let{el:a,isActive:n,isTemporary:h,width:t,touchless:l,position:i}=e;K(()=>{window.addEventListener("touchstart",B,{passive:!0}),window.addEventListener("touchmove",E,{passive:!1}),window.addEventListener("touchend",N,{passive:!0})}),ee(()=>{window.removeEventListener("touchstart",B),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",N)});const f=b(()=>["left","right"].includes(i.value)),{addMovement:M,endTouch:y,getVelocity:c}=tt();let v=!1;const u=C(!1),m=C(0),g=C(0);let S;function L(o,r){return(i.value==="left"?o:i.value==="right"?document.documentElement.clientWidth-o:i.value==="top"?o:i.value==="bottom"?document.documentElement.clientHeight-o:V())-(r?t.value:0)}function P(o){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const s=i.value==="left"?(o-g.value)/t.value:i.value==="right"?(document.documentElement.clientWidth-o-g.value)/t.value:i.value==="top"?(o-g.value)/t.value:i.value==="bottom"?(document.documentElement.clientHeight-o-g.value)/t.value:V();return r?Math.max(0,Math.min(1,s)):s}function B(o){if(l.value)return;const r=o.changedTouches[0].clientX,s=o.changedTouches[0].clientY,d=25,p=i.value==="left"?r<d:i.value==="right"?r>document.documentElement.clientWidth-d:i.value==="top"?s<d:i.value==="bottom"?s>document.documentElement.clientHeight-d:V(),w=n.value&&(i.value==="left"?r<t.value:i.value==="right"?r>document.documentElement.clientWidth-t.value:i.value==="top"?s<t.value:i.value==="bottom"?s>document.documentElement.clientHeight-t.value:V());(p||w||n.value&&h.value)&&(S=[r,s],g.value=L(f.value?r:s,n.value),m.value=P(f.value?r:s),v=g.value>-20&&g.value<80,y(o),M(o))}function E(o){const r=o.changedTouches[0].clientX,s=o.changedTouches[0].clientY;if(v){if(!o.cancelable){v=!1;return}const p=Math.abs(r-S[0]),w=Math.abs(s-S[1]);(f.value?p>w&&p>3:w>p&&w>3)?(u.value=!0,v=!1):(f.value?w:p)>3&&(v=!1)}if(!u.value)return;o.preventDefault(),M(o);const d=P(f.value?r:s,!1);m.value=Math.max(0,Math.min(1,d)),d>1?g.value=L(f.value?r:s,!0):d<0&&(g.value=L(f.value?r:s,!1))}function N(o){if(v=!1,!u.value)return;M(o),u.value=!1;const r=c(o.changedTouches[0].identifier),s=Math.abs(r.x),d=Math.abs(r.y);(f.value?s>d&&s>400:d>s&&d>3)?n.value=r.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||V()):n.value=m.value>.5}const T=b(()=>u.value?{transform:i.value==="left"?`translateX(calc(-100% + ${m.value*t.value}px))`:i.value==="right"?`translateX(calc(100% - ${m.value*t.value}px))`:i.value==="top"?`translateY(calc(-100% + ${m.value*t.value}px))`:i.value==="bottom"?`translateY(calc(100% - ${m.value*t.value}px))`:V(),transition:"none"}:void 0);return H(u,()=>{var s,d;const o=((s=a.value)==null?void 0:s.style.transform)??null,r=((d=a.value)==null?void 0:d.style.transition)??null;ce(()=>{var p,w,I,D;(w=a.value)==null||w.style.setProperty("transform",((p=T.value)==null?void 0:p.transform)||"none"),(D=a.value)==null||D.style.setProperty("transition",((I=T.value)==null?void 0:I.transition)||null)}),ve(()=>{var p,w;(p=a.value)==null||p.style.setProperty("transform",o),(w=a.value)==null||w.style.setProperty("transition",r)})}),{isDragging:u,dragProgress:m,dragStyles:T}}function V(){throw new Error}const ot=["start","end","left","right","top","bottom"],lt=de({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>ot.includes(e)},sticky:Boolean,...Re(),...He(),...me(),...Ye(),...Ge(),...$e(),...Oe({tag:"nav"}),...he()},"VNavigationDrawer"),it=fe()({name:"VNavigationDrawer",props:lt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,a){let{attrs:n,emit:h,slots:t}=a;const{isRtl:l}=ge(),{themeClasses:i}=ye(e),{borderClasses:f}=We(e),{backgroundColorClasses:M,backgroundColorStyles:y}=G(X(e,"color")),{elevationClasses:c}=ze(e),{displayClasses:v,mobile:u}=pe(e),{roundedClasses:m}=Xe(e),g=Ae(),S=we(e,"modelValue",null,_=>!!_),{ssrBootStyles:L}=Pe(),{scopeId:P}=Ie(),B=te(),E=C(!1),N=b(()=>e.rail&&e.expandOnHover&&E.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),T=b(()=>Fe(e.location,l.value)),o=b(()=>!e.permanent&&(u.value||e.temporary)),r=b(()=>e.sticky&&!o.value&&T.value!=="bottom");H(()=>e.expandOnHover&&e.rail!=null,()=>{x(E,_=>h("update:rail",!_))}),H(()=>!e.disableResizeWatcher,()=>{x(o,_=>!e.permanent&&Me(()=>S.value=!_))}),H(()=>!e.disableRouteWatcher&&!!g,()=>{x(g.currentRoute,()=>o.value&&(S.value=!1))}),x(()=>e.permanent,_=>{_&&(S.value=!0)}),be(()=>{e.modelValue!=null||o.value||(S.value=e.permanent||!u.value)});const{isDragging:s,dragProgress:d}=nt({el:B,isActive:S,isTemporary:o,width:N,touchless:X(e,"touchless"),position:T}),p=b(()=>{const _=o.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):N.value;return s.value?_*d.value:_}),{layoutItemStyles:w,layoutItemScrimStyles:I}=Qe({id:e.name,order:b(()=>parseInt(e.order,10)),position:T,layoutSize:p,elementSize:N,active:b(()=>S.value||s.value),disableTransitions:b(()=>s.value),absolute:b(()=>e.absolute||r.value&&typeof D.value!="string")}),{isStuck:D,stickyStyles:oe}=Je({rootEl:B,isSticky:r,layoutItemStyles:w}),$=G(b(()=>typeof e.scrim=="string"?e.scrim:null)),le=b(()=>({...s.value?{opacity:d.value*.2,transition:"none"}:void 0,...I.value}));ke({VList:{bgColor:"transparent"}});function ie(){E.value=!0}function se(){E.value=!1}return Ue(()=>{const _=t.image||e.image;return k(ae,null,[k(e.tag,A({ref:B,onMouseenter:ie,onMouseleave:se,class:["v-navigation-drawer",`v-navigation-drawer--${T.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":E.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":o.value,"v-navigation-drawer--active":S.value,"v-navigation-drawer--sticky":r.value},i.value,M.value,f.value,v.value,c.value,m.value,e.class],style:[y.value,w.value,L.value,oe.value,e.style]},P,n),{default:()=>{var O,W,z;return[_&&k("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?k(qe,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):k(Ze,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&k("div",{class:"v-navigation-drawer__prepend"},[(O=t.prepend)==null?void 0:O.call(t)]),k("div",{class:"v-navigation-drawer__content"},[(W=t.default)==null?void 0:W.call(t)]),t.append&&k("div",{class:"v-navigation-drawer__append"},[(z=t.append)==null?void 0:z.call(t)])]}}),k(Se,{name:"fade-transition"},{default:()=>[o.value&&(s.value||S.value)&&!!e.scrim&&k("div",A({class:["v-navigation-drawer__scrim",$.backgroundColorClasses.value],style:[le.value,$.backgroundColorStyles.value],onClick:()=>S.value=!1},P),null)]})])}),{isStuck:D}}}),st=e=>(Ve("data-v-dcfca61c"),e=e(),xe(),e),rt=st(()=>ne("div",{class:"logo_text"},"Music Assistant",-1)),ut=["home","search","artists","albums","tracks","playlists","tracks","radios","browse","settings"],ct=function(){const e=localStorage.getItem("frontend.settings.menu_items"),a=e?e.split(","):ut,n=[];return a.includes("home")&&n.push({label:"home",icon:"mdi-home-outline",path:"/home",isLibraryNode:!1}),a.includes("search")&&n.push({label:"search",icon:"mdi-magnify",path:"/search",isLibraryNode:!1}),a.includes("artists")&&n.push({label:"artists",icon:"mdi-account-outline",path:"/artists",isLibraryNode:!0}),a.includes("albums")&&n.push({label:"albums",icon:"mdi-album",path:"/albums",isLibraryNode:!0}),a.includes("tracks")&&n.push({label:"tracks",icon:"mdi-music-note",path:"/tracks",isLibraryNode:!0}),a.includes("playlists")&&n.push({label:"playlists",icon:"mdi-playlist-play",path:"/playlists",isLibraryNode:!0}),a.includes("radios")&&n.push({label:"radios",icon:"mdi-access-point",path:"/radios",isLibraryNode:!0}),a.includes("browse")&&n.push({label:"browse",icon:"mdi-folder-outline",path:"/browse",isLibraryNode:!0}),a.includes("settings")&&n.push({label:"settings.settings",icon:"mdi-cog-outline",path:"/settings",isLibraryNode:!0}),n},yt=_e({__name:"DrawerNavigation",setup(e){const a=te(!1),n=ct();return x(()=>a.value,h=>{h?Z.navigationMenuSize=q("mobile")?250:200:Z.navigationMenuSize=55}),(h,t)=>(Y(),F(it,{ref:"resizeComponent",app:"",permanent:"",rail:!a.value,width:U(q)("mobile")?250:200,"onUpdate:modelValue":t[1]||(t[1]=l=>{a.value=l})},{default:R(()=>[k(j,{dark:"",style:{height:"55px"},active:!1},{prepend:R(()=>[ne("img",{class:"logo_icon",style:Ee(h.$vuetify.theme.current.dark?"filter: invert(100%);":""),width:"35",src:Ce},null,4)]),title:R(()=>[rt]),_:1}),k(je),k(De,{lines:"one",density:"compact",nav:""},{default:R(()=>[(Y(!0),Te(ae,null,Be(U(n),l=>(Y(),F(j,{key:l.path,nav:"",density:"compact",height:15,title:h.$t(l.label),"prepend-icon":l.icon,to:l.path},null,8,["title","prepend-icon","to"]))),128))]),_:1}),k(Le,{nav:"",height:15,width:40,style:{position:"relative",float:"right",right:"10px",top:"20px"},ripple:!1,icon:a.value?"mdi-chevron-left":"mdi-chevron-right",title:h.$t("tooltip.show_menu"),onClick:t[0]||(t[0]=Ne(l=>a.value=!a.value,["stop"]))},null,8,["icon","title"])]),_:1},8,["rail","width"]))}});export{ut as D,it as V,yt as _,ct as g};
