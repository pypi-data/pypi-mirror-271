import{ao as W,ap as ce,p as de,n as fe,l as J,aq as Le,y as Qe,ar as Xe,as as Ze,a8 as et,r as B,a9 as ue,I as j,o as ve,at as tt,f as c,E as L,au as at,av as me,aw as lt,ax as ot,c as v,h as K,Q as oe,j as y,g as z,t as M,_ as nt,a0 as st,d as it,b as rt,k as ut,a as ct,w as u,e as b,a1 as dt,s as ne,m as G,u as E,F as se,i as ie,M as ft,G as x,N as vt,ae as mt}from"./index-43311bc3.js";import{L as yt}from"./ListviewItem-2b5b6af3.js";import{B as T}from"./Button-8f8a6597.js";import{_ as pt}from"./PanelviewItem.vue_vue_type_style_index_0_lang-c2c2aaac.js";import{e as ht,i as bt,a as gt}from"./contextmenu-7f33cf6e.js";import{C as kt,L as Se}from"./Container-9a0c901a.js";import{A as Ce}from"./Alert-95d71572.js";import{V as wt}from"./VToolbar-b1ca2657.js";import{V as St}from"./VTextField-9b7f128a.js";import{V as Y}from"./VBadge-fcbfaeb4.js";import{m as Ae,c as Pe,v as Ct,w as Bt,g as Vt,x as It,y as $t,z as _t,n as Ot,u as Ft,A as Lt,q as Ne,B as At,C as Pt,b as A,a as Be,V as re}from"./forwardRefs-651c2bd6.js";import{V as Nt}from"./VCard-6b86821e.js";import{m as Tt,f as Et,e as Ve,V as Ie,c as $e,b as Mt}from"./VMenu-7c64b634.js";/* empty css              */import{V as jt}from"./VVirtualScroll-898a23a9.js";import{u as Rt}from"./layout-679c2edc.js";const Te=(()=>W.reduce((t,i)=>(t[i]={type:[Boolean,String,Number],default:!1},t),{}))(),Ee=(()=>W.reduce((t,i)=>{const a="offset"+ce(i);return t[a]={type:[String,Number],default:null},t},{}))(),Me=(()=>W.reduce((t,i)=>{const a="order"+ce(i);return t[a]={type:[String,Number],default:null},t},{}))(),_e={col:Object.keys(Te),offset:Object.keys(Ee),order:Object.keys(Me)};function Dt(t,i,a){let s=t;if(!(a==null||a===!1)){if(i){const l=i.replace(t,"");s+=`-${l}`}return t==="col"&&(s="v-"+s),t==="col"&&(a===""||a===!0)||(s+=`-${a}`),s.toLowerCase()}}const Kt=["auto","start","end","center","baseline","stretch"],qt=de({cols:{type:[Boolean,String,Number],default:!1},...Te,offset:{type:[String,Number],default:null},...Ee,order:{type:[String,Number],default:null},...Me,alignSelf:{type:String,default:null,validator:t=>Kt.includes(t)},...Ae(),...Pe()},"VCol"),Ut=fe()({name:"VCol",props:qt(),setup(t,i){let{slots:a}=i;const s=J(()=>{const l=[];let f;for(f in _e)_e[f].forEach(g=>{const V=t[g],p=Dt(f,g,V);p&&l.push(p)});const $=l.some(g=>g.startsWith("v-col-"));return l.push({"v-col":!$||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),l});return()=>{var l;return Le(t.tag,{class:[s.value,t.class],style:t.style},(l=a.default)==null?void 0:l.call(a))}}}),ye=["start","end","center"],je=["space-between","space-around","space-evenly"];function pe(t,i){return W.reduce((a,s)=>{const l=t+ce(s);return a[l]=i(),a},{})}const Ht=[...ye,"baseline","stretch"],Re=t=>Ht.includes(t),De=pe("align",()=>({type:String,default:null,validator:Re})),Gt=[...ye,...je],Ke=t=>Gt.includes(t),qe=pe("justify",()=>({type:String,default:null,validator:Ke})),xt=[...ye,...je,"stretch"],Ue=t=>xt.includes(t),He=pe("alignContent",()=>({type:String,default:null,validator:Ue})),Oe={align:Object.keys(De),justify:Object.keys(qe),alignContent:Object.keys(He)},zt={align:"align",justify:"justify",alignContent:"align-content"};function Yt(t,i,a){let s=zt[t];if(a!=null){if(i){const l=i.replace(t,"");s+=`-${l}`}return s+=`-${a}`,s.toLowerCase()}}const Wt=de({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Re},...De,justify:{type:String,default:null,validator:Ke},...qe,alignContent:{type:String,default:null,validator:Ue},...He,...Ae(),...Pe()},"VRow"),Jt=fe()({name:"VRow",props:Wt(),setup(t,i){let{slots:a}=i;const s=J(()=>{const l=[];let f;for(f in Oe)Oe[f].forEach($=>{const g=t[$],V=Yt(f,$,g);V&&l.push(V)});return l.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),l});return()=>{var l;return Le(t.tag,{class:["v-row",s.value,t.class],style:t.style},(l=a.default)==null?void 0:l.call(a))}}});function Qt(t){const i=ue(t);let a=-1;function s(){clearInterval(a)}function l(){s(),me(()=>i.value=t)}function f($){const g=$?getComputedStyle($):{transitionDuration:.2},V=parseFloat(g.transitionDuration)*1e3||200;if(s(),i.value<=0)return;const p=performance.now();a=window.setInterval(()=>{const F=performance.now()-p+V;i.value=Math.max(t-F,0),i.value<=0&&s()},V)}return at(s),{clear:s,time:i,start:f,reset:l}}const Xt=de({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Ct({location:"bottom"}),...Bt(),...Vt(),...It(),...Qe(),...Xe(Tt({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Zt=fe()({name:"VSnackbar",props:Xt(),emits:{"update:modelValue":t=>!0},setup(t,i){let{slots:a}=i;const s=Ze(t,"modelValue"),{mainStyles:l}=Rt(),{positionClasses:f}=$t(t),{scopeId:$}=Et(),{themeClasses:g}=et(t),{colorClasses:V,colorStyles:p,variantClasses:F}=_t(t),{roundedClasses:h}=Ot(t),k=Qt(Number(t.timeout)),w=B(),I=B(),S=ue(!1),m=ue(0);j(s,U),j(()=>t.timeout,U),ve(()=>{s.value&&U()});let R=-1;function U(){k.reset(),window.clearTimeout(R);const _=Number(t.timeout);if(!s.value||_===-1)return;const D=tt(I.value);k.start(D),R=window.setTimeout(()=>{s.value=!1},_)}function Q(){k.reset(),window.clearTimeout(R)}function X(){S.value=!0,Q()}function Z(){S.value=!1,U()}function ee(_){m.value=_.touches[0].clientY}function te(_){Math.abs(m.value-_.changedTouches[0].clientY)>50&&(s.value=!1)}const ae=J(()=>t.location.split(" ").reduce((_,D)=>(_[`v-snackbar--${D}`]=!0,_),{}));return Ft(()=>{const _=Ve.filterProps(t),D=!!(a.default||a.text||t.text);return c(Ve,L({ref:w,class:["v-snackbar",{"v-snackbar--active":s.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--timer":!!t.timer,"v-snackbar--vertical":t.vertical},ae.value,f.value,t.class],style:[l.value,t.style]},_,{modelValue:s.value,"onUpdate:modelValue":H=>s.value=H,contentProps:L({class:["v-snackbar__wrapper",g.value,V.value,h.value,F.value],style:[p.value],onPointerenter:X,onPointerleave:Z},_.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstart:ee,onTouchend:te},$),{default:()=>{var H,q;return[Lt(!1,"v-snackbar"),t.timer&&!S.value&&c("div",{key:"timer",class:"v-snackbar__timer"},[c(Ne,{ref:I,color:typeof t.timer=="string"?t.timer:"info",max:t.timeout,"model-value":k.time.value},null)]),D&&c("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((H=a.text)==null?void 0:H.call(a))??t.text,(q=a.default)==null?void 0:q.call(a)]),a.actions&&c(At,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[c("div",{class:"v-snackbar__actions"},[a.actions()])]})]},activator:a.activator})}),Pt({},w)}}),Ge=(t,i)=>{const a=t.__vccOpts||t;for(const[s,l]of i)a[s]=l;return a},ea={},ta=t=>(nt("data-v-259be2b2"),t=t(),st(),t),aa={class:"container"},la=ta(()=>z("div",{class:"spinner"},null,-1)),oa=[la];function na(t,i){return v(),K("div",aa,oa)}const sa=Ge(ea,[["render",na],["__scopeId","data-v-259be2b2"],["__file","/home/oumoussa/side-projects/infinite/src/components/Spinner.vue"]]),ia=t=>({loading(){t.value="loading"},loaded(){t.value="loaded"},complete(){t.value="complete"},error(){t.value="error"}}),ra=(t,i,a)=>()=>{const s=a.parentEl||document.documentElement;a.prevHeight=s.scrollHeight,i.loading(),t("infinite",i)},ua=(t,i)=>{const a=t.getBoundingClientRect();if(!i)return a.top>=0&&a.bottom<=window.innerHeight;const s=i.getBoundingClientRect();return a.top>=s.top&&a.bottom<=s.bottom},Fe=t=>{t.parentEl=document.querySelector(t.target)||null;let i=`0px 0px ${t.distance}px 0px`;t.top&&(i=`${t.distance}px 0px 0px 0px`);const a=new IntersectionObserver(s=>{s[0].isIntersecting&&(t.firstload&&t.emit(),t.firstload=!0)},{root:t.parentEl,rootMargin:i});return a.observe(t.infiniteLoading.value),a},ca={class:"state-error"},da={__name:"InfiniteLoading",props:{top:{type:Boolean,required:!1},target:{type:[String,Boolean],required:!1},distance:{type:Number,required:!1,default:0},identifier:{required:!1},firstload:{type:Boolean,required:!1,default:!0},slots:{type:Object,required:!1}},emits:["infinite"],setup(t,{emit:i}){const a=t;let s=null;const l=B(null),f=B("ready"),{top:$,firstload:g,target:V,distance:p}=a,{identifier:F}=lt(a),h={infiniteLoading:l,target:V,top:$,firstload:g,distance:p,prevHeight:0,parentEl:null};h.emit=ra(i,ia(f),h);const k=()=>j(f,async I=>{const S=h.parentEl||document.documentElement;await me(),I=="loaded"&&$&&(S.scrollTop=S.scrollHeight-h.prevHeight),I=="loaded"&&ua(l.value,h.parentEl)&&h.emit(),I=="complete"&&s.disconnect()}),w=()=>j(F,()=>{f.value="ready",s.disconnect(),s=Fe(h)});return ve(()=>{s=Fe(h),k(),F&&w()}),ot(()=>{s.disconnect()}),(I,S)=>(v(),K("div",{ref_key:"infiniteLoading",ref:l},[f.value=="loading"?oe(I.$slots,"spinner",{key:0},()=>[c(sa)],!0):y("v-if",!0),f.value=="complete"?oe(I.$slots,"complete",{key:1},()=>{var m;return[z("span",null,M(((m=t.slots)==null?void 0:m.complete)||"No more results!"),1)]},!0):y("v-if",!0),f.value=="error"?oe(I.$slots,"error",{key:2,retry:h.emit},()=>{var m;return[z("span",ca,[z("span",null,M(((m=t.slots)==null?void 0:m.error)||"Oops something went wrong!"),1),z("button",{class:"retry",onClick:S[0]||(S[0]=(...R)=>h.emit&&h.emit(...R))}," retry ")])]},!0):y("v-if",!0)],512))}},fa=Ge(da,[["__scopeId","data-v-9d82030b"],["__file","/home/oumoussa/side-projects/infinite/src/components/InfiniteLoading.vue"]]);const va={key:0},ma={key:5},La=it({__name:"ItemsListing",props:{itemtype:{},sortKeys:{default:()=>["name","sort_name"]},showTrackNumber:{type:Boolean,default:!0},showProvider:{type:Boolean,default:Object.keys(rt.providers).length>1},showAlbum:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showFavoritesOnlyFilter:{type:Boolean,default:!0},showDuration:{type:Boolean,default:!0},parentItem:{default:void 0},showAlbumArtistsOnlyFilter:{type:Boolean},showSearchButton:{type:Boolean,default:void 0},showRefreshButton:{type:Boolean,default:void 0},showSelectButton:{type:Boolean,default:void 0},updateAvailable:{type:Boolean},title:{default:void 0},hideOnEmpty:{type:Boolean,default:!1},showLibraryOnlyFilter:{type:Boolean,default:!1},allowCollapse:{type:Boolean,default:!1},allowKeyHooks:{type:Boolean,default:!1},contextMenuItems:{default:void 0},loadPagedData:{type:Function,default:void 0},loadItems:{type:Function,default:void 0},limit:{default:100},infiniteScroll:{type:Boolean,default:!0},path:{default:void 0},saveScrollPosition:{type:Boolean,default:!0}},emits:["refreshClicked"],setup(t,{emit:i}){const a=t,s=dt(),l=B({offset:0,limit:100,sortBy:"name",search:"",libraryOnly:!1}),f=B("list"),$=B(!1),g=B(!1),V=B(!1),p=B([]),F=B([]),h=B(),k=B(!1),w=B([]),I=B(!1),S=B(!1),m=B(!0),{t:R}=ut(),U=i,Q=function(){g.value?g.value=!1:(g.value=!0,me(()=>{var e;(e=document.getElementById("searchInput"))==null||e.focus()}))},X=function(){m.value=!m.value,localStorage.setItem(`expand.${a.itemtype}`,m.value.toString())},Z=function(){f.value==="panel"?f.value="list":f.value="panel",localStorage.setItem(`viewMode.${a.itemtype}`,f.value)},ee=function(){l.value.favoritesOnly=!l.value.favoritesOnly;const e=l.value.favoritesOnly?"true":"false";localStorage.setItem(`favoriteFilter.${a.itemtype}`,e),P(!0)},te=function(){l.value.libraryOnly=!l.value.libraryOnly;const e=l.value.libraryOnly?"true":"false";localStorage.setItem(`libraryFilter.${a.itemtype}`,e),P(!0,void 0,!0)},ae=function(){l.value.albumArtistsFilter=!l.value.albumArtistsFilter;const e=l.value.albumArtistsFilter?"true":"false";localStorage.setItem(`albumArtistsFilter.${a.itemtype}`,e),P(!0)},_=function(e){return w.value.includes(e)},D=function(e,n){if(n)w.value.includes(e)||w.value.push(e);else for(let o=0;o<w.value.length;o++)w.value[o]===e&&w.value.splice(o,1)},H=function(){S.value&&(w.value=[]),S.value=!S.value},q=function(e,n=!0){w.value=[e],he(n)},he=function(e=!0){ht.emit("playdialog",{items:w.value,parentItem:a.parentItem,showContextMenuItems:e})},xe=function(){U("refreshClicked"),P(!0,void 0,!0)},be=function(e){var n;if(!bt(e)){q(e,!1);return}e.media_type==ft.FOLDER?s.push({name:"browse",query:{path:e.path}}):["artist","album","playlist"].includes(e.media_type)||!((n=ne.selectedPlayer)!=null&&n.available)?s.push({name:e.media_type,params:{itemId:e.item_id,provider:e.provider}}):q(e,!0)},ze=function(){l.value.search="",g.value=!1,P(!0)},Ye=function(e,n){e!==void 0&&(l.value.sortBy=e),localStorage.setItem(`sortBy.${a.itemtype}`,l.value.sortBy),P(!0,void 0,e=="original")},We=function(){ne.globalSearchTerm=l.value.search,s.push({name:"search"})},ge=function(e){if(p.value.length==0){e&&e.loaded();return}if(h.value!==void 0&&l.value.offset>=h.value){e&&e.loaded();return}l.value.offset+=a.limit,P().then(()=>{e&&e.loaded()})},ke=J(()=>{var e=!1;return l.value.search&&l.value.search.length!==0&&(e=!0),e}),P=async function(e=!1,n=a.limit,o=!1){if(!k.value){if(k.value=!0,(e||o)&&(l.value.offset=0,I.value=!1),l.value.limit=a.limit,l.value.refresh=o,a.loadPagedData!==void 0){const C=await a.loadPagedData(l.value);C&&(l.value.offset?p.value.push(...C.items):p.value=C.items,h.value=C.total)}else if(a.loadItems!==void 0){(F.value.length===0||o)&&(F.value=[],F.value=await a.loadItems(l.value),l.value,h.value=F.value.length);const C=Je(F.value,l.value);l.value.offset?p.value.push(...C):p.value=C}k.value=!1}},N=function(e,n=!1){return e?"label"in e&&e.label&&e.name?R(e.label,[e.name]):"label"in e&&e.label?R(e.label):n&&"sort_name"in e&&e.sort_name?e.sort_name:e.name:""},Je=function(e,n){var C,O;let o=[];if(n.search){const d=n.search.toLowerCase();for(const r of e)(r.name.toLowerCase().includes(d)||"artist"in r&&((C=r.artist)!=null&&C.name.toLowerCase().includes(d))||"album"in r&&((O=r.album)!=null&&O.name.toLowerCase().includes(d))||"artists"in r&&r.artists&&r.artists[0].name.toLowerCase().includes(d))&&o.push(r)}else o=e;return n.sortBy=="name"&&o.sort((d,r)=>N(d).localeCompare(N(r))),n.sortBy=="sort_name"&&o.sort((d,r)=>N(d,!0).localeCompare(N(r,!0))),n.sortBy=="name_desc"&&o.sort((d,r)=>N(r).localeCompare(N(d))),n.sortBy=="album"&&o.sort((d,r)=>N(d.album).localeCompare(N(r.album))),n.sortBy=="artist"&&o.sort((d,r)=>N(d.artists[0]).localeCompare(N(r.artists[0]))),n.sortBy=="track_number"&&(o.sort((d,r)=>(d.track_number||0)-(r.track_number||0)),o.sort((d,r)=>(d.disc_number||0)-(r.disc_number||0))),n.sortBy=="position"&&o.sort((d,r)=>(d.position||0)-(r.position||0)),n.sortBy=="position_desc"&&o.sort((d,r)=>(r.position||0)-(d.position||0)),n.sortBy=="year"&&o.sort((d,r)=>(d.year||0)-(r.year||0)),n.sortBy=="recent"&&o.sort((d,r)=>(r.timestamp_added||0)-(d.timestamp_added||0)),n.sortBy=="duration"&&o.sort((d,r)=>(d.duration||0)-(r.duration||0)),n.sortBy=="duration_desc"&&o.sort((d,r)=>(r.duration||0)-(d.duration||0)),n.sortBy=="provider"&&o.sort((d,r)=>d.provider.localeCompare(r.provider)),n.favoritesOnly&&(o=o.filter(d=>d.favorite)),o.slice(n.offset,n.offset+n.limit)},le=async function(){const e=localStorage.getItem(`viewMode.${a.itemtype}`);e&&e!=="null"?f.value=e:a.itemtype=="artists"||a.itemtype=="albums"?f.value="panel":f.value="list";const n=localStorage.getItem(`sortBy.${a.itemtype}`);if(n&&n!=="null"&&a.sortKeys.includes(n)?l.value.sortBy=n:l.value.sortBy=a.sortKeys[0],a.showFavoritesOnlyFilter!==!1){const O=localStorage.getItem(`favoriteFilter.${a.itemtype}`);O&&O=="true"&&(l.value.favoritesOnly=!0)}if(a.showLibraryOnlyFilter!==!1){const O=localStorage.getItem(`libraryFilter.${a.itemtype}`);O&&O=="true"&&(l.value.libraryOnly=!0)}if(a.showAlbumArtistsOnlyFilter!==!1){const O=localStorage.getItem(`albumArtistsFilter.${a.itemtype}`);O&&(l.value.albumArtistsFilter=O=="true")}if(a.allowCollapse!==!1){const O=localStorage.getItem(`expand.${a.itemtype}`);O&&(m.value=O=="true")}let o=`search.${a.itemtype}`;a.parentItem&&(o+=a.parentItem.item_id);const C=localStorage.getItem(o);C&&C!=="null"&&(l.value.search=C),await P(!0)},we=function(e){if(!ne.dialogActive)if(e.key==="a"&&(e.ctrlKey||e.metaKey)){for(e.preventDefault();p.value.length<h.value&&!(h.value!==void 0&&l.value.offset>=h.value);)l.value.offset+=a.limit,P();w.value=p.value,S.value=!0}else!V.value&&e.key=="Backspace"?l.value.search=l.value.search.slice(0,-1):!V.value&&e.key.length==1&&(l.value.search+=e.key,g.value=!0)};return a.allowKeyHooks&&(document.addEventListener("keydown",we),ct(()=>{document.removeEventListener("keydown",we)})),j(()=>l.value.search,e=>{e&&(g.value=!0),P(!0);let n=`search.${a.itemtype}`;a.parentItem&&(n+=a.parentItem.item_id),localStorage.setItem(n,l.value.search)}),j(()=>a.path,()=>{k.value!=!0&&(F.value=[],le())}),j(()=>a.parentItem,()=>{k.value!=!0&&(F.value=[],le())},{deep:!0}),j(()=>a.limit,e=>{l.value.limit=e}),j(()=>a.updateAvailable,e=>{k.value||(I.value=e)},{immediate:!0}),ve(()=>{le()}),(e,n)=>e.hideOnEmpty&&p.value.length==0?y("",!0):(v(),K("section",va,[c(wt,{color:"transparent"},{title:u(()=>[G(M(e.title)+" ",1),E(x)("bp4")?(v(),b(Y,{key:0,color:"grey",content:h.value,inline:""},null,8,["content"])):y("",!0)]),append:u(()=>[(e.showSelectButton!=null?e.showSelectButton:E(x)("bp4"))?(v(),b(T,L({key:0},a,{variant:"list",title:e.$t("tooltip.select_items"),disabled:!m.value,onClick:H}),{default:u(()=>[c(A,{icon:S.value?"mdi-checkbox-multiple-outline":"mdi-checkbox-multiple-blank-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):y("",!0),(e.showLibraryOnlyFilter!=null?e.showLibraryOnlyFilter:E(x)("bp1"))?(v(),b(T,L({key:1},a,{variant:"list",title:e.$t("tooltip.filter_library"),disabled:!m.value,onClick:te}),{default:u(()=>[c(Y,{"model-value":l.value.libraryOnly,color:"error",dot:""},{default:u(()=>[c(A,{icon:"mdi-bookshelf"})]),_:1},8,["model-value"])]),_:1},16,["title","disabled"])):y("",!0),(e.showFavoritesOnlyFilter!=null?e.showFavoritesOnlyFilter:E(x)("bp1"))?(v(),b(T,L({key:2},a,{variant:"list",title:e.$t("tooltip.filter_favorites"),disabled:!m.value,onClick:ee}),{default:u(()=>[c(A,{icon:l.value.favoritesOnly?"mdi-heart":"mdi-heart-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):y("",!0),e.showAlbumArtistsOnlyFilter?(v(),b(T,L({key:3},a,{variant:"list",title:e.$t("tooltip.album_artist_filter"),disabled:!m.value,onClick:ae}),{default:u(()=>[c(A,{icon:l.value.albumArtistsFilter?"mdi-account-music":"mdi-account-music-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):y("",!0),(e.showRefreshButton!==!1||I.value)&&E(x)("bp1")?(v(),b(T,L({key:4},a,{variant:"list",title:I.value?e.$t("tooltip.refresh_new_content"):e.$t("tooltip.refresh"),disabled:!m.value||k.value,onClick:n[0]||(n[0]=o=>xe())}),{default:u(()=>[c(Y,{"model-value":I.value,color:"error",dot:""},{default:u(()=>[c(A,{icon:"mdi-refresh"})]),_:1},8,["model-value"])]),_:1},16,["title","disabled"])):y("",!0),e.sortKeys.length>1?(v(),b($e,{key:5,modelValue:$.value,"onUpdate:modelValue":n[1]||(n[1]=o=>$.value=o),location:"bottom end","close-on-content-click":!0},{activator:u(({props:o})=>[c(T,L(o,{variant:"list",disabled:!m.value,title:e.$t("tooltip.sort_options")}),{default:u(()=>[c(A,L(o,{icon:"mdi-sort"}),null,16)]),_:2},1040,["disabled","title"])]),default:u(()=>[c(Nt,null,{default:u(()=>[c(Ie,null,{default:u(()=>[(v(!0),K(se,null,ie(e.sortKeys,o=>(v(),K("div",{key:o},[c(Se,{onClick:C=>Ye(o)},{title:u(()=>[G(M(e.$t("sort."+o)),1)]),append:u(()=>[l.value.sortBy==o?(v(),b(A,{key:0,icon:"mdi-check"})):y("",!0)]),_:2},1032,["onClick"]),c(Be)]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])):y("",!0),(e.showSearchButton!=null?e.showSearchButton:E(x)("bp1"))?(v(),b(T,L({key:6},a,{variant:"list",title:ke.value?e.$t("tooltip.search_filter_active"):e.$t("tooltip.search"),disabled:!m.value,onClick:n[2]||(n[2]=o=>Q())}),{default:u(()=>[c(Y,{"model-value":ke.value,color:"error",dot:""},{default:u(()=>[c(A,{icon:"mdi-magnify"})]),_:1},8,["model-value"])]),_:1},16,["title","disabled"])):y("",!0),c(T,L(a,{variant:"list",title:e.$t("tooltip.toggle_view_mode"),disabled:!m.value,onClick:n[3]||(n[3]=o=>Z())}),{default:u(()=>[c(A,{icon:f.value=="panel"?"mdi-view-list":"mdi-grid"},null,8,["icon"])]),_:1},16,["title","disabled"]),e.contextMenuItems&&e.contextMenuItems.length>0?(v(),b($e,{key:7,location:"bottom end"},{activator:u(({props:o})=>[c(T,L({variant:"list",style:{right:"3px"}},o),{default:u(()=>[c(A,{icon:"mdi-dots-vertical"})]),_:2},1040)]),default:u(()=>[c(Ie,null,{default:u(()=>[(v(!0),K(se,null,ie(e.contextMenuItems.filter(o=>o.hide!=!0),(o,C)=>(v(),b(Se,{key:C,title:e.$t(o.label,o.labelArgs),disabled:o.disabled==!0,onClick:O=>o.action?o.action():""},{prepend:u(()=>[c(Mt,{icon:o.icon},null,8,["icon"])]),_:2},1032,["title","disabled","onClick"]))),128))]),_:1})]),_:1})):y("",!0),e.allowCollapse?(v(),b(T,{key:8,variant:"list",title:e.$t("tooltip.collapse_expand"),onClick:X},{default:u(()=>[c(A,{icon:m.value?"mdi-chevron-up":"mdi-chevron-down"},null,8,["icon"])]),_:1},8,["title"])):y("",!0)]),_:1}),c(Be),g.value&&m.value?(v(),b(St,{key:0,id:"searchInput",modelValue:l.value.search,"onUpdate:modelValue":n[4]||(n[4]=o=>l.value.search=o),clearable:"","prepend-inner-icon":"mdi-magnify",label:e.$t("search"),"hide-details":"",variant:"filled",style:{width:"auto","margin-top":"10px"},onFocus:n[5]||(n[5]=o=>V.value=!0),onBlur:n[6]||(n[6]=o=>V.value=!1),"onClick:clear":ze},null,8,["modelValue","label"])):y("",!0),m.value?(v(),b(kt,{key:1,variant:f.value=="panel"?"panel":"default"},{default:u(()=>[k.value?(v(),b(Ne,{key:0,indeterminate:""})):y("",!0),f.value=="panel"?(v(),b(Jt,{key:1},{default:u(()=>[(v(!0),K(se,null,ie(p.value,o=>(v(),b(Ut,{key:o.uri,class:vt(`col-${E(mt)(e.$vuetify.display.width)}`)},{default:u(()=>[c(pt,{item:o,"is-selected":_(o),"show-checkboxes":S.value,"show-track-number":e.showTrackNumber,"show-favorite":e.showFavoritesOnlyFilter,onSelect:D,onMenu:q,onClick:be},null,8,["item","is-selected","show-checkboxes","show-track-number","show-favorite"])]),_:2},1032,["class"]))),128))]),_:1})):y("",!0),f.value=="list"?(v(),b(jt,{key:2,height:70,items:p.value,style:{height:"100%"}},{default:u(({item:o})=>[c(yt,{item:o,"show-track-number":e.showTrackNumber,"show-disc-number":e.showTrackNumber,"show-duration":e.showDuration,"show-favorite":e.showFavoritesOnlyFilter,"show-menu":e.showMenu,"show-provider":e.showProvider,"show-album":e.showAlbum,"show-checkboxes":S.value,"is-selected":_(o),"show-details":e.itemtype.includes("versions"),"parent-item":e.parentItem,"context-menu-items":e.showMenu?E(gt)([o],e.parentItem):[],onSelect:D,onMenu:q,onClick:be},null,8,["item","show-track-number","show-disc-number","show-duration","show-favorite","show-menu","show-provider","show-album","show-checkboxes","is-selected","show-details","parent-item","context-menu-items"])]),_:1},8,["items"])):y("",!0),e.infiniteScroll?(v(),b(E(fa),{key:3,onInfinite:ge})):(h.value||0)>p.value.length?(v(),b(re,{key:4,variant:"plain",onClick:n[7]||(n[7]=o=>ge())},{default:u(()=>[G(M(e.$t("load_more_items")),1)]),_:1})):y("",!0),!k.value&&p.value.length==0?(v(),K("div",ma,[!k.value&&p.value.length==0&&(l.value.search||l.value.favoritesOnly)?(v(),b(Ce,{key:0,title:e.$t("no_content_filter")},{default:u(()=>[l.value.search?(v(),b(re,{key:0,style:{"margin-top":"15px"},onClick:We},{default:u(()=>[G(M(e.$t("try_global_search")),1)]),_:1})):y("",!0)]),_:1},8,["title"])):!k.value&&p.value.length==0?(v(),b(Ce,{key:1},{default:u(()=>[G(M(e.$t("no_content")),1)]),_:1})):y("",!0)])):y("",!0),c(Zt,{"model-value":w.value.length>1,timeout:-1,style:{"margin-bottom":"120px"}},{actions:u(()=>[c(re,{color:"primary",variant:"text",onClick:n[8]||(n[8]=o=>he(!0))},{default:u(()=>[G(M(e.$t("actions")),1)]),_:1})]),default:u(()=>[z("span",null,M(e.$t("items_selected",[w.value.length])),1)]),_:1},8,["model-value"])]),_:1},8,["variant"])):y("",!0)]))}});export{Ut as V,La as _,Jt as a};
