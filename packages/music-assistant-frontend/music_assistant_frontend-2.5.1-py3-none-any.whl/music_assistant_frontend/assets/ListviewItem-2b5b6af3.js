import{d as V,k as N,l as L,ay as v,a5 as T,c as i,h as a,a6 as $,e as n,w as s,f as l,al as k,u as t,g as y,t as o,m as d,j as m,E as M,N as F,M as u,az as P,am as R,a2 as w,aC as S,G as c,H as z,aA as H}from"./index-43311bc3.js";import{M as E,b as K}from"./VBadge-fcbfaeb4.js";import{_ as O,L as U}from"./Container-9a0c901a.js";import{a as G,c as f,b as W,_ as j,V as B}from"./VTooltip-6463f4cd.js";import{b,r as Y}from"./forwardRefs-651c2bd6.js";import{_ as q}from"./Button-8f8a6597.js";const J={key:0,class:"media-thumb listitem-media-thumb"},Q={key:1,class:"media-thumb listitem-media-thumb"},X={key:0},Z={key:1},x={key:0},ee={key:0,class:"line-clamp-1"},ie={key:1},te={key:0},oe={key:1},ae={key:2},se={key:3},me={key:4},ne={key:5},re={key:2},le={key:3},de={class:"text-caption",style:{"padding-right":"10px","padding-left":"10px"}},ue=V({__name:"ListviewItem",props:{item:{},showTrackNumber:{type:Boolean,default:!0},showDiscNumber:{type:Boolean,default:!0},showPosition:{type:Boolean,default:!0},showProvider:{type:Boolean,default:!0},showAlbum:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showFavorite:{type:Boolean,default:!1},showDuration:{type:Boolean,default:!0},isSelected:{type:Boolean},isDisabled:{type:Boolean,default:!1},showCheckboxes:{type:Boolean,default:!1},showDetails:{type:Boolean},parentItem:{default:void 0},contextMenuItems:{default:void 0}},emits:["menu","click","select"],setup(I,{emit:C}){const{t:D}=N(),_=I,g=L(()=>{if(!("provider_mappings"in _.item))return"";for(const e of _.item.provider_mappings)if(e.audio_format&&e.audio_format.content_type!=null&&[v.DSF,v.FLAC,v.AIFF,v.WAV].includes(e.audio_format.content_type)&&(e.audio_format.sample_rate>48e3||e.audio_format.bit_depth>16))return`${e.audio_format.sample_rate/1e3}kHz ${e.audio_format.bit_depth} bits`;return""}),h=C;return(e,r)=>{const A=T("hold");return i(),a("div",null,[$((i(),n(U,{link:"",disabled:!t(H)(e.item)||e.isDisabled,"context-menu-items":e.contextMenuItems,onClick:r[2]||(r[2]=k(p=>h("click",e.item),["stop"])),onContextmenu:r[3]||(r[3]=k(()=>h("menu",e.item),["right","prevent"]))},{prepend:s(()=>[e.showCheckboxes?(i(),a("div",J,[l(G,{"model-value":e.isSelected,onClick:r[0]||(r[0]=k(()=>{},["stop"])),"onUpdate:modelValue":r[1]||(r[1]=p=>{p!=null&&h("select",e.item,p)})},null,8,["model-value"])])):(i(),a("div",Q,[l(E,{height:"50",width:"50",item:e.item},null,8,["item"])]))]),title:s(()=>[e.item.media_type==t(u).FOLDER?(i(),a("span",X,[y("span",null,o(t(P)(e.item,t(D))),1)])):(i(),a("span",Z,[d(o(e.item.name)+" ",1),"version"in e.item&&e.item.version?(i(),a("span",x,"("+o(e.item.version)+")",1)):m("",!0)])),e.item&&e.item.metadata?(i(),n(t(B),{key:2,location:"bottom"},{activator:s(({props:p})=>[t(R)(e.item.metadata.explicit||!1)?(i(),n(b,M({key:0},p,{icon:"mdi-alpha-e-box",width:"35"}),null,16)):m("",!0)]),default:s(()=>[y("span",null,o(e.$t("tooltip.explicit")),1)]),_:1})):m("",!0)]),subtitle:s(()=>[e.item.media_type==t(u).TRACK&&"provider_mappings"in e.item?(i(),a("div",ee,[l(W,null,{default:s(()=>["artists"in e.item?(i(),n(f,{key:0},{default:s(()=>[d(o(t(w)(e.item.artists,2)),1)]),_:1})):m("",!0),e.showAlbum&&"album"in e.item&&e.item.album?(i(),n(f,{key:1},{default:s(()=>[d(" • "+o(e.item.album.name),1)]),_:1})):m("",!0),"disc_number"in e.item&&e.item.disc_number&&e.showDiscNumber?(i(),n(f,{key:2},{default:s(()=>[l(b,{style:{"margin-left":"5px"},icon:"md:album"}),d(" "+o(e.item.disc_number),1)]),_:1})):m("",!0),"track_number"in e.item&&e.item.track_number&&e.showTrackNumber?(i(),n(f,{key:3},{default:s(()=>[l(b,{style:{"margin-left":"5px"},icon:"mdi-music-circle-outline"}),d(" "+o(e.item.track_number),1)]),_:1})):"position"in e.item&&e.item.position&&e.showPosition?(i(),n(f,{key:4},{default:s(()=>[l(b,{style:{"margin-left":"5px"},icon:"mdi-music-circle-outline"}),d(" "+o(e.item.position),1)]),_:1})):m("",!0)]),_:1})])):e.item.media_type==t(u).ALBUM&&"year"in e.item?(i(),a("div",ie,[e.item.album_type!=t(S).UNKNOWN?(i(),a("span",te,o(e.$t("album_type."+e.item.album_type))+" • ",1)):m("",!0),y("span",null,o(t(w)(e.item.artists)),1),e.item.year?(i(),a("span",oe," • "+o(e.item.year),1)):m("",!0)])):"artists"in e.item&&e.item.artists?(i(),a("div",ae,o(t(w)(e.item.artists)),1)):"owner"in e.item&&e.item.owner?(i(),a("div",se,o(e.item.owner),1)):e.item.media_type==t(u).RADIO&&e.item.metadata.description?(i(),a("div",me,o(e.item.metadata.description),1)):"media_type"in e.item&&!e.item.provider_mappings?(i(),a("div",ne,o(e.$t(e.item.media_type)),1)):m("",!0)]),append:s(()=>[g.value?(i(),n(Y,{key:0,src:t(K),width:"30",class:F(e.$vuetify.theme.current.dark?"hiresicondark":"hiresicon")},{default:s(()=>[l(t(B),{activator:"parent",location:"bottom"},{default:s(()=>[d(o(g.value),1)]),_:1})]),_:1},8,["src","class"])):m("",!0),t(c)("bp2")&&e.showProvider?(i(),n(O,{key:1,domain:e.item.media_type==t(u).PLAYLIST?e.item.provider_mappings[0].provider_domain:e.item.provider,size:24},null,8,["domain"])):m("",!0),t(c)("bp3")&&"favorite"in e.item&&e.showFavorite&&!e.$vuetify.display.mobile?(i(),a("div",re,[l(j,{item:e.item},null,8,["item"])])):m("",!0),e.showDuration&&e.item.media_type==t(u).TRACK&&"duration"in e.item&&e.item.duration!=null&&t(c)("bp0")?(i(),a("div",le,[y("div",null,[y("span",de,o(t(z)(e.item.duration)),1)])])):m("",!0)]),_:1},8,["disabled","context-menu-items"])),[[A,()=>h("menu",e.item)]])])}}});const ke=q(ue,[["__scopeId","data-v-7f948e83"]]);export{ke as L};
