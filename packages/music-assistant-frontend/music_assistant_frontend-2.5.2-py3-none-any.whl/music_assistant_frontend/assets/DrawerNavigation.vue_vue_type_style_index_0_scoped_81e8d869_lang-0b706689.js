import{a5 as L,z as k,B as se,o as Q,I as B,a as ee,aK as re,aL as H,aM as ue,as as ce,l as ve,aN as de,v as me,m as he,a9 as fe,a4 as ge,y as X,aj as ye,aq as pe,r as te,aO as we,A as be,f as b,E as A,T as ke,F as ae,at as Se,d as Me,c as Y,e as F,w as R,g as Ee,h as _e,u as U,ac as Te,s as q,D as Z,p as Ve,k as Ne,i as xe}from"./index-1fa25223.js";import{B as Be}from"./Button-0d671d73.js";import{b as Le,m as Ce,d as Ie,e as Pe,a as De,g as Re,h as j,j as He,k as Ye,L as $e,N as ze,u as We,q as Oe,C as Xe,o as Ae,V as K}from"./VListItem-53d44b85.js";import{u as Fe,V as Ue,a as qe}from"./VList-f519ecda.js";import{m as Ze,a as je}from"./layout-6738e727.js";import{u as Ke}from"./VMenu-85495654.js";function Ge(e){let{rootEl:a,isSticky:n,layoutItemStyles:g}=e;const t=L(!1),l=L(0),i=k(()=>{const y=typeof t.value=="boolean"?"top":t.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[y]:se(l.value)}:{top:g.value.top}]});Q(()=>{B(n,y=>{y?window.addEventListener("scroll",M,{passive:!0}):window.removeEventListener("scroll",M)},{immediate:!0})}),ee(()=>{window.removeEventListener("scroll",M)});let h=0;function M(){const y=h>window.scrollY?"up":"down",c=a.value.getBoundingClientRect(),v=parseFloat(g.value.top??0),u=window.scrollY-Math.max(0,l.value-v),m=c.height+Math.max(l.value,v)-window.scrollY-window.innerHeight,f=parseFloat(getComputedStyle(a.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-v?(t.value="top",l.value=v):y==="up"&&t.value==="bottom"||y==="down"&&t.value==="top"?(l.value=window.scrollY+c.top-f,t.value=!0):y==="down"&&m<=0?(l.value=0,t.value="bottom"):y==="up"&&u<=0&&(f?t.value!=="top"&&(l.value=-u+f+v,t.value="top"):(l.value=c.top+u,t.value="top")),h=window.scrollY}return{isStuck:t,stickyStyles:i}}const Je=100,Qe=20;function G(e){const a=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*a}function J(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let a=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const g=G(a),t=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);a+=(t-g)*Math.abs(t),n===e.length-1&&(a*=.5)}return G(a)*1e3}function et(){const e={};function a(t){Array.from(t.changedTouches).forEach(l=>{(e[l.identifier]??(e[l.identifier]=new re(Qe))).push([t.timeStamp,l])})}function n(t){Array.from(t.changedTouches).forEach(l=>{delete e[l.identifier]})}function g(t){var y;const l=(y=e[t])==null?void 0:y.values().reverse();if(!l)throw new Error(`No samples for touch id ${t}`);const i=l[0],h=[],M=[];for(const c of l){if(i[0]-c[0]>Je)break;h.push({t:c[0],d:c[1].clientX}),M.push({t:c[0],d:c[1].clientY})}return{x:J(h),y:J(M),get direction(){const{x:c,y:v}=this,[u,m]=[Math.abs(c),Math.abs(v)];return u>m&&c>=0?"right":u>m&&c<=0?"left":m>u&&v>=0?"down":m>u&&v<=0?"up":tt()}}}return{addMovement:a,endTouch:n,getVelocity:g}}function tt(){throw new Error}function at(e){let{el:a,isActive:n,isTemporary:g,width:t,touchless:l,position:i}=e;Q(()=>{window.addEventListener("touchstart",V,{passive:!0}),window.addEventListener("touchmove",_,{passive:!1}),window.addEventListener("touchend",N,{passive:!0})}),ee(()=>{window.removeEventListener("touchstart",V),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",N)});const h=k(()=>["left","right"].includes(i.value)),{addMovement:M,endTouch:y,getVelocity:c}=et();let v=!1;const u=L(!1),m=L(0),f=L(0);let S;function C(o,r){return(i.value==="left"?o:i.value==="right"?document.documentElement.clientWidth-o:i.value==="top"?o:i.value==="bottom"?document.documentElement.clientHeight-o:x())-(r?t.value:0)}function I(o){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const s=i.value==="left"?(o-f.value)/t.value:i.value==="right"?(document.documentElement.clientWidth-o-f.value)/t.value:i.value==="top"?(o-f.value)/t.value:i.value==="bottom"?(document.documentElement.clientHeight-o-f.value)/t.value:x();return r?Math.max(0,Math.min(1,s)):s}function V(o){if(l.value)return;const r=o.changedTouches[0].clientX,s=o.changedTouches[0].clientY,d=25,p=i.value==="left"?r<d:i.value==="right"?r>document.documentElement.clientWidth-d:i.value==="top"?s<d:i.value==="bottom"?s>document.documentElement.clientHeight-d:x(),w=n.value&&(i.value==="left"?r<t.value:i.value==="right"?r>document.documentElement.clientWidth-t.value:i.value==="top"?s<t.value:i.value==="bottom"?s>document.documentElement.clientHeight-t.value:x());(p||w||n.value&&g.value)&&(S=[r,s],f.value=C(h.value?r:s,n.value),m.value=I(h.value?r:s),v=f.value>-20&&f.value<80,y(o),M(o))}function _(o){const r=o.changedTouches[0].clientX,s=o.changedTouches[0].clientY;if(v){if(!o.cancelable){v=!1;return}const p=Math.abs(r-S[0]),w=Math.abs(s-S[1]);(h.value?p>w&&p>3:w>p&&w>3)?(u.value=!0,v=!1):(h.value?w:p)>3&&(v=!1)}if(!u.value)return;o.preventDefault(),M(o);const d=I(h.value?r:s,!1);m.value=Math.max(0,Math.min(1,d)),d>1?f.value=C(h.value?r:s,!0):d<0&&(f.value=C(h.value?r:s,!1))}function N(o){if(v=!1,!u.value)return;M(o),u.value=!1;const r=c(o.changedTouches[0].identifier),s=Math.abs(r.x),d=Math.abs(r.y);(h.value?s>d&&s>400:d>s&&d>3)?n.value=r.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||x()):n.value=m.value>.5}const T=k(()=>u.value?{transform:i.value==="left"?`translateX(calc(-100% + ${m.value*t.value}px))`:i.value==="right"?`translateX(calc(100% - ${m.value*t.value}px))`:i.value==="top"?`translateY(calc(-100% + ${m.value*t.value}px))`:i.value==="bottom"?`translateY(calc(100% - ${m.value*t.value}px))`:x(),transition:"none"}:void 0);return H(u,()=>{var s,d;const o=((s=a.value)==null?void 0:s.style.transform)??null,r=((d=a.value)==null?void 0:d.style.transition)??null;ue(()=>{var p,w,P,D;(w=a.value)==null||w.style.setProperty("transform",((p=T.value)==null?void 0:p.transform)||"none"),(D=a.value)==null||D.style.setProperty("transition",((P=T.value)==null?void 0:P.transition)||null)}),ce(()=>{var p,w;(p=a.value)==null||p.style.setProperty("transform",o),(w=a.value)==null||w.style.setProperty("transition",r)})}),{isDragging:u,dragProgress:m,dragStyles:T}}function x(){throw new Error}const nt=["start","end","left","right","top","bottom"],ot=ve({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>nt.includes(e)},sticky:Boolean,...Le(),...Ce(),...de(),...Ie(),...Ze(),...Pe(),...De({tag:"nav"}),...me()},"VNavigationDrawer"),lt=he()({name:"VNavigationDrawer",props:ot(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,a){let{attrs:n,emit:g,slots:t}=a;const{isRtl:l}=fe(),{themeClasses:i}=ge(e),{borderClasses:h}=Re(e),{backgroundColorClasses:M,backgroundColorStyles:y}=j(X(e,"color")),{elevationClasses:c}=He(e),{displayClasses:v,mobile:u}=ye(e),{roundedClasses:m}=Ye(e),f=$e(),S=pe(e,"modelValue",null,E=>!!E),{ssrBootStyles:C}=Fe(),{scopeId:I}=Ke(),V=te(),_=L(!1),N=k(()=>e.rail&&e.expandOnHover&&_.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),T=k(()=>ze(e.location,l.value)),o=k(()=>!e.permanent&&(u.value||e.temporary)),r=k(()=>e.sticky&&!o.value&&T.value!=="bottom");H(()=>e.expandOnHover&&e.rail!=null,()=>{B(_,E=>g("update:rail",!E))}),H(()=>!e.disableResizeWatcher,()=>{B(o,E=>!e.permanent&&Se(()=>S.value=!E))}),H(()=>!e.disableRouteWatcher&&!!f,()=>{B(f.currentRoute,()=>o.value&&(S.value=!1))}),B(()=>e.permanent,E=>{E&&(S.value=!0)}),we(()=>{e.modelValue!=null||o.value||(S.value=e.permanent||!u.value)});const{isDragging:s,dragProgress:d}=at({el:V,isActive:S,isTemporary:o,width:N,touchless:X(e,"touchless"),position:T}),p=k(()=>{const E=o.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):N.value;return s.value?E*d.value:E}),{layoutItemStyles:w,layoutItemScrimStyles:P}=je({id:e.name,order:k(()=>parseInt(e.order,10)),position:T,layoutSize:p,elementSize:N,active:k(()=>S.value||s.value),disableTransitions:k(()=>s.value),absolute:k(()=>e.absolute||r.value&&typeof D.value!="string")}),{isStuck:D,stickyStyles:ne}=Ge({rootEl:V,isSticky:r,layoutItemStyles:w}),$=j(k(()=>typeof e.scrim=="string"?e.scrim:null)),oe=k(()=>({...s.value?{opacity:d.value*.2,transition:"none"}:void 0,...P.value}));be({VList:{bgColor:"transparent"}});function le(){_.value=!0}function ie(){_.value=!1}return We(()=>{const E=t.image||e.image;return b(ae,null,[b(e.tag,A({ref:V,onMouseenter:le,onMouseleave:ie,class:["v-navigation-drawer",`v-navigation-drawer--${T.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":_.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":o.value,"v-navigation-drawer--active":S.value,"v-navigation-drawer--sticky":r.value},i.value,M.value,h.value,v.value,c.value,m.value,e.class],style:[y.value,w.value,C.value,ne.value,e.style]},I,n),{default:()=>{var z,W,O;return[E&&b("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?b(Xe,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):b(Oe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&b("div",{class:"v-navigation-drawer__prepend"},[(z=t.prepend)==null?void 0:z.call(t)]),b("div",{class:"v-navigation-drawer__content"},[(W=t.default)==null?void 0:W.call(t)]),t.append&&b("div",{class:"v-navigation-drawer__append"},[(O=t.append)==null?void 0:O.call(t)])]}}),b(ke,{name:"fade-transition"},{default:()=>[o.value&&(s.value||S.value)&&!!e.scrim&&b("div",A({class:["v-navigation-drawer__scrim",$.backgroundColorClasses.value],style:[oe.value,$.backgroundColorStyles.value],onClick:()=>S.value=!1},I),null)]})])}),{isStuck:D}}}),it=e=>(Ve("data-v-81e8d869"),e=e(),Ne(),e),st=it(()=>xe("div",{class:"logo_text"},"Music Assistant",-1)),rt=["home","search","artists","albums","tracks","playlists","tracks","radios","browse"],ut=function(){const e=localStorage.getItem("frontend.settings.menu_items"),a=e?e.split(","):rt,n=[];return a.includes("home")&&n.push({label:"home",icon:"mdi-home-outline",path:"/home",isLibraryNode:!1}),a.includes("search")&&n.push({label:"search",icon:"mdi-magnify",path:"/search",isLibraryNode:!1}),a.includes("artists")&&n.push({label:"artists",icon:"mdi-account-outline",path:"/artists",isLibraryNode:!0}),a.includes("albums")&&n.push({label:"albums",icon:"mdi-album",path:"/albums",isLibraryNode:!0}),a.includes("tracks")&&n.push({label:"tracks",icon:"mdi-music-note",path:"/tracks",isLibraryNode:!0}),a.includes("playlists")&&n.push({label:"playlists",icon:"mdi-playlist-play",path:"/playlists",isLibraryNode:!0}),a.includes("radios")&&n.push({label:"radios",icon:"mdi-access-point",path:"/radios",isLibraryNode:!0}),a.includes("browse")&&n.push({label:"browse",icon:"mdi-folder-outline",path:"/browse",isLibraryNode:!0}),a.includes("settings")&&n.push({label:"settings.settings",icon:"mdi-cog-outline",path:"/settings",isLibraryNode:!0}),n},gt=Me({__name:"DrawerNavigation",setup(e){const a=te(!1),n=ut();return B(()=>a.value,g=>{g?q.navigationMenuSize=Z("mobile")?250:200:q.navigationMenuSize=55}),(g,t)=>(Y(),F(lt,{ref:"resizeComponent",app:"",permanent:U(Z)("bp1"),rail:!a.value,width:280,"onUpdate:modelValue":t[1]||(t[1]=l=>{a.value=l})},{default:R(()=>[b(K,{style:{height:"55px"},active:!1},{prepend:R(()=>[b(Ae,{class:"logo_icon",size:"40",icon:"$mass"})]),title:R(()=>[st]),_:1}),b(Ue),b(qe,{lines:"one",density:"compact",nav:""},{default:R(()=>[(Y(!0),Ee(ae,null,_e(U(n),l=>(Y(),F(K,{key:l.path,nav:"",density:"compact",height:15,title:g.$t(l.label),"prepend-icon":l.icon,to:l.path},null,8,["title","prepend-icon","to"]))),128))]),_:1}),b(Be,{nav:"",height:15,width:40,style:{position:"relative",float:"right",right:"10px",top:"20px"},ripple:!1,icon:a.value?"mdi-chevron-left":"mdi-chevron-right",title:g.$t("tooltip.show_menu"),onClick:t[0]||(t[0]=Te(l=>a.value=!a.value,["stop"]))},null,8,["icon","title"])]),_:1},8,["permanent","rail"]))}});export{rt as D,lt as V,gt as _,ut as g};
