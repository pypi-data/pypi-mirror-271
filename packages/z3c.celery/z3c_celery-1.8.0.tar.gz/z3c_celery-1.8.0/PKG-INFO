Metadata-Version: 2.1
Name: z3c.celery
Version: 1.8.0
Summary: Integration of Celery 4 with Zope 3.
Home-page: https://github.com/ZeitOnline/z3c.celery
Author: gocept, Zeit Online
Author-email: zon-backend@zeit.de
License: BSD
Keywords: celery Zope transaction
Classifier: Development Status :: 3 - Alpha
Classifier: Framework :: Zope3
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved
Classifier: License :: OSI Approved :: BSD License
Classifier: Natural Language :: English
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: Implementation :: CPython
Classifier: Topic :: Database
Classifier: Topic :: Software Development
Classifier: Topic :: Software Development :: Testing
License-File: LICENSE.txt
Requires-Dist: celery>=4.0.2
Requires-Dist: setuptools
Requires-Dist: transaction
Requires-Dist: zope.app.publication
Requires-Dist: zope.app.wsgi
Requires-Dist: zope.authentication
Requires-Dist: zope.component
Requires-Dist: zope.exceptions
Requires-Dist: zope.interface
Requires-Dist: zope.publisher
Requires-Dist: zope.security
Provides-Extra: test
Requires-Dist: ZODB; extra == "test"
Requires-Dist: pytest; extra == "test"
Requires-Dist: pytest-celery; extra == "test"
Requires-Dist: gocept.pytestlayer; extra == "test"
Requires-Dist: plone.testing; extra == "test"
Requires-Dist: redis; extra == "test"
Requires-Dist: tblib; extra == "test"
Requires-Dist: zope.principalregistry; extra == "test"
Requires-Dist: zope.traversing; extra == "test"
Provides-Extra: layer
Requires-Dist: plone.testing; extra == "layer"

==========
z3c.celery
==========

Integration of Celery 4 with Zope 3.

This package is compatible with Python version 2.7, 3.6 and 3.7.

:Online documentation:
    http://z3ccelery.rtfd.io/

:PyPI page:
    https://pypi.org/project/z3c.celery/

:Issues:
    https://github.com/ZeitOnline/z3c.celery/issues

:Source code:
    https://github.com/ZeitOnline/z3c.celery

:Current change log:
    https://raw.githubusercontent.com/ZeitOnline/z3c.celery/master/CHANGES.rst


=========================
Change log for z3c.celery
=========================

1.8.0 (2024-05-06)
==================

- Also apply "retry on ConflictError" when raised by the task execution itself,
  not only if raised on commit.


1.7.0 (2024-03-22)
==================

- Added support for Python 3.12


1.6.0 (2022-06-23)
==================

- Update to celery 5.x, drop Python-2 support


1.5.0 (2021-11-15)
==================

- Provide JsonFormatter if python-json-logger is installed


1.4.3 (2021-02-26)
==================

- Fix logging setup


1.4.2 (2019-12-12)
==================

- Make HandleAfterAbort compatible with celery-4.1.1 serialization changes


1.4.1 (2019-11-15)
==================

- Annotate transaction with principal and task name, like zope.app.publication


1.4.0 (2019-10-30)
==================

- Set the URL of the (fake) zope request (which is used to set the principal) to
  the task name


1.3.0 (2019-05-22)
==================

- Added support for Python 3.6 and 3.7.


1.2.3 (2018-06-28)
==================

- Add logging for task retry.


1.2.2 (2018-03-23)
==================

- Ensure ZODB connection can be closed, even if execution is aborted in the
  middle of a transaction


1.2.1 (2018-02-02)
==================

- Add bw-compat for persisted tasks that still have a `_task_id_` parameter


1.2.0 (2018-01-23)
==================

- Support task retry


1.1.0 (2017-10-11)
==================

- Make worker process boot timeout configurable


1.0.2 (2017-10-05)
==================

- Also apply "always endInteration" to HandleAfterAbort

- Also apply "retry on ConflictError" to HandleAfterAbort


1.0.1 (2017-10-04)
==================

- Always call endInteraction, even on error during commit or abort,
  so we don't pollute the interaction state for the next task run


1.0 (2017-09-29)
================

- Introduce ``Abort`` control flow exception

- Allow overriding the principal id the job runs as

- Support reading configuration from a filesystem-based (non-importable) python file

- Don't use celery's deprecated default app mechanism

- Support running an actual "celery worker" with the single-process "solo" worker_pool


0.1 (2017-02-21)
================

- Initial release. Extract from zeit.cms.
